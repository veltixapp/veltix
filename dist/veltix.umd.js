(function(Se,K){typeof exports=="object"&&typeof module<"u"?K(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],K):(Se=typeof globalThis<"u"?globalThis:Se||self,K(Se.Veltix={},Se.React,Se.ReactDOM))})(this,function(Se,K,Od){"use strict";function Nd(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:()=>t[r]})}}return e.default=t,Object.freeze(e)}const S=Nd(K),va=Nd(Od);var ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ma={exports:{}},Wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function Xx(){if(jd)return Wo;jd=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,o,i){var a=null;if(i!==void 0&&(a=""+i),o.key!==void 0&&(a=""+o.key),"key"in o){i={};for(var s in o)s!=="key"&&(i[s]=o[s])}else i=o;return o=i.ref,{$$typeof:t,type:n,key:a,ref:o!==void 0?o:null,props:i}}return Wo.Fragment=e,Wo.jsx=r,Wo.jsxs=r,Wo}var Ho={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad;function qx(){return Ad||(Ad=1,process.env.NODE_ENV!=="production"&&function(){function t(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===R?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case h:return"Fragment";case y:return"Profiler";case m:return"StrictMode";case _:return"Suspense";case E:return"SuspenseList";case D:return"Activity"}if(typeof A=="object")switch(typeof A.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),A.$$typeof){case g:return"Portal";case b:return(A.displayName||"Context")+".Provider";case x:return(A._context.displayName||"Context")+".Consumer";case w:var B=A.render;return A=A.displayName,A||(A=B.displayName||B.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case C:return B=A.displayName||null,B!==null?B:t(A.type)||"Memo";case T:B=A._payload,A=A._init;try{return t(A(B))}catch{}}return null}function e(A){return""+A}function r(A){try{e(A);var B=!1}catch{B=!0}if(B){B=console;var Y=B.error,J=typeof Symbol=="function"&&Symbol.toStringTag&&A[Symbol.toStringTag]||A.constructor.name||"Object";return Y.call(B,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",J),e(A)}}function n(A){if(A===h)return"<>";if(typeof A=="object"&&A!==null&&A.$$typeof===T)return"<...>";try{var B=t(A);return B?"<"+B+">":"<...>"}catch{return"<...>"}}function o(){var A=N.A;return A===null?null:A.getOwner()}function i(){return Error("react-stack-top-frame")}function a(A){if(M.call(A,"key")){var B=Object.getOwnPropertyDescriptor(A,"key").get;if(B&&B.isReactWarning)return!1}return A.key!==void 0}function s(A,B){function Y(){F||(F=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",B))}Y.isReactWarning=!0,Object.defineProperty(A,"key",{get:Y,configurable:!0})}function c(){var A=t(this.type);return $[A]||($[A]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),A=this.props.ref,A!==void 0?A:null}function l(A,B,Y,J,X,H,tt,W){return Y=H.ref,A={$$typeof:p,type:A,key:B,props:H,_owner:X},(Y!==void 0?Y:null)!==null?Object.defineProperty(A,"ref",{enumerable:!1,get:c}):Object.defineProperty(A,"ref",{enumerable:!1,value:null}),A._store={},Object.defineProperty(A._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(A,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(A,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:tt}),Object.defineProperty(A,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:W}),Object.freeze&&(Object.freeze(A.props),Object.freeze(A)),A}function u(A,B,Y,J,X,H,tt,W){var q=B.children;if(q!==void 0)if(J)if(O(q)){for(J=0;J<q.length;J++)f(q[J]);Object.freeze&&Object.freeze(q)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else f(q);if(M.call(B,"key")){q=t(A);var it=Object.keys(B).filter(function(U){return U!=="key"});J=0<it.length?"{key: someKey, "+it.join(": ..., ")+": ...}":"{key: someKey}",z[q+J]||(it=0<it.length?"{"+it.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,J,q,it,q),z[q+J]=!0)}if(q=null,Y!==void 0&&(r(Y),q=""+Y),a(B)&&(r(B.key),q=""+B.key),"key"in B){Y={};for(var ot in B)ot!=="key"&&(Y[ot]=B[ot])}else Y=B;return q&&s(Y,typeof A=="function"?A.displayName||A.name||"Unknown":A),l(A,q,H,X,o(),Y,tt,W)}function f(A){typeof A=="object"&&A!==null&&A.$$typeof===p&&A._store&&(A._store.validated=1)}var d=K,p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),R=Symbol.for("react.client.reference"),N=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.prototype.hasOwnProperty,O=Array.isArray,k=console.createTask?console.createTask:function(){return null};d={"react-stack-bottom-frame":function(A){return A()}};var F,$={},V=d["react-stack-bottom-frame"].bind(d,i)(),L=k(n(i)),z={};Ho.Fragment=h,Ho.jsx=function(A,B,Y,J,X){var H=1e4>N.recentlyCreatedOwnerStacks++;return u(A,B,Y,!1,J,X,H?Error("react-stack-top-frame"):V,H?k(n(A)):L)},Ho.jsxs=function(A,B,Y,J,X){var H=1e4>N.recentlyCreatedOwnerStacks++;return u(A,B,Y,!0,J,X,H?Error("react-stack-top-frame"):V,H?k(n(A)):L)}}()),Ho}var Id;function Kx(){return Id||(Id=1,process.env.NODE_ENV==="production"?ma.exports=Xx():ma.exports=qx()),ma.exports}var v=Kx();class Fd{constructor(e=[]){this.components=new Map(e.map(r=>[r.type,r]))}register(e,r){if(this.components.has(e))throw new Error(`Component "${e}" is already registered`);this.components.set(e,r)}get(e){return this.components.get(e)}has(e){return this.components.has(e)}unregister(e){if(!this.components.has(e))throw new Error(`Component "${e}" is not registered`);this.components.delete(e)}getRegisteredNames(){return Array.from(this.components.keys())}clear(){this.components.clear()}all(){return Array.from(this.components.values())}}new Fd;const ya=K.createContext(null),ar=()=>{const t=K.useContext(ya);if(!t)throw new Error("useVeltix must be used within a VeltixProvider");return t},Bd=t=>{let e;const r=new Set,n=(l,u)=>{const f=typeof l=="function"?l(e):l;if(!Object.is(f,e)){const d=e;e=u??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(p=>p(e,d))}},o=()=>e,s={setState:n,getState:o,getInitialState:()=>c,subscribe:l=>(r.add(l),()=>r.delete(l))},c=e=t(n,o,s);return s},Zx=t=>t?Bd(t):Bd,Jx=t=>t;function Qx(t,e=Jx){const r=K.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return K.useDebugValue(r),r}const Ld=t=>{const e=Zx(t),r=n=>Qx(e,n);return Object.assign(r,e),r},Er=t=>t?Ld(t):Ld,zd=Er(t=>({api:null,setApi:e=>t({api:e})})),ie=[];for(let t=0;t<256;++t)ie.push((t+256).toString(16).slice(1));function tb(t,e=0){return(ie[t[e+0]]+ie[t[e+1]]+ie[t[e+2]]+ie[t[e+3]]+"-"+ie[t[e+4]]+ie[t[e+5]]+"-"+ie[t[e+6]]+ie[t[e+7]]+"-"+ie[t[e+8]]+ie[t[e+9]]+"-"+ie[t[e+10]]+ie[t[e+11]]+ie[t[e+12]]+ie[t[e+13]]+ie[t[e+14]]+ie[t[e+15]]).toLowerCase()}let Pc;const eb=new Uint8Array(16);function rb(){if(!Pc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Pc=crypto.getRandomValues.bind(crypto)}return Pc(eb)}const Gd={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function $n(t,e,r){if(Gd.randomUUID&&!t)return Gd.randomUUID();t=t||{};const n=t.random??t.rng?.()??rb();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,tb(n)}const $d=t=>Symbol.iterator in t,Vd=t=>"entries"in t,Wd=(t,e)=>{const r=t instanceof Map?t:new Map(t.entries()),n=e instanceof Map?e:new Map(e.entries());if(r.size!==n.size)return!1;for(const[o,i]of r)if(!Object.is(i,n.get(o)))return!1;return!0},nb=(t,e)=>{const r=t[Symbol.iterator](),n=e[Symbol.iterator]();let o=r.next(),i=n.next();for(;!o.done&&!i.done;){if(!Object.is(o.value,i.value))return!1;o=r.next(),i=n.next()}return!!o.done&&!!i.done};function ob(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e)?!1:$d(t)&&$d(e)?Vd(t)&&Vd(e)?Wd(t,e):nb(t,e):Wd({entries:()=>Object.entries(t)},{entries:()=>Object.entries(e)})}function Oc(t){const e=K.useRef(void 0);return r=>{const n=t(r);return ob(e.current,n)?e.current:e.current=n}}const ib={id:$n(),title:"Untitled",docs:[{id:$n(),title:"Page 1",nodes:[]}]},Nt=Er((t,e)=>({json:ib,initialize:r=>t({json:r}),update:r=>t(n=>({json:n.json?{...n.json,...r}:void 0})),addDoc:r=>t(n=>n.json?{json:{...n.json,docs:[...n.json.docs,r]}}:{json:void 0}),removeDoc:r=>t(n=>n.json?{json:{...n.json,docs:n.json.docs.filter(o=>o.id!==r)}}:{json:void 0}),updateDoc:(r,n)=>t(o=>{if(!o.json)return{json:void 0};const i=o.json.docs.map(a=>a.id===r?{...a,...n}:a);return{json:{...o.json,docs:i}}}),getDoc:r=>{const n=e();if(n.json)return n.json.docs.find(o=>o.id===r)},updateNode:(r,n,o)=>t(i=>{if(!i.json)return{json:void 0};const a=c=>c.map(l=>l.id===n?{...l,...o}:l.children&&l.children.length>0?{...l,children:a(l.children)}:l),s=i.json.docs.map(c=>c.id!==r?c:{...c,nodes:a(c.nodes)});return{json:{...i.json,docs:s}}}),createNode:(r,n)=>t(o=>{if(!o.json)return{json:void 0};const i=o.json.docs.map(a=>a.id!==r?a:{...a,nodes:[...a.nodes,n]});return{json:{...o.json,docs:i}}}),removeNode:(r,n)=>t(o=>{if(!o.json)return{json:void 0};const i=s=>s.filter(c=>c.id===n?!1:(c.children&&c.children.length>0&&(c.children=i(c.children)),!0)),a=o.json.docs.map(s=>s.id!==r?s:{...s,nodes:i(s.nodes)});return{json:{...o.json,docs:a}}}),cloneNode:(r,n)=>t(o=>{if(!o.json)return{json:void 0};const i=u=>{for(const f of u){if(f.id===n)return f;if(f.children&&f.children.length>0){const d=i(f.children);if(d)return d}}return null},a=o.json.docs.find(u=>u.id===r);if(!a)return{json:o.json};const s=i(a.nodes);if(!s)return{json:o.json};const c={...s,id:`${s.type}-${$n().substring(0,8)}`,position:{...s.position,top:s.position.top+20,left:s.position.left+20}},l=o.json.docs.map(u=>u.id!==r?u:{...u,nodes:[...u.nodes,c]});return{json:{...o.json,docs:l}}}),reorderNode:(r,n,o,i=[])=>t(a=>{if(!a.json)return{json:void 0};const s=(l,u)=>{if(u.length===0){const p=[...l],[g]=p.splice(n,1);return p.splice(o,0,g),p}const[f,...d]=u;return l.map((p,g)=>{if(g!==f)return p;const h=p.children||[];return{...p,children:s(h,d)}})},c=a.json.docs.map(l=>l.id!==r?l:{...l,nodes:s(l.nodes,i)});return{json:{...a.json,docs:c}}}),getNode:(r,n)=>{const o=e();if(!o.json)return;const i=o.json.docs.find(a=>a.id===r);if(i)return i.nodes.find(a=>a.id===n)},addNode:r=>t(n=>{if(!n.json||!n.json.docs.length)return{json:void 0};const o=n.json.docs[0],i=n.json.docs.map(a=>a.id!==o.id?a:{...a,nodes:[...a.nodes,r]});return{json:{...n.json,docs:i}}}),getWidget:r=>{const n=e();return!n.json||!n.json.docs.length?void 0:n.json.docs[0].nodes.find(i=>i.id===r)},createElementByComponent:r=>{const n={id:`${r.type}-${$n().substring(0,8)}`,type:r.type,title:r.title,position:{top:100,left:100,width:120,height:80,...r.defaultProps?.position||{}}};e().addNode(n)}})),ab=t=>Nt(Oc(e=>{if(!e.json)return[];const r=e.json.docs.find(n=>n.id===t);return r?r.nodes:[]})),sb=(t=40)=>{const e=ar();return Nt(Oc(r=>{if(!r.json||!r.json.docs.length)return{totalWidth:0,totalGap:0,combinedWidth:0};const n=r.json.docs,o=n.reduce((a,s)=>a+(s.width||e.config.doc?.width),0),i=n.length>1?(n.length-1)*t:0;return{totalWidth:o,totalGap:i,combinedWidth:o+i}}))},cb=()=>{const t=ar();return Nt(Oc(e=>{if(!e.json||!e.json.docs.length)return{totalWidth:0,totalGap:0,combinedWidth:0};const r=e.json.docs,n=r.reduce((a,s)=>a+(s.width||t.config.doc.width),0),o=Math.max(...r.map(a=>a.height||t.config.doc.height||0)),i=r.length>1?(r.length-1)*40:0;return{width:n+i,height:o}}))},Nc=Er((t,e)=>{const r=()=>{const{unsubscribe:n}=e();n&&n();const o=Nt.subscribe(()=>{e().projectId&&!e().isInitialLoad&&e().markForSave(),e().isInitialLoad&&t({isInitialLoad:!1})});t({unsubscribe:o})};return{status:"idle",lastSaved:null,error:null,pendingSave:!1,saveTimeout:null,projectId:null,unsubscribe:null,isInitialLoad:!0,watch:n=>{t({projectId:n}),r()},markForSave:()=>{const{saveTimeout:n,pendingSave:o}=e();if(o)return;n&&clearTimeout(n);const i=setTimeout(()=>{e().saveNow()},2e3);t({pendingSave:!0,saveTimeout:i,status:"idle"})},saveNow:async()=>{const{projectId:n,saveTimeout:o}=e(),{api:i}=zd.getState(),a=Nt.getState().json;if(!(!n||!a||!i)){o&&clearTimeout(o),t({status:"saving",saveTimeout:null});try{await i.updateProject(n,a),t({status:"saved",lastSaved:new Date,pendingSave:!1,error:null}),setTimeout(()=>{t(s=>s.status==="saved"?{status:"idle"}:{})},3e3)}catch(s){t({status:"error",pendingSave:!1,error:s})}}},clearSaveState:()=>{const{saveTimeout:n,unsubscribe:o}=e();n&&clearTimeout(n),o&&o(),t({status:"idle",pendingSave:!1,saveTimeout:null,error:null,unsubscribe:null,isInitialLoad:!0})}}});function kc(t,e){let r;try{r=t()}catch{return}return{getItem:o=>{var i;const a=c=>c===null?null:JSON.parse(c,void 0),s=(i=r.getItem(o))!=null?i:null;return s instanceof Promise?s.then(a):a(s)},setItem:(o,i)=>r.setItem(o,JSON.stringify(i,void 0)),removeItem:o=>r.removeItem(o)}}const jc=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return jc(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return jc(n)(r)}}}},Hd=(t,e)=>(r,n,o)=>{let i={storage:kc(()=>localStorage),partialize:h=>h,version:0,merge:(h,m)=>({...m,...h}),...e},a=!1;const s=new Set,c=new Set;let l=i.storage;if(!l)return t((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...h)},n,o);const u=()=>{const h=i.partialize({...n()});return l.setItem(i.name,{state:h,version:i.version})},f=o.setState;o.setState=(h,m)=>{f(h,m),u()};const d=t((...h)=>{r(...h),u()},n,o);o.getInitialState=()=>d;let p;const g=()=>{var h,m;if(!l)return;a=!1,s.forEach(x=>{var b;return x((b=n())!=null?b:d)});const y=((m=i.onRehydrateStorage)==null?void 0:m.call(i,(h=n())!=null?h:d))||void 0;return jc(l.getItem.bind(l))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate){const b=i.migrate(x.state,x.version);return b instanceof Promise?b.then(w=>[!0,w]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var b;const[w,_]=x;if(p=i.merge(_,(b=n())!=null?b:d),r(p,!0),w)return u()}).then(()=>{y?.(p,void 0),p=n(),a=!0,c.forEach(x=>x(p))}).catch(x=>{y?.(void 0,x)})};return o.persist={setOptions:h=>{i={...i,...h},h.storage&&(l=h.storage)},clearStorage:()=>{l?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:h=>(s.add(h),()=>{s.delete(h)}),onFinishHydration:h=>(c.add(h),()=>{c.delete(h)})},i.skipHydration||g(),p||d},Ce=Er()(Hd(t=>({selectedTargets:[],zoom:1,isPinching:!1,isDragging:!1,position:{x:0,y:0},spacePressed:!1,dragStart:{x:0,y:0},isTouchPadDragging:!1,cursorMode:"arrow",guidesSize:20,showHorizontalGuides:!0,showVerticalGuides:!0,horizontalGuides:[],verticalGuides:[],mode:"select",setSelectedTargets:e=>t({selectedTargets:e}),setZoom:e=>t({zoom:e}),zoomIn:()=>t(e=>({zoom:Math.min(e.zoom+.1,3)})),zoomOut:()=>t(e=>({zoom:Math.max(e.zoom-.1,.1)})),resetZoom:()=>t({zoom:1}),setPinching:e=>t({isPinching:e}),handlePinch:e=>t(r=>({zoom:Math.max(.1,Math.min(3,r.zoom*e))})),setDragging:e=>t({isDragging:e}),setCanvasState:e=>t(r=>({...r,...e})),setSpacePressed:e=>t({spacePressed:e}),setDragStart:e=>t({dragStart:e}),setIsTouchPadDragging:e=>t({isTouchPadDragging:e}),setCursorMode:e=>t({cursorMode:e}),setMode:e=>t({mode:e}),toggleHorizontalGuides:()=>t(e=>({showHorizontalGuides:!e.showHorizontalGuides})),toggleVerticalGuides:()=>t(e=>({showVerticalGuides:!e.showVerticalGuides})),setHorizontalGuides:e=>t({horizontalGuides:e}),setVerticalGuides:e=>t({verticalGuides:e}),checkBlur:()=>{const e=document.activeElement;e&&e.blur();const r=document.getSelection();r&&r.removeAllRanges()},setSelectedTargetsElements:async(e,r=!1,n,o)=>{console.log("isRestore",r),e=e.filter(a=>e.every(s=>s===a||!s.contains(a)));const i=e.map(a=>a.dataset.scenaElementId);return t({selectedTargets:i}),o&&o.setSelectedTargets(e),n&&n.setSelectedTargets(e),e},selectEndMaker:(e,r)=>{if(!r)return!1;const n=r.getSelected?.(),o=e.width,i=e.height;return!(!n||!n.maker||!o||!i)},toggleGuides:()=>{t(e=>({showHorizontalGuides:!e.showHorizontalGuides,showVerticalGuides:!e.showVerticalGuides}))},setIsDragging(e){t({isDragging:e})}}),{name:"canvas",storage:kc(()=>localStorage),partialize:t=>({})})),Yd=Er((t,e)=>({contributes:{},initialized:!1,create:r=>{if(e().initialized||!r?.viewsContainers)return;const n=r.viewsContainers??{},o={};for(const i of Object.keys(n)){const a=n[i]??[];o[i]=a.sort((s,c)=>(s.order??0)-(c.order??0))}t({contributes:o,initialized:!0})},get:r=>e().contributes[r]??[],add:(r,n)=>{const i=[...(e().contributes[r]??[]).filter(a=>a.id!==n.id),n];t(a=>({contributes:{...a.contributes,[r]:i.sort((s,c)=>(s.order??0)-(c.order??0))}}))},remove:(r,n)=>{const o=e().contributes[r]??[];t(i=>({contributes:{...i.contributes,[r]:o.filter(a=>a.id!==n)}}))},clear:()=>t({contributes:{},initialized:!1})}));class lb{constructor(){this.map=new Map}get(e){return this.map.get(e)}set(e,r){return this.map.set(e,r)}clear(){this.map.clear()}}var Ud="rgb",Ac="rgba",Xd="hsl",qd="hsla",ub=[Ud,Ac,Xd,qd],Yo="function",xa="property",Ic="array",Uo="object",Kd="string",Zd="number",Xo="undefined",ba=typeof window!==Xo,pn=typeof document!==Xo&&document,Jd=["webkit","ms","moz","o"],Fc=function(t){if(!pn)return"";var e=(pn.body||pn.documentElement).style,r=Jd.length;if(typeof e[t]!==Xo)return t;for(var n=0;n<r;++n){var o="-"+Jd[n]+"-"+t;if(typeof e[o]!==Xo)return o}return""},Qd=Fc("transform"),Bc=Fc("filter"),qo=Fc("animation"),fb=qo.replace("animation","keyframes"),db=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Xt=1e-7,wa={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,e){return t*e/100},vw:function(t,e){return e===void 0&&(e=window.innerWidth),t/100*e},vh:function(t,e){return e===void 0&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return e===void 0&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return e===void 0&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function pb(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function Vn(t,e,r,n){return(t*n+e*r)/(r+n)}function Ue(t){return typeof t===Xo}function zt(t){return t&&typeof t===Uo}function Dt(t){return Array.isArray(t)}function Bt(t){return typeof t===Kd}function Ko(t){return typeof t===Zd}function ye(t){return typeof t===Yo}function hb(t,e){var r=t===""||t==" ",n=e===""||e==" ";return n&&r||t===e}function tp(t,e,r,n,o){var i=Lc(t,e,r);return i?r:vb(t,e,r+1,n,o)}function Lc(t,e,r){if(!t.ignore)return null;var n=e.slice(Math.max(r-3,0),r+3).join("");return new RegExp(t.ignore).exec(n)}function vb(t,e,r,n,o){for(var i=function(l){var u=e[l].trim();if(u===t.close&&!Lc(t,e,l))return{value:l};var f=l,d=xe(o,function(p){var g=p.open;return g===u});if(d&&(f=tp(d,e,l,n,o)),f===-1)return a=l,"break";l=f,a=l},a,s=r;s<n;++s){var c=i(s);if(s=a,typeof c=="object")return c.value;if(c==="break")break}return-1}function Zo(t,e){var r=Bt(e)?{separator:e}:e,n=r.separator,o=n===void 0?",":n,i=r.isSeparateFirst,a=r.isSeparateOnlyOpenClose,s=r.isSeparateOpenClose,c=s===void 0?a:s,l=r.openCloseCharacters,u=l===void 0?db:l,f=u.map(function(C){var T=C.open,D=C.close;return T===D?T:T+"|"+D}).join("|"),d="(\\s*"+o+"\\s*|"+f+"|\\s+)",p=new RegExp(d,"g"),g=t.split(p).filter(function(C){return C&&C!=="undefined"}),h=g.length,m=[],y=[];function x(){return y.length?(m.push(y.join("")),y=[],!0):!1}for(var b=function(C){var T=g[C].trim(),D=C,R=xe(u,function(O){var k=O.open;return k===T}),N=xe(u,function(O){var k=O.close;return k===T});if(R){if(D=tp(R,g,C,h,u),D!==-1&&c)return x()&&i||(m.push(g.slice(C,D+1).join("")),C=D,i)?(w=C,"break"):(w=C,"continue")}else if(N&&!Lc(N,g,C)){var M=pb(u);return M.splice(u.indexOf(N),1),{value:Zo(t,{separator:o,isSeparateFirst:i,isSeparateOnlyOpenClose:a,isSeparateOpenClose:c,openCloseCharacters:M})}}else if(hb(T,o)&&!a)return x(),i?(w=C,"break"):(w=C,"continue");D===-1&&(D=h-1),y.push(g.slice(C,D+1).join("")),C=D,w=C},w,_=0;_<h;++_){var E=b(_);if(_=w,typeof E=="object")return E.value;if(E==="break")break}return y.length&&m.push(y.join("")),m}function _r(t){return Zo(t,"")}function Ne(t){return Zo(t,",")}function Sa(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function sr(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var r=e[1],n=e[2],o=e[3];return{prefix:r,unit:o,value:parseFloat(n)}}function Wn(t){return t.replace(/[\s-_]+([^\s-_])/g,function(e,r){return r.toUpperCase()})}function zc(t,e){return e===void 0&&(e="-"),t.replace(/([a-z])([A-Z])/g,function(r,n,o){return""+n+e+o.toLowerCase()})}function Gc(t){return[].slice.call(t)}function Jo(){return Date.now?Date.now():new Date().getTime()}function cr(t,e,r){r===void 0&&(r=-1);for(var n=t.length,o=0;o<n;++o)if(e(t[o],o,t))return o;return r}function xe(t,e,r){var n=cr(t,e);return n>-1?t[n]:r}var Ca=function(){var t=Jo(),e=ba&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(r){var n=Jo(),o=setTimeout(function(){r(n-t)},1e3/60);return o}}(),ep=function(){var t=ba&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(e){clearTimeout(e)}}();function ke(t){return Object.keys(t)}function Qo(t,e){e===void 0&&(e=[]),t.sort(function(r,n){var o=e.indexOf(r),i=e.indexOf(n);return i===-1&&o===-1?0:o===-1?1:i===-1?-1:o-i})}function Pt(t,e){var r=sr(t),n=r.value,o=r.unit;if(zt(e)){var i=e[o];if(i){if(ye(i))return i(n);if(wa[o])return wa[o](n,i)}}else if(o==="%")return n*e/100;return wa[o]?wa[o](n):n}function ti(t,e,r){return Math.max(e,Math.min(t,r))}function rp(t,e,r,n){return n===void 0&&(n=t[0]/t[1]),[[ht(e[0],Xt),ht(e[0]/n,Xt)],[ht(e[1]*n,Xt),ht(e[1],Xt)]].filter(function(o){return o.every(function(i,a){var s=e[a],c=ht(s,Xt);return r?i<=s||i<=c:i>=s||i>=c})})[0]||t}function $c(t,e,r,n){if(!n)return t.map(function(p,g){return ti(p,e[g],r[g])});var o=t[0],i=t[1],a=n===!0?o/i:n,s=rp(t,e,!1,a),c=s[0],l=s[1],u=rp(t,r,!0,a),f=u[0],d=u[1];return o<c||i<l?(o=c,i=l):(o>f||i>d)&&(o=f,i=d),[o,i]}function gb(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return r}function Vc(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return e?r/e:0}function Ht(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=Math.atan2(n,r);return o>=0?o:o+Math.PI*2}function mb(t){return[0,1].map(function(e){return Vc(t.map(function(r){return r[e]}))})}function np(t){var e=mb(t),r=Ht(e,t[0]),n=Ht(e,t[1]);return r<n&&n-r<Math.PI||r>n&&n-r<-Math.PI?1:-1}function lr(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function ht(t,e){if(!e)return t;var r=1/e;return Math.round(t/e)/r}function op(t,e){return t.forEach(function(r,n){t[n]=ht(t[n],e)}),t}function yb(t){for(var e=[],r=0;r<t;++r)e.push(r);return e}function xb(t){return t.reduce(function(e,r){return e.concat(r)},[])}function bb(t){return t.replace("#","")}function ip(t){var e=bb(t),r=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4,6),16),i=parseInt(e.substring(6,8),16)/255;return isNaN(i)&&(i=1),[r,n,o,i]}function wb(t){var e=t.charAt(1),r=t.charAt(2),n=t.charAt(3),o=t.charAt(4),i=["#",e,e,r,r,n,n,o,o];return i.join("")}function Sb(t){var e,r=t[0],n=t[1],o=t[2];r<0&&(r+=Math.floor((Math.abs(r)+360)/360)*360),r%=360;var i=(1-Math.abs(2*o-1))*n,a=i*(1-Math.abs(r/60%2-1)),s=o-i/2,c;return r<60?c=[i,a,0]:r<120?c=[a,i,0]:r<180?c=[0,i,a]:r<240?c=[0,a,i]:r<300?c=[a,0,i]:r<360?c=[i,0,a]:c=[0,0,0],[Math.round((c[0]+s)*255),Math.round((c[1]+s)*255),Math.round((c[2]+s)*255),(e=t[3])!==null&&e!==void 0?e:1]}function ap(t){if(t.charAt(0)==="#")return t.length===4||t.length===5?ip(wb(t)):ip(t);if(t.indexOf("(")!==-1){var e=Sa(t),r=e.prefix,n=e.value;if(!r||!n)return;var o=Ne(n),i=[0,0,0,1],a=o.length;switch(r){case Ud:case Ac:for(var s=0;s<a;++s)i[s]=parseFloat(o[s]);return i;case Xd:case qd:for(var s=0;s<a;++s)o[s].indexOf("%")!==-1?i[s]=parseFloat(o[s])/100:i[s]=parseFloat(o[s]);return Sb(i)}}}function Ea(t,e){return pn?e?pn.querySelectorAll(t):pn.querySelector(t):e?[]:null}function Yt(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function ei(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function Hn(t,e){if(t.classList)t.classList.remove(e);else{var r=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(r," ")}}function Cb(t,e){if(!t||!e||!e.length)return{};var r;if(t instanceof Element)r=t;else if(t.length)r=t[0];else return{};for(var n={},o=Ee(r).getComputedStyle(r),i=e.length,a=0;a<i;++a)n[e[a]]=o[e[a]];return n}function Lt(t,e,r,n){t.addEventListener(e,r,n)}function kt(t,e,r,n){t.removeEventListener(e,r,n)}function Xe(t){return t?.ownerDocument||pn}function Wc(t){return Xe(t).documentElement}function Ar(t){return Xe(t).body}function Ee(t){var e;return((e=t?.ownerDocument)===null||e===void 0?void 0:e.defaultView)||window}function sp(t){return t&&"postMessage"in t&&"blur"in t&&"self"in t}function ri(t){return zt(t)&&t.nodeName&&t.nodeType&&"ownerDocument"in t}/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var Hc=function(){return Hc=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Hc.apply(this,arguments)};function Eb(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}var Ir=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(r,n){if(zt(r))for(var o in r)this.on(o,r[o]);else this._addEvent(r,n,{});return this},e.off=function(r,n){if(!r)this._events={};else if(zt(r))for(var o in r)this.off(o);else if(!n)this._events[r]=[];else{var i=this._events[r];if(i){var a=cr(i,function(s){return s.listener===n});a>-1&&i.splice(a,1)}}return this},e.once=function(r,n){var o=this;return n&&this._addEvent(r,n,{once:!0}),new Promise(function(i){o._addEvent(r,i,{once:!0})})},e.emit=function(r,n){var o=this;n===void 0&&(n={});var i=this._events[r];if(!r||!i)return!0;var a=!1;return n.eventType=r,n.stop=function(){a=!0},n.currentTarget=this,Eb(i).forEach(function(s){s.listener(n),s.once&&o.off(r,s.listener)}),!a},e.trigger=function(r,n){return n===void 0&&(n={}),this.emit(r,n)},e._addEvent=function(r,n,o){var i=this._events;i[r]=i[r]||[];var a=i[r];a.push(Hc({listener:n},o))},t}();/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function _b(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tb(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Yc(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Tb(arguments[e]));return t}var ni=function(t){return typeof t>"u"},cp=function(){function t(r,n){var o,i;if(this._canceled=!1,n)try{for(var a=_b(Object.keys(n)),s=a.next();!s.done;s=a.next()){var c=s.value;this[c]=n[c]}}catch(l){o={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}this.eventType=r}var e=t.prototype;return e.stop=function(){this._canceled=!0},e.isCanceled=function(){return this._canceled},t}(),Db=function(){function t(){this._eventHandler={}}var e=t.prototype;return e.trigger=function(r){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=r instanceof cp?r.eventType:r,a=Yc(this._eventHandler[i]||[]);return a.length<=0?this:(r instanceof cp?(r.currentTarget=this,a.forEach(function(s){s(r)})):a.forEach(function(s){s.apply(void 0,Yc(n))}),this)},e.once=function(r,n){var o=this;if(typeof r=="object"&&ni(n)){var i=r;for(var a in i)this.once(a,i[a]);return this}else if(typeof r=="string"&&typeof n=="function"){var s=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];n.apply(void 0,Yc(c)),o.off(r,s)};this.on(r,s)}return this},e.hasOn=function(r){return!!this._eventHandler[r]},e.on=function(r,n){if(typeof r=="object"&&ni(n)){var o=r;for(var i in o)this.on(i,o[i]);return this}else if(typeof r=="string"&&typeof n=="function"){var a=this._eventHandler[r];ni(a)&&(this._eventHandler[r]=[],a=this._eventHandler[r]),a.push(n)}return this},e.off=function(r,n){if(ni(r))return this._eventHandler={},this;if(ni(n)){if(typeof r=="string")return delete this._eventHandler[r],this;var o=r;for(var i in o)this.off(i,o[i]);return this}var a=this._eventHandler[r];if(a){for(var s=a.length,c=0;c<s;++c)if(a[c]===n){a.splice(c,1),s<=1&&delete this._eventHandler[r];break}}return this},t.VERSION="3.0.5",t}();function lp(t){return Object.keys(t)}function Rb(t){return typeof t=="object"}function Mb(t){return typeof t=="function"}var Uc="__observers__",Pb="__computed__",Xc=1,qc="__CFCS_DETECTED_DEPENDENCIES__",Kc=function(t,e){return Kc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Kc(t,e)};function Ob(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Kc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Zc(){Object[qc]=Object[qc]||{};var t=Object[qc];return t[Xc]=t[Xc]||[],t[Xc]}function Nb(){var t=Zc();return t[t.length-1]}function kb(t){var e=Zc(),r=[],n={host:t,observers:r,push:function(o){t!==o&&r.indexOf(o)===-1&&r.push(o)}};return e.push(n),n}function jb(){var t=Zc();return t.pop()}var up=function(){function t(r){this._emitter=new Db,this._current=r}var e=t.prototype;return Object.defineProperty(e,"current",{get:function(){var r=Nb();return r?.push(this),this._current},set:function(r){this._setCurrent(r)},enumerable:!1,configurable:!0}),e.subscribe=function(r){return this.current,this._emitter.on("update",r),this},e.unsubscribe=function(r){return this._emitter.off("update",r),this},e._setCurrent=function(r){var n=this._current,o=r!==n;this._current=r,o&&this._emitter.trigger("update",r,n)},e.toString=function(){return"".concat(this.current)},e.valueOf=function(){return this.current},t}(),Ab=function(t){Ob(e,t);function e(n){var o=t.call(this)||this;return o._computedCallback=n,o._registered=[],o._onCheckUpdate=function(){o._setCurrent(o.current)},o._current=o.current,o}var r=e.prototype;return Object.defineProperty(r,"current",{get:function(){var n=this;kb(this);var o=this._computedCallback(),i=jb();return this._registered.forEach(function(a){a.unsubscribe(n._onCheckUpdate)}),i.observers.forEach(function(a){a.subscribe(n._onCheckUpdate)}),this._registered=i.observers,o},enumerable:!1,configurable:!0}),e}(up);function fp(t,e,r){r===void 0&&(r=e);var n={configurable:!0,get:function(){return ii(this,r).current},set:function(o){ii(this,r,o).current=o}};Object.defineProperty(t,e,n),r!==e&&Object.defineProperty(t,r,{configurable:!0,get:function(){return ii(this,r).current}})}function Ib(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length>1?fp(t[0],t[1]):function(r,n){return fp(r,n,t[0])}}function Fb(t){t.subscribe=function(e,r){this[e],ii(this,e).subscribe(r)},t.unsubscribe=function(e,r){var n=this;if(!e){lp(Qc(this)).forEach(function(o){n.unsubscribe(o)});return}e in this&&ii(this,e).unsubscribe(r)}}function dp(t,e){var r=Mb(t)?t():t,n={};return pp(n),lp(r).forEach(function(o){var i=r[o];vp(i)?hp(n,o,i):hp(n,o,oi(i)),Ib(o)(n,o)}),Fb(n),n}function Bb(t){return dp(t)}function Lb(t){return dp(t)}function oi(t){return new up(t)}function Jc(t){return new Ab(t)}function pp(t){var e={};return Object.defineProperty(t,Uc,{get:function(){return e}}),e}function Qc(t,e){var r,n;t[Uc]||pp(t);var o=t[Uc];{var i=(n=(r=t?.constructor)===null||r===void 0?void 0:r.prototype)===null||n===void 0?void 0:n[Pb];i&&i.forEach(function(a){!(a in o)&&a in t&&t[a]})}return o}function ii(t,e,r){var n=Qc(t);return n[e]||(n[e]=oi(r)),n[e]}function hp(t,e,r){var n=Qc(t);n[e]=r}function vp(t){return t&&Rb(t)&&"current"in t&&"subscribe"in t&&"unsubscribe"in t}function Tr(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var Yn=function(){function t(e){this.separator=e,this.orderMap={}}return t.prototype.getFullName=function(e){return e.join(this.separator)},t.prototype.get=function(e){return this.orderMap[this.getFullName(e)]},t.prototype.hasName=function(e){var r=e.length;if(!r)return!1;var n=e[r-1],o=this.get(e.slice(0,r-1));return o?o.indexOf(n)>=0:!1},t.prototype.gets=function(e,r){r===void 0&&(r=!0);var n=[],o=this;function i(a,s){var c=o.get(a);if(c)return c.forEach(function(l){var u=Tr(Tr([],s,!0),[l],!1),f=i(Tr(Tr([],a,!0),[l],!1),u);(!f||!f.length)&&n.push(Tr(Tr([],s,!0),[l],!1))}),c}return i(e,r?e:[]),n},t.prototype.set=function(e,r){var n=this;return e.forEach(function(o,i){n.addName(e.slice(0,i),o)}),this.orderMap[this.getFullName(e)]=r,r},t.prototype.add=function(e){var r=e.length;return r?this.addName(e.slice(0,-1),e[r-1]):[]},t.prototype.addName=function(e,r){var n=this.get(e)||this.set(e,[]);return n.indexOf(r)===-1&&n.push(r),n},t.prototype.findIndex=function(e,r){var n=this.orderMap[this.getFullName(e)];return n?n.indexOf(r):-1},t.prototype.remove=function(e){var r=this.getFullName(e),n=this.orderMap;for(var o in n)o.indexOf(r)===0&&delete n[o];var i=e.length;if(i){var a=e.slice(0,-1),s=e[i-1];this.splice(a,this.findIndex(a,s),1)}return this},t.prototype.filter=function(e,r,n){n===void 0&&(n=!0);var o=this.gets(e,n).filter(r),i=new t(this.separator),a=n?[]:e;return o.forEach(function(s){i.add(Tr(Tr([],a,!0),s,!0))}),i},t.prototype.splice=function(e,r,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=this.get(e)||this.set(e,[]);return a.splice.apply(a,Tr([r,n],o,!1)),this},t.prototype.clear=function(){this.orderMap={}},t.prototype.setObject=function(e){var r=this.orderMap;for(var n in e)r[n]=e[n].slice()},t.prototype.getObject=function(){var e={},r=this.orderMap;for(var n in r)e[n]=r[n].slice();return e},t.prototype.clone=function(){var e=new t(this.separator);return e.setObject(e.orderMap),e},t}();function zb(t){for(var e=5381,r=t.length;r;)e=e*33^t.charCodeAt(--r);return e>>>0}var Gb=zb;function $b(t){return Gb(t).toString(36)}function Vb(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function Wb(t,e,r){return r.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,o){var i=o.trim();return(i?Ne(i):[""]).map(function(a){var s=a.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?"".concat(s.replace(/\:host/g,".".concat(t))):s?".".concat(t," ").concat(s):".".concat(t)}).join(", ")+" {"})}function Hb(t,e,r,n,o){var i=Xe(n),a=i.createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",t),a.setAttribute("data-styled-count","1"),r.nonce&&a.setAttribute("nonce",r.nonce),a.innerHTML=Wb(t,e,r),(o||i.head||i.body).appendChild(a),a}function _a(t){var e="rCS"+$b(t);return{className:e,inject:function(r,n){n===void 0&&(n={});var o=Vb(r),i=(o||r.ownerDocument||document).querySelector('style[data-styled-id="'.concat(e,'"]'));if(!i)i=Hb(e,t,n,r,o);else{var a=parseFloat(i.getAttribute("data-styled-count"))||0;i.setAttribute("data-styled-count","".concat(a+1))}return{destroy:function(){var s,c=parseFloat(i.getAttribute("data-styled-count"))||0;c<=1?(i.remove?i.remove():(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=null):i.setAttribute("data-styled-count","".concat(c-1))}}}}}var tl=function(t,e){return tl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},tl(t,e)};function Ta(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");tl(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ai=function(){return ai=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ai.apply(this,arguments)};function Yb(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,r,i):a(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function jt(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function gp(t,e,r){var n=1-r;return r*r*r+3*r*r*n*e+3*r*n*n*t}function Ub(t,e,r){for(var n=r,o=r,i=1;Math.abs(i)>1/1e3;){if(o=gp(t,e,n),i=o-r,Math.abs(i)<1/1e3)return n;n-=i/2}return n}function hn(t,e,r,n){var o=function(i){var a=Ub(t,r,ti(i,0,1));return gp(e,n,a)};return o.easingName="cubic-bezier(".concat(t,",").concat(e,",").concat(r,",").concat(n,")"),o}function el(t,e){var r=function(n){var o=1/t;return n>=1?1:(e==="start"?o:0)+Math.floor(n/o)*o};return r.easingName="steps(".concat(t,", ").concat(e,")"),r}var Xb=el(1,"start"),qb=el(1,"end"),Kb=hn(0,0,1,1),Zb=hn(.25,.1,.25,1),Jb=hn(.42,0,1,1),Qb=hn(0,0,.58,1),tw=hn(.42,0,.58,1),si,mp="__SCENEJS_",yp="data-scene-id",Fr="animation-timing-function",xp={transform:{},filter:{},attribute:{},html:!0},Da={easing:[Fr]},ew=(si={},si[Fr]=!0,si.contents=!0,si.html=!0,si),bp=1e6,ci=1e-6,ur="duration",Ra="fillMode",li="direction",qe="iterationCount",je="delay",ui="easing",Br="playSpeed",Un="easingName",rw="iterationTime",vn="paused",wp="ended",nw="timeupdate",Sp="play",fi="running",Ma="iteration",Xn="startAnimation",Pa="pauseAnimation",rl="alternate",Cp="reverse",nl="alternate-reverse",ow="normal",di="infinite",Lr="playState",ol="playCSS",il="prevTime",zr="tickTime",Oa="currentTime",Ae="selector",Ep="transform",_p={linear:Kb,ease:Zb,"ease-in":Jb,"ease-out":Qb,"ease-in-out":tw,"step-start":Xb,"step-end":qb},gn="_///_",iw=[ur,Ra,li,qe,je,ui,Br],qn=function(){function t(e,r){this.prefix="",this.suffix="",this.model="",this.type="",this.separator=",",r&&this.setOptions(r),this.value=Bt(e)?e.split(this.separator):e}return t.prototype.setOptions=function(e){for(var r in e)this[r]=e[r];return this},t.prototype.size=function(){return this.value.length},t.prototype.get=function(e){return this.value[e]},t.prototype.set=function(e,r){return this.value[e]=r,this},t.prototype.clone=function(){var e=this,r=e.separator,n=e.prefix,o=e.suffix,i=e.model,a=e.type,s=this.value.map(function(c){return Jn(c)?c.clone():c});return new t(s,{separator:r,prefix:n,suffix:o,model:i,type:a})},t.prototype.toValue=function(){return this.prefix+this.join()+this.suffix},t.prototype.join=function(){return this.value.map(function(e){return Jn(e)?e.toValue():e}).join(this.separator)},t.prototype.forEach=function(e){return this.value.forEach(e),this},t}();function aw(t){for(var e=Zo(t,";"),r={},n=e.length,o=n,i=0;i<n;++i){var a=Zo(e[i],":");if(a.length<2||!a[1]){--o;continue}r[a[0].trim()]=fr(a[1].trim())}return{styles:r,length:o}}function Tp(t){var e=Ac;return t.length===3&&(t[3]=1),new qn(t,{model:e,separator:",",type:"color",prefix:"".concat(e,"("),suffix:")"})}function sw(t){var e=Sa(t),r=e.prefix,n=e.value,o=e.suffix;if(typeof n>"u")return t;if(ub.indexOf(r)>-1)return Tp(ap(t));var i=fr(n,r),a=[n],s=",",c="".concat(r,"("),l=")".concat(o);return Jn(i)&&(s=i.separator,a=i.value,c+=i.prefix,l=i.suffix+l),new qn(a,{separator:s,model:r,prefix:c,suffix:l})}function al(t,e){return new qn(t,{type:"array",separator:e})}function cw(t){var e=ap(t);return e?Tp(e):t}function fr(t,e){if(!Bt(t))return Dt(t)?al(t,","):t;var r=Ne(t);return r.length>1?al(r.map(function(n){return fr(n)}),","):(r=_r(t),r.length>1?al(r.map(function(n){return fr(n)})," "):(r=/^(['"])([^'"]*)(['"])$/g.exec(t),r&&r[1]===r[3]?new qn([fr(r[2])],{prefix:r[1],suffix:r[1]}):t.indexOf("(")!==-1?sw(t):t.charAt(0)==="#"&&e!=="url"?cw(t):t))}function Dp(t,e){e===void 0&&(e={});var r=t.model;if(r){t.setOptions({model:"",suffix:"",prefix:""});var n=t.size()>1?t:t.get(0);e[r]=n}else t.forEach(function(o){Dp(o,e)});return e}function pi(t){var e=typeof t;if(e===Uo){if(Dt(t))return Ic;if(Jn(t))return xa}else if(e===Kd||e===Zd)return"value";return e}function Rp(t){return zt(t)&&t.constructor===Object}function sl(t,e){var r=[];if(Rp(t))for(var n in t)e.push(n),r=r.concat(sl(t[n],e)),e.pop();else r.push(e.slice());return r}function Mp(t,e){for(var r in e){var n=e[r];if(!Rp(n)){t[r]=!0;continue}zt(t[r])||(t[r]={}),Mp(t[r],e[r])}return t}function Kn(t){return Math.round(t*bp)/bp}function hi(t,e,r){r===void 0&&(r=t.length);for(var n=e,o=0;o<r;++o){if(!zt(n)||n==null)return;n=n[t[o]]}return n}function Pp(t,e,r){var n=e.length,o=t;if(n===0)return!1;for(var i=0;i<n;++i)if(o===!0||(o=o[e[i]],!o||!r&&o===!0))return!1;return!0}function Zn(t,e){return Pp(xp,t,e)}function cl(t){return Pp(ew,t,!0)}function Na(t,e){t.state[ol]=e}function ll(t){return t.state[ol]&&t.isPaused()}function Op(t){return!t.isEnded()&&t.state[ol]}function Np(t){for(;;){var e="".concat(Math.floor(Math.random()*1e7));if(!ba||!t)return e;var r=Ea('[data-scene-id="'.concat(e,'"]'));if(!r)return e}}function kp(t){return t.getId()||t.setId(Np(!1)).getId()}function jp(t){return"".concat(t).match(/[0-9a-zA-Z]+/g).join("")}function Ap(t,e,r,n){if(n===void 0&&(n={}),!(!qo||t.getPlayState()===fi)){var o=r||Xn;if(ll(t))t.addPlayClass(!0,o,n);else{t.isEnded()&&t.setTime(0),e&&t.exportCSS({className:o});var i=t.addPlayClass(!1,o,n);if(!i)return;lw(t,i),Na(t,!0)}t.setPlayState(fi)}}function lw(t,e){var r=t.state,n=t.getDuration(),o=!n||!isFinite(n),i=function(){Na(t,!1),t.finish()},a=function(){t.trigger(Sp),Lt(e,"animationcancel",i),Lt(e,"animationend",i),Lt(e,"animationiteration",s)};t.once(wp,function(){kt(e,"animationcancel",i),kt(e,"animationend",i),kt(e,"animationiteration",s),kt(e,"animationstart",a)});var s=function(c){var l=c.elapsedTime,u=l,f=o?0:u/n;r[Oa]=u,t.setIteration(f)};Lt(e,"animationstart",a)}function Ip(t){var e;if(Bt(t))if(t in _p)e=_p[t];else{var r=fr(t);if(Bt(r))return 0;if(r.model==="cubic-bezier")t=r.value.map(function(n){return parseFloat(n)}),e=hn(t[0],t[1],t[2],t[3]);else if(r.model==="steps")e=el(parseFloat(r.value[0]),r.value[1]);else return 0}else Dt(t)?e=hn(t[0],t[1],t[2],t[3]):e=t;return e}function Jn(t){if(!t)return!1;var e=t.constructor.prototype;return!!(e.clone&&e.get&&e.setOptions)}function Fp(t){return t&&!!t.constructor.prototype.getItem}function vi(t){return t&&!!t.constructor.prototype.getFrame}function ul(t){return t&&!!t.constructor.prototype.toCSSText}function Bp(t,e){var r={};for(var n in t){var o=t[n];if(ul(o))r[n]=o;else if(zt(o)){var i=Bp(o,e);for(var a in i)r["".concat(n).concat(e).concat(a)]=i[a]}}return r}function uw(t){return"length"in t&&t.length>=0}function fw(t,e,r){return function(n){var o=n.prototype;t.forEach(function(i){o[Wn("get ".concat(i))]=function(){return this[r][i]}}),e.forEach(function(i){o[Wn("set ".concat(i))]=function(a){return this[r][i]=a,this}})}}function Lp(t,e,r){return r===Cp?!0:e!==di&&t===e&&e%1===0?r===(t%2>=1?nl:rl):r===(t%2>=1?rl:nl)}var zp=["id",qe,je,Ra,li,Br,ur,Br,rw,Lr],dw=jt(jt([],zp,!0),[ui,Un],!1),fl=function(t){Ta(e,t);function e(r){var n=t.call(this)||this;return n.timerId=0,n.state=Bb({id:"",easing:0,easingName:"linear",iterationCount:1,delay:0,fillMode:"forwards",direction:ow,playSpeed:1,currentTime:0,iterationTime:-1,iteration:0,tickTime:0,prevTime:0,playState:vn,duration:0}),n.setOptions(r),n}return e.prototype.setEasing=function(r){var n=Ip(r),o=n&&n[Un]||"linear",i=this.state;return i[ui]=n,i[Un]=o,this},e.prototype.setOptions=function(r){r===void 0&&(r={});for(var n in r){var o=r[n];if(n===ui){this.setEasing(o);continue}else if(n===ur){o&&this.setDuration(o);continue}iw.indexOf(n)>-1&&(this.state[n]=o)}return this},e.prototype.getTotalDuration=function(){return this.getActiveDuration(!0)},e.prototype.getActiveDuration=function(r){var n=this.state,o=n[qe];return o===di?1/0:(r?n[je]:0)+this.getDuration()*o},e.prototype.isEnded=function(){return this.state[zr]===0&&this.state[Lr]===vn?!0:!(this.getTime()<this.getActiveDuration())},e.prototype.isPaused=function(){return this.state[Lr]===vn},e.prototype.start=function(r){r===void 0&&(r=this.state[je]);var n=this.state;return n[Lr]=fi,n[zr]>=r?(this.trigger(Sp),!0):!1},e.prototype.play=function(r){var n=this,o=this.state,i=o[je],a=this.getTime();return o[Lr]=fi,this.isEnded()&&(a===0||a>=this.getActiveDuration())&&this.setTime(-i,!0),this.timerId=Ca(function(s){o[il]=s,n.tick(s,r)}),this.start(),this},e.prototype.pause=function(){var r=this.state;return r[Lr]!==vn&&(r[Lr]=vn,this.trigger(vn)),ep(this.timerId),this},e.prototype.finish=function(){return this.setTime(0),this.state[zr]=0,this.end(),this},e.prototype.end=function(){return this.pause(),this.trigger(wp),this},e.prototype.setTime=function(r,n,o,i){var a=this.getActiveDuration(),s=this.state,c=s[zr],l=s[je],u=n?r:this.getUnitTime(r);s[zr]=l+u,u<0?u=0:u>a&&(u=a),s[Oa]=u,this.calculate();var f=n&&!o,d=s[zr],p=Bt(r)?parseFloat(r):r;return f&&c<l&&p>=0&&this.start(0),i?.(),f&&(d<c||this.isEnded())?(this.end(),this):this.isDelay()?this:(this.trigger(nw,{currentTime:u,time:this.getIterationTime(),iterationCount:s[Ma]}),this)},e.prototype.getTime=function(){return this.state[Oa]},e.prototype.getUnitTime=function(r){if(Bt(r)){var n=this.getDuration()||100;if(r==="from")return 0;if(r==="to")return n;var o=sr(r),i=o.unit,a=o.value;return i==="%"?(!this.getDuration()&&this.setDuration(n),Kn(parseFloat(r)/100*n)):i===">"?a+ci:a}else return Kn(r)},e.prototype.isDelay=function(){var r=this.state,n=r[je],o=r[zr];return n>0&&o<n},e.prototype.setIteration=function(r){var n=this.state,o=Math.floor(r),i=n[qe]===di?1/0:n[qe];return n[Ma]<o&&o<i&&this.trigger(Ma,{currentTime:n[Oa],iterationCount:o}),n[Ma]=r,this},e.prototype.calculate=function(){var r=this.state,n=r[qe],o=r[Ra],i=r[li],a=this.getDuration(),s=this.getTime(),c=a===0?0:s/a,l=a?s%a:0;if(!a)return this.setIterationTime(0),this;this.setIteration(c);var u=Lp(c,n,i),f=isFinite(a);if(f&&u&&(l=a-l),f&&n!==di){var d=o==="both"||o==="forwards";c>=n&&(l=a*(d?n%1||1:0),u&&(l=a-l))}return this.setIterationTime(l),this},e.prototype.tick=function(r,n){var o=this;if(!this.isPaused()){var i=this.state,a=i[Br],s=i[il],c=i[je],l=i[zr],u=l+Math.min(1e3,r-s)/1e3*a;i[il]=r,n&&n>=u?(this.setTime(n-c,!0),this.pause()):this.setTime(u-c,!0),i[Lr]!==vn&&(this.timerId=Ca(function(f){o.tick(f,n)}))}},e=Yb([fw(dw,zp,"state")],e),e}(Ir);function Gp(t,e){if(e===void 0&&(e=[]),!t)return"";var r=[],n=ke(t);return Qo(n,e),n.forEach(function(o){r.push("".concat(o.replace(/\d$/g,""),"(").concat(t[o],")"))}),r.join(" ")}function $p(t,e){return e===void 0&&(e=!1),dl({},t,e)}function dl(t,e,r){r===void 0&&(r=!1);for(var n in e){var o=e[n],i=pi(o);i===xa?t[n]=r?o.toValue():o.clone():i===Yo?t[n]=r?pl([n],o):o:i===Ic?t[n]=o.slice():i===Uo?zt(t[n])&&!Jn(t[n])?dl(t[n],o,r):t[n]=$p(o,r):t[n]=e[n]}return t}function ka(t){return t[0]in Da?Da[t[0]]:t}function pl(t,e){var r=pi(e);if(r===xa)return e.toValue();if(r===Yo){if(t[0]!==Fr)return pl(t,e())}else if(r===Uo)return $p(e,!0);return e}var mn=function(t){Ta(e,t);function e(r){r===void 0&&(r={});var n=t.call(this)||this;return n.properties={},n.orderMap=new Yn(gn),n.properties={},n.set(r),n}return e.prototype.get=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=this.raw.apply(this,r);return pl(ka(r),o)},e.prototype.getOrders=function(r){return this.orderMap.get(r)},e.prototype.setOrders=function(r,n){var o=this.orderMap.set(r,n);return this._update(),o},e.prototype.getOrderObject=function(){return this.orderMap.getObject()},e.prototype.setOrderObject=function(r){this.orderMap.setObject(r),this._update()},e.prototype.getKeys=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=this.raw.apply(this,r),i=pi(o)===Uo?ke(o):[];return Qo(i,this.orderMap.get(r)),i},e.prototype.gets=function(){for(var r=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=this.get.apply(this,n),a=this.getKeys.apply(this,n);return a.map(function(s){var c=i[s];return{key:s,value:c,children:r.gets.apply(r,jt(jt([],n,!1),[s],!1))}})},e.prototype.raw=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return hi(ka(r),this.properties)},e.prototype.remove=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=ka(r),i=o.length;if(!i)return this;this.orderMap.remove(o);var a=hi(o,this.properties,i-1);return zt(a)&&delete a[o[i-1]],this._update(),this},e.prototype.set=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return this._set.apply(this,r),this._update(),this},e.prototype.getNames=function(){return sl(this.properties,[])},e.prototype.has=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=ka(r),i=o.length;return i?!Ue(hi(o,this.properties,i)):!1},e.prototype.clone=function(){var r=new e;return r.setOrderObject(this.orderMap.orderMap),r.merge(this)},e.prototype.merge=function(r){var n=this.properties,o=r.properties;return o&&dl(n,o),this},e.prototype.toCSSObject=function(r){var n=this.get(),o={};for(var i in n)if(!Zn([i],!0)){var a=n[i];i===Fr&&(i=Fr.replace("animation",qo),a=(Bt(a)?a:a[Un])||"initial"),r&&(i=Wn(i.replace(/^[-]+/g,""))),o[i]=a}var s=Gp(n[Ep],this.orderMap.get([Ep])),c=Gp(n.filter,this.orderMap.get([Bc]));return Qd&&s&&(o[Qd]=s),Bc&&c&&(o[Bc]=c),o},e.prototype.toCSSText=function(){var r=this.toCSSObject(),n=[],o=ke(r);return Qo(o,this.orderMap.get([])),o.forEach(function(i){n.push("".concat(zc(i,"-"),":").concat(r[i],";"))}),n.join("")},e.prototype.toCSS=function(){var r=this.toCSSObject(),n=[],o=ke(r);return Qo(o,this.orderMap.get([])),o.forEach(function(i){n.push("".concat(i,":").concat(r[i],";"))}),n.join("")},e.prototype.clear=function(){return this.properties={},this.orderMap.clear(),this},e.prototype._set=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=this,i=r.length,a=r.slice(0,-1),s=r[i-1],c=a[0];if(i===1&&ul(s))o.merge(s);else if(c in Da)o._setByPath(Da[c],s);else if(i===2&&Dt(c))o._setByPath(c,s);else if(Jn(s))Zn(a)?o._set.apply(o,jt(jt([],a,!1),[Dp(s)],!1)):o._setByPath(a,s);else if(Dt(s))o._setByPath(a,s);else if(zt(s)){!o.has.apply(o,a)&&Zn(a)&&o._setByPath(a,{});for(var l in s)o._set.apply(o,jt(jt([],a,!1),[l,s[l]],!1))}else if(Bt(s)){if(Zn(a,!0)){if(cl(a)||!Zn(a))this._setByPath(a,s);else{var u=fr(s);zt(u)&&o._set.apply(o,jt(jt([],a,!1),[u],!1))}return this}else{var f=aw(s),d=f.styles,p=f.length;for(var g in d)o._set.apply(o,jt(jt([],a,!1),[g,d[g]],!1));if(p)return this}o._setByPath(a,s)}else o._setByPath(a,s)},e.prototype._setByPath=function(r,n){for(var o=this.properties,i=r.length,a=0;a<i-1;++a){var s=r[a];!(s in o)&&(o[s]={}),o=o[s]}if(i){var c=r[i-1];this.orderMap.add(r),i===1&&c===Fr?o[c]=Ip(n):o[c]=Bt(n)&&!cl(r)?fr(n,c):n}},e.prototype._update=function(){this.emit("update")},e}(Ir);function hl(t,e,r,n){var o=e.length;return t.map(function(i,a){return a>=o?i:gi(i,e[a],r,n)})}function pw(t,e,r,n){var o=t.value,i=e.value,a=t.model,s=e.model;if(a!==s)return gi(t.toValue(),e.toValue(),r,n);o.length===3&&(o[3]=1),i.length===3&&(i[3]=1);for(var c=hl(o,i,r,n),l=a,u=0;u<3;++u)c[u]=parseInt(c[u],10);var f=new qn(c,{type:"color",model:l,prefix:"".concat(l,"("),suffix:")"});return f}function hw(t,e,r,n){var o=t.type;if(o==="color")return pw(t,e,r,n);var i=t.value,a=e.value,s=hl(i,a,r,n);return new qn(s,{type:o,separator:t.separator||e.separator,prefix:t.prefix||e.prefix,suffix:t.suffix||e.suffix,model:t.model||e.model})}function gi(t,e,r,n){if(n===0)return e;if(r===0||r+n===0)return t;var o=pi(t),i=pi(e),a=o===Yo,s=i===Yo;if(a||s)return function(){return gi(a?fr(t()):t,s?fr(e()):e,r,n)};if(o===i){if(o===xa)return hw(t,e,r,n);if(o===Ic)return hl(t,e,r,n);if(o!=="value")return t}else return t;var c=sr("".concat(t)),l=sr("".concat(e)),u;if(isNaN(c.value)||isNaN(l.value))return t;u=Vn(c.value,l.value,r,n);var f=c.prefix||l.prefix,d=c.unit||l.unit;return!f&&!d?u:f+u+d}function vw(t,e,r,n,o,i){if(t===e)return n;if(t===r)return o;if(!i)return gi(n,o,t-e,r-t);var a=i((t-e)/(r-e)),s=gi(n,o,a,1-a);return s}function Vp(t,e){for(var r=t.length,n=0;n<r;++n){if(t[n]===e)return[n,n];if(t[n]>e)return[n>0?n-1:0,n]}return[r-1,r-1]}function Wp(t){var e=[];for(var r in t)e.push("".concat(qo,"-").concat(zc(r),":").concat(t[r],";"));return e.join("")}function gw(t,e){for(var r=t.length,n=0;n<r;++n)if(e<t[n]){t.splice(n,0,e);return}t[r]=e}function vl(t,e,r){var n=t[t.length-1];(!n||n[0]!==e||n[1]!==r)&&t.push([Kn(e),Kn(r)])}function mw(t,e){var r=t.map(function(o){return[o,o]}),n=[];return e.forEach(function(o){for(var i=o[qe],a=o[je],s=o[Br],c=o[li],l=Math.ceil(i),u=r[r.length-1][0],f=r.length,d=u*i,p=0;p<l;++p)for(var g=c===Cp||c===rl&&p%2||c===nl&&!(p%2),h=0;h<f;++h){var m=r[g?f-h-1:h],y=m[1],x=u*p+(g?u-m[0]:m[0]),b=r[g?f-h:h-1];if(x>d){if(h!==0){var w=u*p+(g?u-b[0]:b[0]),_=Vn(b[1],y,d-w,x-d);vl(n,(a+u*i)/s,_)}break}else if(x===d&&n.length&&n[n.length-1][0]===d+a)break;vl(n,(a+x)/s,y)}a&&n.unshift([0,n[0][1]]),r=n,n=[]}),r}var yw=function(t){Ta(e,t);function e(r,n){var o=t.call(this)||this;return o.times=[],o.items={},o.nameMap=new Yn(gn),o.elements=[],o.needUpdate=!0,o.registeredElement=!1,o.load(r,n),o}return e.prototype.getDuration=function(){var r=this.times,n=r.length;return(n===0?0:r[n-1])||this.state[ur]},e.prototype.size=function(){return this.times.length},e.prototype.setDuration=function(r){if(!r)return this;var n=this.getDuration();if(n>0){var o=r/n,i=this,a=i.times,s=i.items,c={};this.times=a.map(function(l){var u=Kn(l*o);return c[u]=s[l],u}),this.items=c}else this.newFrame(r);return this},e.prototype.setId=function(r){var n=this.state,o=this.elements,i=o.length;if(n.id=r||Np(!!i),i&&!n[Ae]){var a=jp(this.getId());n[Ae]="[".concat(yp,'="').concat(a,'"]'),o.forEach(function(s){s.setAttribute(yp,a)})}return this},e.prototype.set=function(r){for(var n=this,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(vi(r))return this.set(0,r);if(Dt(r))for(var a=r.length,s=0;s<a;++s){var c=a===1?0:this.getUnitTime("".concat(s/(a-1)*100,"%"));this.set(c,r[s])}else if(zt(r)){var l=function(f){var d=r[f];Ne(f).forEach(function(p){var g=n.getUnitTime(p);isNaN(g)?sl(d,[p]).forEach(function(h){for(var m,y=hi(h.slice(1),d),x=Dt(y)?y:[hi(h,n.target),y],b=x.length,w=0;w<b;++w)(m=n.newFrame("".concat(w/(b-1)*100,"%"))).set.apply(m,jt(jt([],h,!1),[x[w]],!1))}):n.set(g,d)})};for(var c in r)l(c)}else if(!Ue(r)){var u=o[0];Ne(r+"").forEach(function(f){var d=n.getUnitTime(f);if(vi(u)){var p=u.getDelay(),g=u.toObject(!n.hasFrame(d+p)),h=u.getDuration(),m=u.getDirection(),y=m.indexOf("reverse")>-1;for(var x in g){var b=y?h-parseFloat(x):parseFloat(x);n.set(d+b,g[x])}}else if(o.length===1&&Dt(u))u.forEach(function(_){n.set(d,_)});else{var w=n.newFrame(d);w.set.apply(w,o)}})}return this.needUpdate=!0,this},e.prototype.get=function(r){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this.getFrame(r);return i&&i.get.apply(i,n)},e.prototype.getOrders=function(r){return this.needUpdate&&this.update(),this.nameMap.get(r)},e.prototype.setOrders=function(r,n){this.needUpdate&&this.update();var o=this.nameMap.set(r,n);return this.updateFrameOrders(),o},e.prototype.getOrderObject=function(){return this.nameMap.getObject()},e.prototype.setOrderObject=function(r){this.nameMap.setObject(r),this.updateFrameOrders()},e.prototype.remove=function(r){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(n.length){var i=this.getFrame(r);i&&i.remove.apply(i,n)}else this.removeFrame(r);return this.needUpdate=!0,this},e.prototype.append=function(r){return vi(r)?this.set(this.getDuration(),r):this.append(new e(r)),this},e.prototype.prepend=function(r){if(vi(r)){var n=r.getDuration()+r.getDelay(),o=this.getFrame(0);this.removeFrame(0),this.unshift(n),this.set(0,r),this.set(n+ci,o)}else this.prepend(new e(r));return this},e.prototype.unshift=function(r){var n=this,o=n.times,i=n.items,a={};return this.times=o.map(function(s){var c=Kn(r+s);return a[c]=i[s],c}),this.items=a,this},e.prototype.toObject=function(r){r===void 0&&(r=!0);var n={},o=this.getDelay();return this.forEach(function(i,a){n[(!a&&!r?ci:0)+o+a]=i.clone()}),n},e.prototype.setSelector=function(r){return this.setElement(r),this},e.prototype.getElements=function(){return this.elements},e.prototype.setElements=function(r){return this.setElement(r)},e.prototype.setElement=function(r){r!==!0&&this.registeredElement!==r&&(this.registeredElement=r);var n=this.state,o=this.registeredElement,i=r,a=[];if(ye(o)&&(i=o(this.getId(),0)),i){if(i===!0||Bt(i)){var s=Bt(n[Ae])&&n[Ae]||"".concat(n.id),c=i===!0?s:i,l=/([\s\S]+)(:+[a-zA-Z]+)$/g.exec(c);try{a=Gc(Ea(l?l[1]:c,!0))}catch{a=[]}n[Ae]=c}else if(uw(i))a=Gc(i);else if(i instanceof Element)a=[i];else if("current"in i||"value"in i){var u=i.current||i.value;u?a=[u]:a=[]}}else return this;return a.length?(this.elements=a,this.setId(this.getId()),this.target=a[0].style,this.targetFunc=function(f){var d=f.get("attribute");if(d){var p=function(y){a.forEach(function(x){x.setAttribute(y,d[y])})};for(var g in d)p(g)}if(f.has("html")){var h=f.get("html");a.forEach(function(y){y.innerHTML=h})}var m=f.toCSSText();if(n.cssText!==m)return n.cssText=m,a.forEach(function(y){y.style.cssText+=m}),f},this):this},e.prototype.setTarget=function(r){return this.target=r,this.targetFunc=function(n){var o=n.get();for(var i in o)r[i]=o[i]},this},e.prototype.setCSS=function(r,n){return n===void 0&&(n=[]),this.set(r,Cb(this.elements,n)),this},e.prototype.setTime=function(r,n,o,i){var a=this;return t.prototype.setTime.call(this,r,n,o,function(){var s=a.getIterationTime(),c=a.getEasing()||i,l=a.getNowFrame(s,c),u=a.getTime();a.temp=l,a.trigger("animate",{frame:l,currentTime:u,time:s}),a.targetFunc&&a.targetFunc(l)}),this},e.prototype.update=function(){var r=this.nameMap,n={};this.forEach(function(a){Mp(n,a.properties)});var o=new Yn(gn);function i(a,s){var c=ke(a);Qo(c,r.get(s)),o.set(s,c),c.forEach(function(l){var u=a[l];zt(u)&&i(u,jt(jt([],s,!0),[l],!1))})}return i(n,[]),this.nameMap=o,this.forEach(function(a){a.setOrderObject(o.orderMap)}),this.needUpdate=!1,this},e.prototype.newFrame=function(r){var n=this.getFrame(r);return n||(n=new mn,this.setFrame(r,n),n)},e.prototype.setFrame=function(r,n){var o=this.getUnitTime(r);return this.items[o]=n,gw(this.times,o),this.needUpdate=!0,this},e.prototype.getFrame=function(r){return this.items[this.getUnitTime(r)]},e.prototype.removeFrame=function(r){var n=this.getUnitTime(r),o=this.items,i=this.times.indexOf(n);return delete o[n],i>-1&&this.times.splice(i,1),this.needUpdate=!0,this},e.prototype.hasFrame=function(r){return this.getUnitTime(r)in this.items},e.prototype.hasName=function(r){return this.needUpdate&&this.update(),!!this.nameMap.hasName(r)},e.prototype.mergeFrame=function(r,n){if(n){var o=this.newFrame(r);o.merge(n)}return this},e.prototype.getNowFrame=function(r,n,o){var i=this;this.needUpdate&&this.update();var a=new mn,s=Vp(this.times,r),c=s[0],l=s[1],u=this.getEasing()||n,f=this.nameMap;if(this.hasName([Fr])){var d=this.getNowValue(r,[Fr],c,l,!1,0,!0);ye(d)&&(u=d)}if(o){var p=this.getFrame(r),g=p.orderMap.filter([],function(x){return p.has.apply(p,x)});for(var h in xp){var m=f.get([h]);g.get([h])&&m&&g.set([h],m)}f=g}var y=f.gets([]);return a.setOrderObject(f.orderMap),y.forEach(function(x){var b=i.getNowValue(r,x,c,l,o,u,cl(x));Ue(b)||a.set(x,b)}),a},e.prototype.getCurrentFrame=function(r,n){var o=this.getIterationTime(),i=r||this.needUpdate||!this.temp?this.getComputedFrame(o,n):this.temp;return this.temp=i,i},e.prototype.getComputedFrame=function(r,n,o){return this.getNowFrame(r,n,o)},e.prototype.load=function(r,n){var o;if(r===void 0&&(r={}),n===void 0&&(n=r.options),n&&this.setOptions(n),Dt(r))this.set(r);else if(r.keyframes)this.set(r.keyframes);else for(var i in r)i!=="options"&&this.set((o={},o[i]=r[i],o));return n&&n[ur]&&this.setDuration(n[ur]),this},e.prototype.clone=function(){var r=new e;return r.setOptions(this.state),r.setOrderObject(this.nameMap.orderMap),this.forEach(function(n,o){r.setFrame(o,n.clone())}),r},e.prototype.forEach=function(r){var n=this.times,o=this.items;return n.forEach(function(i){r(o[i],i,o)}),this},e.prototype.setOptions=function(r){r===void 0&&(r={}),t.prototype.setOptions.call(this,r);var n=r.id,o=r.selector,i=r.elements,a=r.element,s=r.target;return n&&this.setId(n),s?this.setTarget(s):o&&!this.state.noRegisterElement?this.setSelector(o):(i||a)&&this.setElement(i||a),this},e.prototype.toCSS=function(r,n,o){r===void 0&&(r={className:Xn}),n===void 0&&(n=this.getDuration()),o===void 0&&(o=[]);var i=this.state,a=i[Ae];if(!a)return"";var s=this.getDuration();i[ur]=s,o.push(i);var c=Gc(o).reverse(),l=jp(kp(this)),u=o[0],f=cr(c,function(T){return T[qe]===di||!isFinite(T[ur])},o.length-1),d=c.slice(0,f),p=n||d.reduce(function(T,D){return(D[je]+T*D[qe])/D[Br]},s),g=c.slice(f).reduce(function(T,D){return(T+D[je])/D[Br]},0),h=xe(c,function(T){return T[ui]&&T[Un]},i)[Un],m=c[f][qe],y=u[Ra],x=c[f][li],b=Wp({fillMode:y,direction:x,iterationCount:m,delay:"".concat(g,"s"),name:"".concat(mp,"KEYFRAMES_").concat(l),duration:"".concat(p/u[Br],"s"),timingFunction:h}),w=Ne(a).map(function(T){var D=/([\s\S]+)(:+[a-zA-Z]+)$/g.exec(T);return D?[D[1],D[2]]:[T,""]}),_=r.className,E=r.selector,C=ye(E)?E(this,a):E;return`
    `.concat(C||w.map(function(T){var D=T[0],R=T[1];return"".concat(D,".").concat(_).concat(R)})," {").concat(b,`}
    `).concat(w.map(function(T){var D=T[0],R=T[1];return"".concat(D,".").concat(Pa).concat(R)})," {").concat(qo,`-play-state: paused;}
    @`).concat(fb," ").concat(mp,"KEYFRAMES_").concat(l,"{").concat(this._toKeyframes(p,d,x),"}")},e.prototype.exportCSS=function(r,n,o){if(!this.elements.length)return"";var i=this.toCSS(r,n,o),a=o&&!Ue(o[qe]);return a||(this.styledInjector&&(this.styledInjector.destroy(),this.styledInjector=null),this.styled=_a(i),this.styledInjector=this.styled.inject(this.getAnimationElement(),{original:!0})),this},e.prototype.pause=function(){return t.prototype.pause.call(this),ll(this)&&this.pauseCSS(),this},e.prototype.pauseCSS=function(){return this.elements.forEach(function(r){ei(r,Pa)}),this},e.prototype.endCSS=function(){return this.elements.forEach(function(r){Hn(r,Pa),Hn(r,Xn)}),Na(this,!1),this},e.prototype.end=function(){return Op(this)&&this.endCSS(),t.prototype.end.call(this),this},e.prototype.playCSS=function(r,n,o){return r===void 0&&(r=!0),o===void 0&&(o={}),Ap(this,r,n,o),this},e.prototype.getAnimationElement=function(){return this.elements[0]},e.prototype.addPlayClass=function(r,n,o){o===void 0&&(o={});var i=this.elements,a=i.length,s=Wp(o);if(a)return r?i.forEach(function(c){Hn(c,Pa)}):(i.forEach(function(c){c.style.cssText+=s,Yt(c,Xn)&&Hn(c,Xn)}),i.forEach(function(c){c.clientWidth}),i.forEach(function(c){ei(c,Xn)})),i[0]},e.prototype.clear=function(){return this.times=[],this.items={},this.nameMap=new Yn(gn),this.styledInjector&&this.styledInjector.destroy(),this.styled=null,this.styledInjector=null,this.temp=null,this.needUpdate=!0,this},e.prototype.getNowValue=function(r,n,o,i,a,s,c){var l=this.times,u=l.length,f,d,p,g,h=Ue(o),m=Ue(i);if(h||m){var y=Vp(l,r);h&&(o=y[0]),m&&(i=y[1])}for(var x=o;x>=0;--x){var b=this.getFrame(l[x]);if(b.has.apply(b,n)){f=l[x],p=b;break}}var w=p&&p.raw.apply(p,n);if(a&&!Zn([n[0]]))return f===r?w:void 0;if(c)return w;for(var x=i;x<u;++x){var b=this.getFrame(l[x]);if(b.has.apply(b,n)){d=l[x],g=b;break}}var _=g&&g.raw.apply(g,n);return!p||Ue(w)?_:!g||Ue(_)||w===_?w:vw(r,Math.max(f,0),d,w,_,s)},e.prototype._toKeyframes=function(r,n,o){var i=this,a={},s=this.times.slice();if(!s.length)return"";var c=this.getDuration();!this.getFrame(0)&&s.unshift(0),!this.getFrame(c)&&s.push(c);var l=mw(s,n),u=l[l.length-1];u[0]<r&&vl(l,r,u[1]);var f=-1;return l.map(function(d){var p=d[0],g=d[1];a[g]||(a[g]=(!i.hasFrame(g)||g===0||g===c?i.getNowFrame(g):i.getNowFrame(g,0,!0)).toCSSText());var h=p/r*100;return h-f<ci&&(h+=ci),f=h,"".concat(Math.min(h,100),`%{
                `).concat(p===0&&!Lp(0,1,o)?"":a[g],`
            }`)}).join("")},e.prototype.updateFrameOrders=function(){var r=this.nameMap.orderMap;this.forEach(function(n){n.setOrderObject(r)})},e}(fl),Hp=function(t){Ta(e,t);function e(r,n){var o=t.call(this)||this;return o.items={},o.orderMap=new Yn(gn),o.load(r,n),o}return e.prototype.getDuration=function(){var r=0;return this.forEach(function(n){r=Math.max(r,n.getTotalDuration()/n.getPlaySpeed())}),r||this.state[ur]},e.prototype.setDuration=function(r){this.items;var n=this.getDuration();if(r===0||!isFinite(n))return this;if(n===0)this.forEach(function(i){i.setDuration(r)});else{var o=r/n;this.forEach(function(i){i.setDelay(i.getDelay()*o),i.setDuration(i.getDuration()*o)})}return t.prototype.setDuration.call(this,r),this},e.prototype.getItem=function(r){return this.items[r]},e.prototype.newItem=function(r,n){if(n===void 0&&(n={}),this.items[r])return this.items[r];var o=new yw;return this.setItem(r,o),o.setOptions(n),o},e.prototype.removeItem=function(r){return delete this.items[r],this.orderMap.remove([r]),this},e.prototype.setItem=function(r,n){return n.setId(r),this.items[r]=n,this.orderMap.add([r]),this},e.prototype.getCurrentFrames=function(r,n){var o=this.getEasing()||n,i={};return this.forEach(function(a){var s=a.getId();Fp(a)?i[s]=a.getCurrentFrames(r,o):i[s]=a.getCurrentFrame(r,o)}),this.temp=i,i},e.prototype.getCurrentFlattedFrames=function(r,n){var o=this.getCurrentFrames(r,n);return Bp(o,gn)},e.prototype.setTime=function(r,n,o,i){var a=this;return t.prototype.setTime.call(this,r,n,o,function(){var s=a.getIterationTime(),c=a.getEasing()||i;a.forEach(function(u){u.setTime(s*u.getPlaySpeed()-u.getDelay(),n,!0,c)});var l=a.getCurrentFrames(!1,i);a.trigger("animate",{frames:l,currentTime:a.getTime(),time:s})}),this},e.prototype.forEach=function(r){var n=this.items;return this.getOrders().forEach(function(o,i){r(n[o],o,i,n)}),this},e.prototype.toCSS=function(r,n,o){n===void 0&&(n=this.getDuration()),o===void 0&&(o=[]);var i=!n||!isFinite(n)?0:n,a=[],s=this.state;return s[ur]=this.getDuration(),this.forEach(function(c){a.push(c.toCSS(r,i,o.concat(s)))}),a.join("")},e.prototype.exportCSS=function(r,n,o){var i=this.toCSS(r,n,o);return(!o||!o.length)&&(this.styledInjector&&(this.styledInjector.destroy(),this.styledInjector=null),this.styled=_a(i),this.styledInjector=this.styled.inject(this.getAnimationElement(),{original:!0})),this},e.prototype.append=function(r){r.setDelay(r.getDelay()+this.getDuration()),this.setItem(kp(r),r)},e.prototype.pauseCSS=function(){return this.forEach(function(r){r.pauseCSS()})},e.prototype.pause=function(){return t.prototype.pause.call(this),ll(this)&&this.pauseCSS(),this.forEach(function(r){r.pause()}),this},e.prototype.endCSS=function(){this.forEach(function(r){r.endCSS()}),Na(this,!1)},e.prototype.end=function(){return Op(this)&&this.endCSS(),t.prototype.end.call(this),this},e.prototype.getOrders=function(){return this.orderMap.get([])||[]},e.prototype.setOrders=function(r){return this.orderMap.set([],r)},e.prototype.getAnimationElement=function(){var r;return this.forEach(function(n){var o=n.getAnimationElement();!r&&(r=o)}),r},e.prototype.addPlayClass=function(r,n,o){o===void 0&&(o={});var i;return this.forEach(function(a){var s=a.addPlayClass(r,n,o);!i&&(i=s)}),i},e.prototype.playCSS=function(r,n,o){return r===void 0&&(r=!0),o===void 0&&(o={}),Ap(this,r,n,o),this},e.prototype.set=function(r){return this.load(r),this},e.prototype.clear=function(){this.finish(),this.items={},this.orderMap=new Yn(gn),this.styledInjector&&this.styledInjector.destroy(),this.styled=null,this.styledInjector=null},e.prototype.load=function(r,n){if(r===void 0&&(r={}),n===void 0&&(n=r.options),!r)return this;this.setOptions(n);var o=n&&n[Ae]||this.state[Ae],i=function(c){if(c==="options")return"continue";var l=r[c],u=void 0;if(Fp(l)||vi(l))a.setItem(c,l),u=l;else if(ye(l)){var f=[];o&&ba&&(a.state.noRegisterElement||(f=Ea("".concat(ye(o)?o(c):c),!0)));for(var d=f.length,p=d||l.defaultCount||0,g=new e,h=[],m=0;m<p;++m){var y=f[m],x=g.newItem(m);x.setId().load(l(m,f[m])),h.push(x.getId()),y&&x.setElement(y)}if(!d){var b=[];g.state[Ae]=function(w){return b.length||(b=Ea("".concat(ye(o)?o(c):c),!0)),b[h.indexOf(w)]}}return a.setItem(c,g),"continue"}else u=a.newItem(c,{noRegisterElement:!0}),u.load(l);a.state.noRegisterElement||o&&u.setSelector(o)},a=this;for(var s in r)i(s)},e.prototype.setOptions=function(r){r===void 0&&(r={}),t.prototype.setOptions.call(this,r);var n=r.selector;return n&&(this.state[Ae]=n),this},e.prototype.setSelector=function(r){var n=this.state,o=r===!0?n[Ae]||!0:r;n[Ae]=o;var i=ye(r);return o&&this.forEach(function(a,s){a.setSelector(i?r(s):o)}),this},e.prototype.start=function(r){r===void 0&&(r=this.state[je]);var n=t.prototype.start.call(this,r);return n?this.forEach(function(o){o.start(0)}):this.forEach(function(o){o.setPlayState(fi)}),n},e.VERSION="1.10.3",e}(fl);function mi(t){var e=t.prototype;return ke(e).filter(function(r){var n=Object.getOwnPropertyDescriptor(e,r);return r==="constructor"?!1:!n.get&&!n.set&&ye(n.value||e[r])})}var xw=mi(Ir),gl=jt(jt([],xw,!0),mi(fl),!0);jt(jt([],gl,!0),mi(Hp),!0),jt(jt([],gl,!0),mi(Hp),!0);var Yp=jt(jt([],gl,!0),mi(mn),!0),Up={methods:Yp,created:function(t){var e=ye(t)?t():t,r=oi(0),n;vp(e)?n=e:n=oi(ul(e)?e:new mn(e));var o=Jc(function(){return n.current,r.current,n.current.toCSSText()}),i=Jc(function(){return n.current,o.current,n.current.toCSSObject()}),a=Jc(function(){return n.current,o.current,n.current.toCSSObject(!0)}),s=function(){++r.current};n.subscribe(function(l,u){u.off("update",s),l.on("update",s)});var c=Lb(ai({cssText:o,cssObject:i,camelCasedCSSObject:a,onUpdate:s},Yp.reduce(function(l,u){return l[u]=function(){for(var f,d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var g=n.current;return g==null?void 0:(f=g[u]).call.apply(f,jt([g],d,!1))},l},{})));return c},destroy:function(t){t.off("update",t.onUpdate)}};ai(ai({},Up),{created:function(t){var e=ye(t)?t():t,r=oi(new mn);return e.on("animate",function(n){r.current=n.frame}),Up.created(r)}});function bw(t,e){return(t.getOrders(["transform"])||[]).indexOf(e)}class ml{constructor(e={}){this.map=new Map,this.onBeforeRenderStart=r=>{const n=this.testFrame(r);r.setTransform(n?.toCSSObject().transform||"")},this.onBeforeRenderGroupStart=r=>{r.events.forEach(n=>{this.onBeforeRenderStart(n)})},this.onDragStart=r=>{const n=this.testFrame(r);if(!n)return!1;this.setTranasform(r,n,"translate")},this.onDrag=r=>{this.testDrag(r),this.testRender(r.target)},this.onDragGroupStart=r=>{r.events.forEach(n=>{this.onDragStart(n)})},this.onDragGroup=r=>{r.events.forEach(n=>{this.onDrag(n)})},this.onResizeStart=r=>{r.dragStart&&this.onDragStart(r.dragStart),r.setOrigin(["%","%"])},this.onResize=r=>{this.testResize(r),this.testRender(r.target)},this.onResizeGroupStart=r=>{r.events.forEach(n=>{this.onResizeStart(n)})},this.onResizeGroup=r=>{r.events.forEach(n=>{this.onResize(n)})},this.onScaleStart=r=>{const n=this.testFrame(r);if(!n)return!1;this.setTranasform(r,n,"scale"),r.dragStart&&this.onDragStart(r.dragStart)},this.onScale=r=>{this.testScale(r),this.testRender(r.target)},this.onScaleGroupStart=r=>{r.events.forEach(n=>{this.onScaleStart(n)})},this.onScaleGroup=r=>{r.events.forEach(n=>{this.onScale(n)})},this.onRotateStart=r=>{const n=this.testFrame(r);if(!n)return!1;this.setTranasform(r,n,"rotate"),r.dragStart&&this.onDragStart(r.dragStart)},this.onRotate=r=>{this.testRotate(r),this.testRender(r.target)},this.onRotateGroupStart=r=>{r.events.forEach(n=>{this.onRotateStart(n)})},this.onRotateGroup=r=>{r.events.forEach(n=>{this.onRotate(n)})},this.onClip=r=>{const n=this.testFrame(r);n&&(r.clipType==="rect"?n.set("clip",r.clipStyle):n.set("clip-path",r.clipStyle)),this.testRender(r.target)},this.onDragOriginStart=r=>{r.dragStart&&this.onDragStart(r.dragStart)},this.onDragOrigin=r=>{const n=this.testFrame(r);n&&(n.set("transform-origin",r.transformOrigin),this.testDrag(r.drag),this.testRender(r.target))},this.onRound=r=>{const n=this.testFrame(r);n&&(n.set("border-radius",r.borderRadius),this.testRender(r.target))},this.onWarpStart=r=>{const n=this.testFrame(r);if(!n)return!1;this.setTranasform(r,n,"matrix3d")},this.onWarp=r=>{const n=this.testFrame(r);n&&(n.set("transform","matrix3d",r.matrix.join(", ")),this.testRender(r.target))},this.onRender=r=>{const n=r.target,o=this.getFrame(n);!n||!o||this.render(n,o)},this.options={useBeforeRender:!1,useRender:!1,createAuto:!0,...e}}static create(e){return new ml(e)}render(e,r=this.getFrame(e)||new mn){e.style.cssText+=r.toCSS()}clear(){this.map.clear()}getTargets(){return this.map.keys()}getFrames(){return this.map.values()}getFrame(e){return this.map.get(e)}setFrame(e,r){return this.map.set(e,r)}removeFrame(e){this.map.delete(e)}createFrame(e,r={}){const{translate:n,rotate:o,scale:i}=ww(e),a=new mn({transform:{translate:n,rotate:o,scale:i}});return a.set(r),this.map.set(e,a),a}setElements(e){const r=Bt(e)?document.querySelectorAll(e):e,n=r.length,o=this.map;for(let i=0;i<n;++i){const a=r[i];o.has(a)||this.createFrame(a)}}testFrame(e){const r=e.target,n=this.getFrame(r);if(n)return n;if(!this.options.createAuto&&e.stop){e.stop();return}return this.createFrame(r)}testDrag(e){const r=e.target,n=e.translate,o=this.getFrame(r),i=`${n[0]}px`,a=`${n[1]}px`;o&&(o.has("transform","translate")?o.set("transform","translate",`${i},${a}`):(o.set("transform","translateX",i),o.set("transform","translateY",a)))}testResize(e){const r=e.target,n=this.getFrame(r);n&&(n.set("width",`${e.width}px`),n.set("height",`${e.height}px`),this.testDrag(e.drag))}testScale(e){const r=this.testFrame(e),n=e.scale;r&&(this.testDrag(e.drag),r.set("transform","scale",`${n[0]},${n[1]}`))}testRotate(e){const r=this.testFrame(e),n=e.rotate;r&&(this.testDrag(e.drag),r.set("transform","rotate",`${n}deg`))}testRender(e,r=this.getFrame(e)){this.options.useRender||this.render(e,r)}setTranasform(e,r,n){const o=bw(r,n);this.options.useBeforeRender?e.setTransformIndex(o):e.setTransform(r.toCSSObject().transform||[],o)}}function ww(t){let e="";if(t.style.transform)e=t.style.transform;else{const i=window.getComputedStyle(t);e=i.transform||i.webkitTransform}let r="0px, 0px",n="0deg",o="1, 1";if(e&&e!=="none")if(e.startsWith("matrix")){const i=e.match(/matrix\((.*?)\)/);if(i&&i[1]){const a=i[1].split(",").map(s=>parseFloat(s.trim()));a.length>=6&&(r=`${a[4]}px, ${a[5]}px`)}}else{const i=e.match(/translate\(\s*([\d.]+)px\s*,\s*([\d.]+)px\s*\)/);i&&(r=`${i[1]}px, ${i[2]}px`);const a=e.match(/rotate\(\s*([\d.]+)deg\s*\)/);a&&(n=`${a[1]}deg`);const s=e.match(/scale\(\s*([\d.]+)(?:\s*,\s*([\d.]+))?\s*\)/);s&&(s[2]?o=`${s[1]}, ${s[2]}`:o=`${s[1]}, ${s[1]}`)}return{translate:r,rotate:n,scale:o}}function Xp(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=Xp(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function yi(){for(var t,e,r=0,n="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=Xp(t))&&(n&&(n+=" "),n+=e);return n}const yl="-",Sw=t=>{const e=Ew(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const s=a.split(yl);return s[0]===""&&s.length!==1&&s.shift(),qp(s,e)||Cw(a)},getConflictingClassGroupIds:(a,s)=>{const c=r[a]||[];return s&&n[a]?[...c,...n[a]]:c}}},qp=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),o=n?qp(t.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const i=t.join(yl);return e.validators.find(({validator:a})=>a(i))?.classGroupId},Kp=/^\[(.+)\]$/,Cw=t=>{if(Kp.test(t)){const e=Kp.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Ew=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Tw(Object.entries(t.classGroups),r).forEach(([i,a])=>{xl(a,n,i,e)}),n},xl=(t,e,r,n)=>{t.forEach(o=>{if(typeof o=="string"){const i=o===""?e:Zp(e,o);i.classGroupId=r;return}if(typeof o=="function"){if(_w(o)){xl(o(n),e,r,n);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([i,a])=>{xl(a,Zp(e,i),r,n)})})},Zp=(t,e)=>{let r=t;return e.split(yl).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},_w=t=>t.isThemeGetter,Tw=(t,e)=>e?t.map(([r,n])=>{const o=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,s])=>[e+a,s])):i);return[r,o]}):t,Dw=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const o=(i,a)=>{r.set(i,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return o(i,a),a},set(i,a){r.has(i)?r.set(i,a):o(i,a)}}},Jp="!",Rw=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,o=e[0],i=e.length,a=s=>{const c=[];let l=0,u=0,f;for(let m=0;m<s.length;m++){let y=s[m];if(l===0){if(y===o&&(n||s.slice(m,m+i)===e)){c.push(s.slice(u,m)),u=m+i;continue}if(y==="/"){f=m;continue}}y==="["?l++:y==="]"&&l--}const d=c.length===0?s:s.substring(u),p=d.startsWith(Jp),g=p?d.substring(1):d,h=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:h}};return r?s=>r({className:s,parseClassName:a}):a},Mw=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Pw=t=>({cache:Dw(t.cacheSize),parseClassName:Rw(t),...Sw(t)}),Ow=/\s+/,Nw=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=e,i=[],a=t.trim().split(Ow);let s="";for(let c=a.length-1;c>=0;c-=1){const l=a[c],{modifiers:u,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:p}=r(l);let g=!!p,h=n(g?d.substring(0,p):d);if(!h){if(!g){s=l+(s.length>0?" "+s:s);continue}if(h=n(d),!h){s=l+(s.length>0?" "+s:s);continue}g=!1}const m=Mw(u).join(":"),y=f?m+Jp:m,x=y+h;if(i.includes(x))continue;i.push(x);const b=o(h,g);for(let w=0;w<b.length;++w){const _=b[w];i.push(y+_)}s=l+(s.length>0?" "+s:s)}return s};function kw(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Qp(e))&&(n&&(n+=" "),n+=r);return n}const Qp=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Qp(t[n]))&&(r&&(r+=" "),r+=e);return r};function jw(t,...e){let r,n,o,i=a;function a(c){const l=e.reduce((u,f)=>f(u),t());return r=Pw(l),n=r.cache.get,o=r.cache.set,i=s,s(c)}function s(c){const l=n(c);if(l)return l;const u=Nw(c,r);return o(c,u),u}return function(){return i(kw.apply(null,arguments))}}const At=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},th=/^\[(?:([a-z-]+):)?(.+)\]$/i,Aw=/^\d+\/\d+$/,Iw=new Set(["px","full","screen"]),Fw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dr=t=>Qn(t)||Iw.has(t)||Aw.test(t),Gr=t=>to(t,"length",qw),Qn=t=>!!t&&!Number.isNaN(Number(t)),bl=t=>to(t,"number",Qn),xi=t=>!!t&&Number.isInteger(Number(t)),$w=t=>t.endsWith("%")&&Qn(t.slice(0,-1)),yt=t=>th.test(t),$r=t=>Fw.test(t),Vw=new Set(["length","size","percentage"]),Ww=t=>to(t,Vw,eh),Hw=t=>to(t,"position",eh),Yw=new Set(["image","url"]),Uw=t=>to(t,Yw,Zw),Xw=t=>to(t,"",Kw),bi=()=>!0,to=(t,e,r)=>{const n=th.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},qw=t=>Bw.test(t)&&!Lw.test(t),eh=()=>!1,Kw=t=>zw.test(t),Zw=t=>Gw.test(t),rh=jw(()=>{const t=At("colors"),e=At("spacing"),r=At("blur"),n=At("brightness"),o=At("borderColor"),i=At("borderRadius"),a=At("borderSpacing"),s=At("borderWidth"),c=At("contrast"),l=At("grayscale"),u=At("hueRotate"),f=At("invert"),d=At("gap"),p=At("gradientColorStops"),g=At("gradientColorStopPositions"),h=At("inset"),m=At("margin"),y=At("opacity"),x=At("padding"),b=At("saturate"),w=At("scale"),_=At("sepia"),E=At("skew"),C=At("space"),T=At("translate"),D=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",yt,e],M=()=>[yt,e],O=()=>["",Dr,Gr],k=()=>["auto",Qn,yt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",yt],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Qn,yt];return{cacheSize:500,separator:":",theme:{colors:[bi],spacing:[Dr,Gr],blur:["none","",$r,yt],brightness:B(),borderColor:[t],borderRadius:["none","","full",$r,yt],borderSpacing:M(),borderWidth:O(),contrast:B(),grayscale:z(),hueRotate:B(),invert:z(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[$w,Gr],inset:N(),margin:N(),opacity:B(),padding:M(),saturate:B(),scale:B(),sepia:z(),skew:B(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",yt]}],container:["container"],columns:[{columns:[$r]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),yt]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xi,yt]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yt]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",xi,yt]}],"grid-cols":[{"grid-cols":[bi]}],"col-start-end":[{col:["auto",{span:["full",xi,yt]},yt]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[bi]}],"row-start-end":[{row:["auto",{span:[xi,yt]},yt]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yt]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yt,e]}],"min-w":[{"min-w":[yt,e,"min","max","fit"]}],"max-w":[{"max-w":[yt,e,"none","full","min","max","fit","prose",{screen:[$r]},$r]}],h:[{h:[yt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$r,Gr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bl]}],"font-family":[{font:[bi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yt]}],"line-clamp":[{"line-clamp":["none",Qn,bl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dr,yt]}],"list-image":[{"list-image":["none",yt]}],"list-style-type":[{list:["none","disc","decimal",yt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dr,Gr]}],"underline-offset":[{"underline-offset":["auto",Dr,yt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),Hw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ww]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Uw]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Dr,yt]}],"outline-w":[{outline:[Dr,Gr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Dr,Gr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$r,Xw]}],"shadow-color":[{shadow:[bi]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$r,yt]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yt]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",yt]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",yt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[xi,yt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Dr,Gr,bl]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),wl="data-scena-element-id";function nh(t){return t.contentEditable==="inherit"?nh(t.parentElement):t.contentEditable==="true"?t:null}function oh(t){return t.getAttribute(wl)}function Vr(...t){return rh(yi(t))}class Jw extends ml{constructor(e){super({createAuto:!0,useBeforeRender:!0}),this.memory=e,this.selectedTargets=[]}setSelectedTargets(e){this.selectedTargets=e}getSelectedTargets(){return this.selectedTargets}getSelectedFrames(){return this.getSelectedTargets().map(e=>this.getFrame(e))}renderFrames(){this.getSelectedTargets().forEach(e=>{this.render(e)})}setOrders(e,r){return this.setValue(n=>{n.setOrders(e,r)})}setProperty(e,r){return this.setValue(n=>{n.set(...e,r)})}removeProperties(...e){return this.setValue((r,n)=>{e.forEach(o=>{r.remove(o),n.style.removeProperty(o)})})}getProperties(e,r){const n=this.getSelectedFrames(),o=this.memory;return n.length?e.map((i,a)=>n.map(c=>c.get(...i)).filter(c=>c)[0]||r[a]):e.map((i,a)=>o.get(i.join("///"))||r[a])}setValue(e){const n=this.getSelectedTargets().map(o=>{const i=this.getFrame(o),a=i?.getOrderObject(),s=i?.get();e(i,o);const c=i?.get(),l=i?.getOrderObject();return{id:oh(o),prev:s,prevOrders:a,next:c,nextOrders:l}});return this.renderFrames(),n}}const ja=Er(Hd((t,e)=>({activePanelId:null,selectedNodesByPage:{},setActivePanel:r=>t({activePanelId:r}),setSelectedNodes:(r,n)=>t(o=>({selectedNodesByPage:{...o.selectedNodesByPage,[r]:n}})),addSelectedNode:(r,n)=>t(o=>{const i=o.selectedNodesByPage[r]||[];return i.includes(n)?o:{selectedNodesByPage:{...o.selectedNodesByPage,[r]:[...i,n]}}}),removeSelectedNode:(r,n)=>t(o=>{const i=o.selectedNodesByPage[r]||[];return{selectedNodesByPage:{...o.selectedNodesByPage,[r]:i.filter(a=>a!==n)}}}),clearSelectedNodes:r=>t(n=>({selectedNodesByPage:{...n.selectedNodesByPage,[r]:[]}})),clearAllSelectedNodes:()=>t({selectedNodesByPage:{}}),getSelectedNodes:r=>e().selectedNodesByPage[r]||[],getCurrentSelection:()=>{const r=Ce.getState(),n=Nt.getState(),{selectedTargets:o}=r,i=n.json.docs[0];if(o.length===0||!i)return{selectedDoc:i,selectedNodes:[]};const a=o.map(s=>n.getNode(i.id,s)).filter(Boolean);return{selectedDoc:i,selectedNodes:a}}}),{name:"veltix-editor",storage:kc(()=>localStorage),partialize:t=>({activePanelId:t.activePanelId})}));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),ih=t=>{const e=tS(t);return e.charAt(0).toUpperCase()+e.slice(1)},ah=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),eS=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=K.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:a,...s},c)=>K.createElement("svg",{ref:c,...rS,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:ah("lucide",o),...!i&&!eS(s)&&{"aria-hidden":"true"},...s},[...a.map(([l,u])=>K.createElement(l,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(t,e)=>{const r=K.forwardRef(({className:n,...o},i)=>K.createElement(nS,{ref:i,iconNode:e,className:ah(`lucide-${Qw(ih(t))}`,`lucide-${t}`,n),...o}));return r.displayName=ih(t),r};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=gt("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=gt("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=gt("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=gt("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=gt("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=gt("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=gt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=gt("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=gt("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=gt("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=gt("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=gt("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=gt("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=gt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=gt("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=gt("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=gt("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=gt("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=gt("hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=gt("hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=gt("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=gt("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=gt("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=gt("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=gt("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=gt("magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=gt("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=gt("mouse-pointer-2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=gt("move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=gt("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=gt("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=gt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=gt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=gt("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=gt("shapes",[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=gt("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=gt("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=gt("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=gt("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=gt("triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=gt("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=gt("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function wh(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ia(...t){return e=>{let r=!1;const n=t.map(o=>{const i=wh(o,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){const i=n[o];typeof i=="function"?i():wh(t[o],null)}}}}function xt(...t){return S.useCallback(Ia(...t),t)}function eo(t){const e=PS(t),r=S.forwardRef((n,o)=>{const{children:i,...a}=n,s=S.Children.toArray(i),c=s.find(NS);if(c){const l=c.props.children,u=s.map(f=>f===c?S.Children.count(l)>1?S.Children.only(null):S.isValidElement(l)?l.props.children:null:f);return v.jsx(e,{...a,ref:o,children:S.isValidElement(l)?S.cloneElement(l,void 0,u):null})}return v.jsx(e,{...a,ref:o,children:i})});return r.displayName=`${t}.Slot`,r}var MS=eo("Slot");function PS(t){const e=S.forwardRef((r,n)=>{const{children:o,...i}=r;if(S.isValidElement(o)){const a=jS(o),s=kS(i,o.props);return o.type!==S.Fragment&&(s.ref=n?Ia(n,a):a),S.cloneElement(o,s)}return S.Children.count(o)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Sh=Symbol("radix.slottable");function OS(t){const e=({children:r})=>v.jsx(v.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Sh,e}function NS(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Sh}function kS(t,e){const r={...e};for(const n in e){const o=t[n],i=e[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...s)=>{const c=i(...s);return o(...s),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...t,...r}}function jS(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const Ch=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Eh=yi,El=(t,e)=>r=>{var n;if(e?.variants==null)return Eh(t,r?.class,r?.className);const{variants:o,defaultVariants:i}=e,a=Object.keys(o).map(l=>{const u=r?.[l],f=i?.[l];if(u===null)return null;const d=Ch(u)||Ch(f);return o[l][d]}),s=r&&Object.entries(r).reduce((l,u)=>{let[f,d]=u;return d===void 0||(l[f]=d),l},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((l,u)=>{let{class:f,className:d,...p}=u;return Object.entries(p).every(g=>{let[h,m]=g;return Array.isArray(m)?m.includes({...i,...s}[h]):{...i,...s}[h]===m})?[...l,f,d]:l},[]);return Eh(t,a,c,r?.class,r?.className)};function bt(...t){return rh(yi(t))}const AS=El("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function _e({className:t,variant:e,size:r,asChild:n=!1,...o}){const i=n?MS:"button";return v.jsx(i,{"data-slot":"button",className:bt(AS({variant:e,size:r,className:t})),...o})}const _h=S.forwardRef(({className:t,...e},r)=>v.jsx("textarea",{className:bt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));_h.displayName="Textarea";var dr=(t=>(t.Sidebar="sidebar",t.Panel="panel",t.AuxiliaryBar="auxiliarybar",t))(dr||{});const Fa=Er((t,e)=>({containers:{},views:{sidebar:[],panel:[],auxiliarybar:[]},registerViewContainer:(r,n)=>t(o=>o.views[n]&&o.views[n].some(i=>i.id===r.id)?o:{views:{...o.views,[n]:[...o.views[n],r]}}),getViewsByLocation:r=>e().views[r]??[],getViewContainer:r=>e().views.sidebar.find(i=>i.id===r)}));function Wr(t,e){Fa.getState().registerViewContainer(t,e)}const te=S.forwardRef(({className:t,type:e,...r},n)=>v.jsx("input",{type:e,className:bt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));te.displayName="Input";var IS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ft=IS.reduce((t,e)=>{const r=eo(`Primitive.${e}`),n=S.forwardRef((o,i)=>{const{asChild:a,...s}=o,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(c,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Th(t,e){t&&va.flushSync(()=>t.dispatchEvent(e))}var FS="Label",Dh=S.forwardRef((t,e)=>v.jsx(ft.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Dh.displayName=FS;var Rh=Dh;const BS=El("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qt=S.forwardRef(({className:t,...e},r)=>v.jsx(Rh,{ref:r,className:bt(BS(),t),...e}));qt.displayName=Rh.displayName;function nt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}function Ie(t,e=[]){let r=[];function n(i,a){const s=S.createContext(a),c=r.length;r=[...r,a];const l=f=>{const{scope:d,children:p,...g}=f,h=d?.[t]?.[c]||s,m=S.useMemo(()=>g,Object.values(g));return v.jsx(h.Provider,{value:m,children:p})};l.displayName=i+"Provider";function u(f,d){const p=d?.[t]?.[c]||s,g=S.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[l,u]}const o=()=>{const i=r.map(a=>S.createContext(a));return function(s){const c=s?.[t]||i;return S.useMemo(()=>({[`__scope${t}`]:{...s,[t]:c}}),[s,c])}};return o.scopeName=t,[n,LS(o,...e)]}function LS(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=n.reduce((s,{useScope:c,scopeName:l})=>{const f=c(i)[`__scope${l}`];return{...s,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function Ba(t){const e=t+"CollectionProvider",[r,n]=Ie(e),[o,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:m,children:y}=h,x=K.useRef(null),b=K.useRef(new Map).current;return v.jsx(o,{scope:m,itemMap:b,collectionRef:x,children:y})};a.displayName=e;const s=t+"CollectionSlot",c=eo(s),l=K.forwardRef((h,m)=>{const{scope:y,children:x}=h,b=i(s,y),w=xt(m,b.collectionRef);return v.jsx(c,{ref:w,children:x})});l.displayName=s;const u=t+"CollectionItemSlot",f="data-radix-collection-item",d=eo(u),p=K.forwardRef((h,m)=>{const{scope:y,children:x,...b}=h,w=K.useRef(null),_=xt(m,w),E=i(u,y);return K.useEffect(()=>(E.itemMap.set(w,{ref:w,...b}),()=>void E.itemMap.delete(w))),v.jsx(d,{[f]:"",ref:_,children:x})});p.displayName=u;function g(h){const m=i(t+"CollectionConsumer",h);return K.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(m.itemMap.values()).sort((E,C)=>b.indexOf(E.ref.current)-b.indexOf(C.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:a,Slot:l,ItemSlot:p},g,n]}var re=globalThis?.document?S.useLayoutEffect:()=>{},zS=S[" useId ".trim().toString()]||(()=>{}),GS=0;function Rr(t){const[e,r]=S.useState(zS());return re(()=>{r(n=>n??String(GS++))},[t]),e?`radix-${e}`:""}function ae(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...r)=>e.current?.(...r),[])}var $S=S[" useInsertionEffect ".trim().toString()]||re;function Mr({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[o,i,a]=VS({defaultProp:e,onChange:r}),s=t!==void 0,c=s?t:o;{const u=S.useRef(t!==void 0);S.useEffect(()=>{const f=u.current;f!==s&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,n])}const l=S.useCallback(u=>{if(s){const f=WS(u)?u(t):u;f!==t&&a.current?.(f)}else i(u)},[s,t,i,a]);return[c,l]}function VS({defaultProp:t,onChange:e}){const[r,n]=S.useState(t),o=S.useRef(r),i=S.useRef(e);return $S(()=>{i.current=e},[e]),S.useEffect(()=>{o.current!==r&&(i.current?.(r),o.current=r)},[r,o]),[r,n,i]}function WS(t){return typeof t=="function"}var HS=S.createContext(void 0);function ro(t){const e=S.useContext(HS);return t||e||"ltr"}var _l="rovingFocusGroup.onEntryFocus",YS={bubbles:!1,cancelable:!0},wi="RovingFocusGroup",[Tl,Mh,US]=Ba(wi),[XS,La]=Ie(wi,[US]),[qS,KS]=XS(wi),Ph=S.forwardRef((t,e)=>v.jsx(Tl.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(Tl.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(ZS,{...t,ref:e})})}));Ph.displayName=wi;var ZS=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...f}=t,d=S.useRef(null),p=xt(e,d),g=ro(i),[h,m]=Mr({prop:a,defaultProp:s??null,onChange:c,caller:wi}),[y,x]=S.useState(!1),b=ae(l),w=Mh(r),_=S.useRef(!1),[E,C]=S.useState(0);return S.useEffect(()=>{const T=d.current;if(T)return T.addEventListener(_l,b),()=>T.removeEventListener(_l,b)},[b]),v.jsx(qS,{scope:r,orientation:n,dir:g,loop:o,currentTabStopId:h,onItemFocus:S.useCallback(T=>m(T),[m]),onItemShiftTab:S.useCallback(()=>x(!0),[]),onFocusableItemAdd:S.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:S.useCallback(()=>C(T=>T-1),[]),children:v.jsx(ft.div,{tabIndex:y||E===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:nt(t.onMouseDown,()=>{_.current=!0}),onFocus:nt(t.onFocus,T=>{const D=!_.current;if(T.target===T.currentTarget&&D&&!y){const R=new CustomEvent(_l,YS);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=w().filter($=>$.focusable),M=N.find($=>$.active),O=N.find($=>$.id===h),F=[M,O,...N].filter(Boolean).map($=>$.ref.current);kh(F,u)}}_.current=!1}),onBlur:nt(t.onBlur,()=>x(!1))})})}),Oh="RovingFocusGroupItem",Nh=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:i,children:a,...s}=t,c=Rr(),l=i||c,u=KS(Oh,r),f=u.currentTabStopId===l,d=Mh(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:h}=u;return S.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),v.jsx(Tl.ItemSlot,{scope:r,id:l,focusable:n,active:o,children:v.jsx(ft.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:nt(t.onMouseDown,m=>{n?u.onItemFocus(l):m.preventDefault()}),onFocus:nt(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:nt(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){u.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const y=tC(m,u.orientation,u.dir);if(y!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let b=d().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const w=b.indexOf(m.currentTarget);b=u.loop?eC(b,w+1):b.slice(w+1)}setTimeout(()=>kh(b))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:h!=null}):a})})});Nh.displayName=Oh;var JS={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QS(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function tC(t,e,r){const n=QS(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return JS[n]}function kh(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function eC(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var jh=Ph,Ah=Nh;function rC(t,e){return S.useReducer((r,n)=>e[r][n]??r,t)}var Te=t=>{const{present:e,children:r}=t,n=nC(e),o=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),i=xt(n.ref,oC(o));return typeof r=="function"||n.isPresent?S.cloneElement(o,{ref:i}):null};Te.displayName="Presence";function nC(t){const[e,r]=S.useState(),n=S.useRef(null),o=S.useRef(t),i=S.useRef("none"),a=t?"mounted":"unmounted",[s,c]=rC(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const l=za(n.current);i.current=s==="mounted"?l:"none"},[s]),re(()=>{const l=n.current,u=o.current;if(u!==t){const d=i.current,p=za(l);t?c("MOUNT"):p==="none"||l?.display==="none"?c("UNMOUNT"):c(u&&d!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,c]),re(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,f=p=>{const h=za(n.current).includes(p.animationName);if(p.target===e&&h&&(c("ANIMATION_END"),!o.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},d=p=>{p.target===e&&(i.current=za(n.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:S.useCallback(l=>{n.current=l?getComputedStyle(l):null,r(l)},[])}}function za(t){return t?.animationName||"none"}function oC(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Ga="Tabs",[iC,RA]=Ie(Ga,[La]),Ih=La(),[aC,Dl]=iC(Ga),Fh=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:i,orientation:a="horizontal",dir:s,activationMode:c="automatic",...l}=t,u=ro(s),[f,d]=Mr({prop:n,onChange:o,defaultProp:i??"",caller:Ga});return v.jsx(aC,{scope:r,baseId:Rr(),value:f,onValueChange:d,orientation:a,dir:u,activationMode:c,children:v.jsx(ft.div,{dir:u,"data-orientation":a,...l,ref:e})})});Fh.displayName=Ga;var Bh="TabsList",Lh=S.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...o}=t,i=Dl(Bh,r),a=Ih(r);return v.jsx(jh,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:v.jsx(ft.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:e})})});Lh.displayName=Bh;var zh="TabsTrigger",Gh=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...i}=t,a=Dl(zh,r),s=Ih(r),c=Wh(a.baseId,n),l=Hh(a.baseId,n),u=n===a.value;return v.jsx(Ah,{asChild:!0,...s,focusable:!o,active:u,children:v.jsx(ft.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":l,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...i,ref:e,onMouseDown:nt(t.onMouseDown,f=>{!o&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:nt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:nt(t.onFocus,()=>{const f=a.activationMode!=="manual";!u&&!o&&f&&a.onValueChange(n)})})})});Gh.displayName=zh;var $h="TabsContent",Vh=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:o,children:i,...a}=t,s=Dl($h,r),c=Wh(s.baseId,n),l=Hh(s.baseId,n),u=n===s.value,f=S.useRef(u);return S.useEffect(()=>{const d=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(d)},[]),v.jsx(Te,{present:o||u,children:({present:d})=>v.jsx(ft.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!d,id:l,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:d&&i})})});Vh.displayName=$h;function Wh(t,e){return`${t}-trigger-${e}`}function Hh(t,e){return`${t}-content-${e}`}var sC=Fh,Yh=Lh,Uh=Gh,Xh=Vh;const qh=sC,Rl=S.forwardRef(({className:t,...e},r)=>v.jsx(Yh,{ref:r,className:bt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));Rl.displayName=Yh.displayName;const Hr=S.forwardRef(({className:t,...e},r)=>v.jsx(Uh,{ref:r,className:bt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Hr.displayName=Uh.displayName;const Yr=S.forwardRef(({className:t,...e},r)=>v.jsx(Xh,{ref:r,className:bt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Yr.displayName=Xh.displayName;function Si(t,[e,r]){return Math.min(r,Math.max(e,t))}function cC(t,e=globalThis?.document){const r=ae(t);S.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var lC="DismissableLayer",Ml="dismissableLayer.update",uC="dismissableLayer.pointerDownOutside",fC="dismissableLayer.focusOutside",Kh,Zh=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$a=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:s,...c}=t,l=S.useContext(Zh),[u,f]=S.useState(null),d=u?.ownerDocument??globalThis?.document,[,p]=S.useState({}),g=xt(e,C=>f(C)),h=Array.from(l.layers),[m]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),y=h.indexOf(m),x=u?h.indexOf(u):-1,b=l.layersWithOutsidePointerEventsDisabled.size>0,w=x>=y,_=hC(C=>{const T=C.target,D=[...l.branches].some(R=>R.contains(T));!w||D||(o?.(C),a?.(C),C.defaultPrevented||s?.())},d),E=vC(C=>{const T=C.target;[...l.branches].some(R=>R.contains(T))||(i?.(C),a?.(C),C.defaultPrevented||s?.())},d);return cC(C=>{x===l.layers.size-1&&(n?.(C),!C.defaultPrevented&&s&&(C.preventDefault(),s()))},d),S.useEffect(()=>{if(u)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Kh=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),Jh(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Kh)}},[u,d,r,l]),S.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),Jh())},[u,l]),S.useEffect(()=>{const C=()=>p({});return document.addEventListener(Ml,C),()=>document.removeEventListener(Ml,C)},[]),v.jsx(ft.div,{...c,ref:g,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:nt(t.onFocusCapture,E.onFocusCapture),onBlurCapture:nt(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:nt(t.onPointerDownCapture,_.onPointerDownCapture)})});$a.displayName=lC;var dC="DismissableLayerBranch",pC=S.forwardRef((t,e)=>{const r=S.useContext(Zh),n=S.useRef(null),o=xt(e,n);return S.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),v.jsx(ft.div,{...t,ref:o})});pC.displayName=dC;function hC(t,e=globalThis?.document){const r=ae(t),n=S.useRef(!1),o=S.useRef(()=>{});return S.useEffect(()=>{const i=s=>{if(s.target&&!n.current){let c=function(){Qh(uC,r,l,{discrete:!0})};const l={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=c,e.addEventListener("click",o.current,{once:!0})):c()}else e.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function vC(t,e=globalThis?.document){const r=ae(t),n=S.useRef(!1);return S.useEffect(()=>{const o=i=>{i.target&&!n.current&&Qh(fC,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Jh(){const t=new CustomEvent(Ml);document.dispatchEvent(t)}function Qh(t,e,r,{discrete:n}){const o=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),n?Th(o,i):o.dispatchEvent(i)}var Pl=0;function tv(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ev()),document.body.insertAdjacentElement("beforeend",t[1]??ev()),Pl++,()=>{Pl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Pl--}},[])}function ev(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ol="focusScope.autoFocusOnMount",Nl="focusScope.autoFocusOnUnmount",rv={bubbles:!1,cancelable:!0},gC="FocusScope",kl=S.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=t,[s,c]=S.useState(null),l=ae(o),u=ae(i),f=S.useRef(null),d=xt(e,h=>c(h)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let h=function(b){if(p.paused||!s)return;const w=b.target;s.contains(w)?f.current=w:Ur(f.current,{select:!0})},m=function(b){if(p.paused||!s)return;const w=b.relatedTarget;w!==null&&(s.contains(w)||Ur(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&Ur(s)};document.addEventListener("focusin",h),document.addEventListener("focusout",m);const x=new MutationObserver(y);return s&&x.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",m),x.disconnect()}}},[n,s,p.paused]),S.useEffect(()=>{if(s){iv.add(p);const h=document.activeElement;if(!s.contains(h)){const y=new CustomEvent(Ol,rv);s.addEventListener(Ol,l),s.dispatchEvent(y),y.defaultPrevented||(mC(SC(nv(s)),{select:!0}),document.activeElement===h&&Ur(s))}return()=>{s.removeEventListener(Ol,l),setTimeout(()=>{const y=new CustomEvent(Nl,rv);s.addEventListener(Nl,u),s.dispatchEvent(y),y.defaultPrevented||Ur(h??document.body,{select:!0}),s.removeEventListener(Nl,u),iv.remove(p)},0)}}},[s,l,u,p]);const g=S.useCallback(h=>{if(!r&&!n||p.paused)return;const m=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,y=document.activeElement;if(m&&y){const x=h.currentTarget,[b,w]=yC(x);b&&w?!h.shiftKey&&y===w?(h.preventDefault(),r&&Ur(b,{select:!0})):h.shiftKey&&y===b&&(h.preventDefault(),r&&Ur(w,{select:!0})):y===x&&h.preventDefault()}},[r,n,p.paused]);return v.jsx(ft.div,{tabIndex:-1,...a,ref:d,onKeyDown:g})});kl.displayName=gC;function mC(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ur(n,{select:e}),document.activeElement!==r)return}function yC(t){const e=nv(t),r=ov(e,t),n=ov(e.reverse(),t);return[r,n]}function nv(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function ov(t,e){for(const r of t)if(!xC(r,{upTo:e}))return r}function xC(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bC(t){return t instanceof HTMLInputElement&&"select"in t}function Ur(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&bC(t)&&e&&t.select()}}var iv=wC();function wC(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=av(t,e),t.unshift(e)},remove(e){t=av(t,e),t[0]?.resume()}}}function av(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function SC(t){return t.filter(e=>e.tagName!=="A")}const CC=["top","right","bottom","left"],Xr=Math.min,De=Math.max,Va=Math.round,Wa=Math.floor,pr=t=>({x:t,y:t}),EC={left:"right",right:"left",bottom:"top",top:"bottom"},_C={start:"end",end:"start"};function jl(t,e,r){return De(t,Xr(e,r))}function Pr(t,e){return typeof t=="function"?t(e):t}function Or(t){return t.split("-")[0]}function no(t){return t.split("-")[1]}function Al(t){return t==="x"?"y":"x"}function Il(t){return t==="y"?"height":"width"}function hr(t){return["top","bottom"].includes(Or(t))?"y":"x"}function Fl(t){return Al(hr(t))}function TC(t,e,r){r===void 0&&(r=!1);const n=no(t),o=Fl(t),i=Il(o);let a=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Ha(a)),[a,Ha(a)]}function DC(t){const e=Ha(t);return[Bl(t),e,Bl(e)]}function Bl(t){return t.replace(/start|end/g,e=>_C[e])}function RC(t,e,r){const n=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return r?e?o:n:e?n:o;case"left":case"right":return e?i:a;default:return[]}}function MC(t,e,r,n){const o=no(t);let i=RC(Or(t),r==="start",n);return o&&(i=i.map(a=>a+"-"+o),e&&(i=i.concat(i.map(Bl)))),i}function Ha(t){return t.replace(/left|right|bottom|top/g,e=>EC[e])}function PC(t){return{top:0,right:0,bottom:0,left:0,...t}}function sv(t){return typeof t!="number"?PC(t):{top:t,right:t,bottom:t,left:t}}function Ya(t){const{x:e,y:r,width:n,height:o}=t;return{width:n,height:o,top:r,left:e,right:e+n,bottom:r+o,x:e,y:r}}function cv(t,e,r){let{reference:n,floating:o}=t;const i=hr(e),a=Fl(e),s=Il(a),c=Or(e),l=i==="y",u=n.x+n.width/2-o.width/2,f=n.y+n.height/2-o.height/2,d=n[s]/2-o[s]/2;let p;switch(c){case"top":p={x:u,y:n.y-o.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-o.width,y:f};break;default:p={x:n.x,y:n.y}}switch(no(e)){case"start":p[a]-=d*(r&&l?-1:1);break;case"end":p[a]+=d*(r&&l?-1:1);break}return p}const OC=async(t,e,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:a}=r,s=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let l=await a.getElementRects({reference:t,floating:e,strategy:o}),{x:u,y:f}=cv(l,n,c),d=n,p={},g=0;for(let h=0;h<s.length;h++){const{name:m,fn:y}=s[h],{x,y:b,data:w,reset:_}=await y({x:u,y:f,initialPlacement:n,placement:d,strategy:o,middlewareData:p,rects:l,platform:a,elements:{reference:t,floating:e}});u=x??u,f=b??f,p={...p,[m]:{...p[m],...w}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(d=_.placement),_.rects&&(l=_.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:o}):_.rects),{x:u,y:f}=cv(l,d,c)),h=-1)}return{x:u,y:f,placement:d,strategy:o,middlewareData:p}};async function Ci(t,e){var r;e===void 0&&(e={});const{x:n,y:o,platform:i,rects:a,elements:s,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Pr(e,t),g=sv(p),m=s[d?f==="floating"?"reference":"floating":f],y=Ya(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(m)))==null||r?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:u,strategy:c})),x=f==="floating"?{x:n,y:o,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),w=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=Ya(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:b,strategy:c}):x);return{top:(y.top-_.top+g.top)/w.y,bottom:(_.bottom-y.bottom+g.bottom)/w.y,left:(y.left-_.left+g.left)/w.x,right:(_.right-y.right+g.right)/w.x}}const NC=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:o,rects:i,platform:a,elements:s,middlewareData:c}=e,{element:l,padding:u=0}=Pr(t,e)||{};if(l==null)return{};const f=sv(u),d={x:r,y:n},p=Fl(o),g=Il(p),h=await a.getDimensions(l),m=p==="y",y=m?"top":"left",x=m?"bottom":"right",b=m?"clientHeight":"clientWidth",w=i.reference[g]+i.reference[p]-d[p]-i.floating[g],_=d[p]-i.reference[p],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let C=E?E[b]:0;(!C||!await(a.isElement==null?void 0:a.isElement(E)))&&(C=s.floating[b]||i.floating[g]);const T=w/2-_/2,D=C/2-h[g]/2-1,R=Xr(f[y],D),N=Xr(f[x],D),M=R,O=C-h[g]-N,k=C/2-h[g]/2+T,F=jl(M,k,O),$=!c.arrow&&no(o)!=null&&k!==F&&i.reference[g]/2-(k<M?R:N)-h[g]/2<0,V=$?k<M?k-M:k-O:0;return{[p]:d[p]+V,data:{[p]:F,centerOffset:k-F-V,...$&&{alignmentOffset:V}},reset:$}}}),kC=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:h=!0,...m}=Pr(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Or(o),x=hr(s),b=Or(s)===s,w=await(c.isRTL==null?void 0:c.isRTL(l.floating)),_=d||(b||!h?[Ha(s)]:DC(s)),E=g!=="none";!d&&E&&_.push(...MC(s,h,g,w));const C=[s,..._],T=await Ci(e,m),D=[];let R=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&D.push(T[y]),f){const k=TC(o,a,w);D.push(T[k[0]],T[k[1]])}if(R=[...R,{placement:o,overflows:D}],!D.every(k=>k<=0)){var N,M;const k=(((N=i.flip)==null?void 0:N.index)||0)+1,F=C[k];if(F&&(!(f==="alignment"?x!==hr(F):!1)||R.every(L=>L.overflows[0]>0&&hr(L.placement)===x)))return{data:{index:k,overflows:R},reset:{placement:F}};let $=(M=R.filter(V=>V.overflows[0]<=0).sort((V,L)=>V.overflows[1]-L.overflows[1])[0])==null?void 0:M.placement;if(!$)switch(p){case"bestFit":{var O;const V=(O=R.filter(L=>{if(E){const z=hr(L.placement);return z===x||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,A)=>z+A,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:O[0];V&&($=V);break}case"initialPlacement":$=s;break}if(o!==$)return{reset:{placement:$}}}return{}}}};function lv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function uv(t){return CC.some(e=>t[e]>=0)}const jC=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...o}=Pr(t,e);switch(n){case"referenceHidden":{const i=await Ci(e,{...o,elementContext:"reference"}),a=lv(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:uv(a)}}}case"escaped":{const i=await Ci(e,{...o,altBoundary:!0}),a=lv(i,r.floating);return{data:{escapedOffsets:a,escaped:uv(a)}}}default:return{}}}}};async function AC(t,e){const{placement:r,platform:n,elements:o}=t,i=await(n.isRTL==null?void 0:n.isRTL(o.floating)),a=Or(r),s=no(r),c=hr(r)==="y",l=["left","top"].includes(a)?-1:1,u=i&&c?-1:1,f=Pr(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof g=="number"&&(p=s==="end"?g*-1:g),c?{x:p*u,y:d*l}:{x:d*l,y:p*u}}const IC=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:o,y:i,placement:a,middlewareData:s}=e,c=await AC(e,t);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:a}}}}},FC=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:o}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:m=>{let{x:y,y:x}=m;return{x:y,y:x}}},...c}=Pr(t,e),l={x:r,y:n},u=await Ci(e,c),f=hr(Or(o)),d=Al(f);let p=l[d],g=l[f];if(i){const m=d==="y"?"top":"left",y=d==="y"?"bottom":"right",x=p+u[m],b=p-u[y];p=jl(x,p,b)}if(a){const m=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=g+u[m],b=g-u[y];g=jl(x,g,b)}const h=s.fn({...e,[d]:p,[f]:g});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[d]:i,[f]:a}}}}}},BC=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:o,rects:i,middlewareData:a}=e,{offset:s=0,mainAxis:c=!0,crossAxis:l=!0}=Pr(t,e),u={x:r,y:n},f=hr(o),d=Al(f);let p=u[d],g=u[f];const h=Pr(s,e),m=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){const b=d==="y"?"height":"width",w=i.reference[d]-i.floating[b]+m.mainAxis,_=i.reference[d]+i.reference[b]-m.mainAxis;p<w?p=w:p>_&&(p=_)}if(l){var y,x;const b=d==="y"?"width":"height",w=["top","left"].includes(Or(o)),_=i.reference[f]-i.floating[b]+(w&&((y=a.offset)==null?void 0:y[f])||0)+(w?0:m.crossAxis),E=i.reference[f]+i.reference[b]+(w?0:((x=a.offset)==null?void 0:x[f])||0)-(w?m.crossAxis:0);g<_?g=_:g>E&&(g=E)}return{[d]:p,[f]:g}}}},LC=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:o,rects:i,platform:a,elements:s}=e,{apply:c=()=>{},...l}=Pr(t,e),u=await Ci(e,l),f=Or(o),d=no(o),p=hr(o)==="y",{width:g,height:h}=i.floating;let m,y;f==="top"||f==="bottom"?(m=f,y=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(y=f,m=d==="end"?"top":"bottom");const x=h-u.top-u.bottom,b=g-u.left-u.right,w=Xr(h-u[m],x),_=Xr(g-u[y],b),E=!e.middlewareData.shift;let C=w,T=_;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=x),E&&!d){const R=De(u.left,0),N=De(u.right,0),M=De(u.top,0),O=De(u.bottom,0);p?T=g-2*(R!==0||N!==0?R+N:De(u.left,u.right)):C=h-2*(M!==0||O!==0?M+O:De(u.top,u.bottom))}await c({...e,availableWidth:T,availableHeight:C});const D=await a.getDimensions(s.floating);return g!==D.width||h!==D.height?{reset:{rects:!0}}:{}}}};function Ua(){return typeof window<"u"}function oo(t){return fv(t)?(t.nodeName||"").toLowerCase():"#document"}function Re(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vr(t){var e;return(e=(fv(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function fv(t){return Ua()?t instanceof Node||t instanceof Re(t).Node:!1}function Ke(t){return Ua()?t instanceof Element||t instanceof Re(t).Element:!1}function gr(t){return Ua()?t instanceof HTMLElement||t instanceof Re(t).HTMLElement:!1}function dv(t){return!Ua()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Re(t).ShadowRoot}function Ei(t){const{overflow:e,overflowX:r,overflowY:n,display:o}=Ze(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(o)}function zC(t){return["table","td","th"].includes(oo(t))}function Xa(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Ll(t){const e=zl(),r=Ke(t)?Ze(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function GC(t){let e=qr(t);for(;gr(e)&&!io(e);){if(Ll(e))return e;if(Xa(e))return null;e=qr(e)}return null}function zl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function io(t){return["html","body","#document"].includes(oo(t))}function Ze(t){return Re(t).getComputedStyle(t)}function qa(t){return Ke(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function qr(t){if(oo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dv(t)&&t.host||vr(t);return dv(e)?e.host:e}function pv(t){const e=qr(t);return io(e)?t.ownerDocument?t.ownerDocument.body:t.body:gr(e)&&Ei(e)?e:pv(e)}function _i(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=pv(t),i=o===((n=t.ownerDocument)==null?void 0:n.body),a=Re(o);if(i){const s=Gl(a);return e.concat(a,a.visualViewport||[],Ei(o)?o:[],s&&r?_i(s):[])}return e.concat(o,_i(o,[],r))}function Gl(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hv(t){const e=Ze(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=gr(t),i=o?t.offsetWidth:r,a=o?t.offsetHeight:n,s=Va(r)!==i||Va(n)!==a;return s&&(r=i,n=a),{width:r,height:n,$:s}}function $l(t){return Ke(t)?t:t.contextElement}function ao(t){const e=$l(t);if(!gr(e))return pr(1);const r=e.getBoundingClientRect(),{width:n,height:o,$:i}=hv(e);let a=(i?Va(r.width):r.width)/n,s=(i?Va(r.height):r.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const $C=pr(0);function vv(t){const e=Re(t);return!zl()||!e.visualViewport?$C:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function VC(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Re(t)?!1:e}function yn(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),i=$l(t);let a=pr(1);e&&(n?Ke(n)&&(a=ao(n)):a=ao(t));const s=VC(i,r,n)?vv(i):pr(0);let c=(o.left+s.x)/a.x,l=(o.top+s.y)/a.y,u=o.width/a.x,f=o.height/a.y;if(i){const d=Re(i),p=n&&Ke(n)?Re(n):n;let g=d,h=Gl(g);for(;h&&n&&p!==g;){const m=ao(h),y=h.getBoundingClientRect(),x=Ze(h),b=y.left+(h.clientLeft+parseFloat(x.paddingLeft))*m.x,w=y.top+(h.clientTop+parseFloat(x.paddingTop))*m.y;c*=m.x,l*=m.y,u*=m.x,f*=m.y,c+=b,l+=w,g=Re(h),h=Gl(g)}}return Ya({width:u,height:f,x:c,y:l})}function Vl(t,e){const r=qa(t).scrollLeft;return e?e.left+r:yn(vr(t)).left+r}function gv(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-(r?0:Vl(t,n)),i=n.top+e.scrollTop;return{x:o,y:i}}function WC(t){let{elements:e,rect:r,offsetParent:n,strategy:o}=t;const i=o==="fixed",a=vr(n),s=e?Xa(e.floating):!1;if(n===a||s&&i)return r;let c={scrollLeft:0,scrollTop:0},l=pr(1);const u=pr(0),f=gr(n);if((f||!f&&!i)&&((oo(n)!=="body"||Ei(a))&&(c=qa(n)),gr(n))){const p=yn(n);l=ao(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const d=a&&!f&&!i?gv(a,c,!0):pr(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-c.scrollLeft*l.x+u.x+d.x,y:r.y*l.y-c.scrollTop*l.y+u.y+d.y}}function HC(t){return Array.from(t.getClientRects())}function YC(t){const e=vr(t),r=qa(t),n=t.ownerDocument.body,o=De(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=De(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Vl(t);const s=-r.scrollTop;return Ze(n).direction==="rtl"&&(a+=De(e.clientWidth,n.clientWidth)-o),{width:o,height:i,x:a,y:s}}function UC(t,e){const r=Re(t),n=vr(t),o=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;const l=zl();(!l||l&&e==="fixed")&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s,y:c}}function XC(t,e){const r=yn(t,!0,e==="fixed"),n=r.top+t.clientTop,o=r.left+t.clientLeft,i=gr(t)?ao(t):pr(1),a=t.clientWidth*i.x,s=t.clientHeight*i.y,c=o*i.x,l=n*i.y;return{width:a,height:s,x:c,y:l}}function mv(t,e,r){let n;if(e==="viewport")n=UC(t,r);else if(e==="document")n=YC(vr(t));else if(Ke(e))n=XC(e,r);else{const o=vv(t);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Ya(n)}function yv(t,e){const r=qr(t);return r===e||!Ke(r)||io(r)?!1:Ze(r).position==="fixed"||yv(r,e)}function qC(t,e){const r=e.get(t);if(r)return r;let n=_i(t,[],!1).filter(s=>Ke(s)&&oo(s)!=="body"),o=null;const i=Ze(t).position==="fixed";let a=i?qr(t):t;for(;Ke(a)&&!io(a);){const s=Ze(a),c=Ll(a);!c&&s.position==="fixed"&&(o=null),(i?!c&&!o:!c&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ei(a)&&!c&&yv(t,a))?n=n.filter(u=>u!==a):o=s,a=qr(a)}return e.set(t,n),n}function KC(t){let{element:e,boundary:r,rootBoundary:n,strategy:o}=t;const a=[...r==="clippingAncestors"?Xa(e)?[]:qC(e,this._c):[].concat(r),n],s=a[0],c=a.reduce((l,u)=>{const f=mv(e,u,o);return l.top=De(f.top,l.top),l.right=Xr(f.right,l.right),l.bottom=Xr(f.bottom,l.bottom),l.left=De(f.left,l.left),l},mv(e,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ZC(t){const{width:e,height:r}=hv(t);return{width:e,height:r}}function JC(t,e,r){const n=gr(e),o=vr(e),i=r==="fixed",a=yn(t,!0,i,e);let s={scrollLeft:0,scrollTop:0};const c=pr(0);function l(){c.x=Vl(o)}if(n||!n&&!i)if((oo(e)!=="body"||Ei(o))&&(s=qa(e)),n){const p=yn(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else o&&l();i&&!n&&o&&l();const u=o&&!n&&!i?gv(o,s):pr(0),f=a.left+s.scrollLeft-c.x-u.x,d=a.top+s.scrollTop-c.y-u.y;return{x:f,y:d,width:a.width,height:a.height}}function Wl(t){return Ze(t).position==="static"}function xv(t,e){if(!gr(t)||Ze(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return vr(t)===r&&(r=r.ownerDocument.body),r}function bv(t,e){const r=Re(t);if(Xa(t))return r;if(!gr(t)){let o=qr(t);for(;o&&!io(o);){if(Ke(o)&&!Wl(o))return o;o=qr(o)}return r}let n=xv(t,e);for(;n&&zC(n)&&Wl(n);)n=xv(n,e);return n&&io(n)&&Wl(n)&&!Ll(n)?r:n||GC(t)||r}const QC=async function(t){const e=this.getOffsetParent||bv,r=this.getDimensions,n=await r(t.floating);return{reference:JC(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tE(t){return Ze(t).direction==="rtl"}const eE={convertOffsetParentRelativeRectToViewportRelativeRect:WC,getDocumentElement:vr,getClippingRect:KC,getOffsetParent:bv,getElementRects:QC,getClientRects:HC,getDimensions:ZC,getScale:ao,isElement:Ke,isRTL:tE};function wv(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function rE(t,e){let r=null,n;const o=vr(t);function i(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),i();const l=t.getBoundingClientRect(),{left:u,top:f,width:d,height:p}=l;if(s||e(),!d||!p)return;const g=Wa(f),h=Wa(o.clientWidth-(u+d)),m=Wa(o.clientHeight-(f+p)),y=Wa(u),b={rootMargin:-g+"px "+-h+"px "+-m+"px "+-y+"px",threshold:De(0,Xr(1,c))||1};let w=!0;function _(E){const C=E[0].intersectionRatio;if(C!==c){if(!w)return a();C?a(!1,C):n=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!wv(l,t.getBoundingClientRect())&&a(),w=!1}try{r=new IntersectionObserver(_,{...b,root:o.ownerDocument})}catch{r=new IntersectionObserver(_,b)}r.observe(t)}return a(!0),i}function nE(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=$l(t),u=o||i?[...l?_i(l):[],..._i(e)]:[];u.forEach(y=>{o&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=l&&s?rE(l,r):null;let d=-1,p=null;a&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===l&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),r()}),l&&!c&&p.observe(l),p.observe(e));let g,h=c?yn(t):null;c&&m();function m(){const y=yn(t);h&&!wv(h,y)&&r(),h=y,g=requestAnimationFrame(m)}return r(),()=>{var y;u.forEach(x=>{o&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f?.(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const oE=IC,iE=FC,aE=kC,sE=LC,cE=jC,Sv=NC,lE=BC,uE=(t,e,r)=>{const n=new Map,o={platform:eE,...r},i={...o.platform,_c:n};return OC(t,e,{...o,platform:i})};var fE=typeof document<"u",dE=function(){},Ka=fE?K.useLayoutEffect:dE;function Za(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Za(t[n],e[n]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,o[n]))return!1;for(n=r;n--!==0;){const i=o[n];if(!(i==="_owner"&&t.$$typeof)&&!Za(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Cv(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ev(t,e){const r=Cv(t);return Math.round(e*r)/r}function Hl(t){const e=S.useRef(t);return Ka(()=>{e.current=t}),e}function pE(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:i,floating:a}={},transform:s=!0,whileElementsMounted:c,open:l}=t,[u,f]=S.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=S.useState(n);Za(d,n)||p(n);const[g,h]=S.useState(null),[m,y]=S.useState(null),x=S.useCallback(L=>{L!==E.current&&(E.current=L,h(L))},[]),b=S.useCallback(L=>{L!==C.current&&(C.current=L,y(L))},[]),w=i||g,_=a||m,E=S.useRef(null),C=S.useRef(null),T=S.useRef(u),D=c!=null,R=Hl(c),N=Hl(o),M=Hl(l),O=S.useCallback(()=>{if(!E.current||!C.current)return;const L={placement:e,strategy:r,middleware:d};N.current&&(L.platform=N.current),uE(E.current,C.current,L).then(z=>{const A={...z,isPositioned:M.current!==!1};k.current&&!Za(T.current,A)&&(T.current=A,va.flushSync(()=>{f(A)}))})},[d,e,r,N,M]);Ka(()=>{l===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[l]);const k=S.useRef(!1);Ka(()=>(k.current=!0,()=>{k.current=!1}),[]),Ka(()=>{if(w&&(E.current=w),_&&(C.current=_),w&&_){if(R.current)return R.current(w,_,O);O()}},[w,_,O,R,D]);const F=S.useMemo(()=>({reference:E,floating:C,setReference:x,setFloating:b}),[x,b]),$=S.useMemo(()=>({reference:w,floating:_}),[w,_]),V=S.useMemo(()=>{const L={position:r,left:0,top:0};if(!$.floating)return L;const z=Ev($.floating,u.x),A=Ev($.floating,u.y);return s?{...L,transform:"translate("+z+"px, "+A+"px)",...Cv($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:A}},[r,s,$.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:O,refs:F,elements:$,floatingStyles:V}),[u,O,F,$,V])}const hE=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:o}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Sv({element:n.current,padding:o}).fn(r):{}:n?Sv({element:n,padding:o}).fn(r):{}}}},vE=(t,e)=>({...oE(t),options:[t,e]}),gE=(t,e)=>({...iE(t),options:[t,e]}),mE=(t,e)=>({...lE(t),options:[t,e]}),yE=(t,e)=>({...aE(t),options:[t,e]}),xE=(t,e)=>({...sE(t),options:[t,e]}),bE=(t,e)=>({...cE(t),options:[t,e]}),wE=(t,e)=>({...hE(t),options:[t,e]});var SE="Arrow",_v=S.forwardRef((t,e)=>{const{children:r,width:n=10,height:o=5,...i}=t;return v.jsx(ft.svg,{...i,ref:e,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});_v.displayName=SE;var CE=_v;function Yl(t){const[e,r]=S.useState(void 0);return re(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let a,s;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;a=l.inlineSize,s=l.blockSize}else a=t.offsetWidth,s=t.offsetHeight;r({width:a,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Ul="Popper",[Tv,so]=Ie(Ul),[EE,Dv]=Tv(Ul),Rv=t=>{const{__scopePopper:e,children:r}=t,[n,o]=S.useState(null);return v.jsx(EE,{scope:e,anchor:n,onAnchorChange:o,children:r})};Rv.displayName=Ul;var Mv="PopperAnchor",Pv=S.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...o}=t,i=Dv(Mv,r),a=S.useRef(null),s=xt(e,a);return S.useEffect(()=>{i.onAnchorChange(n?.current||a.current)}),n?null:v.jsx(ft.div,{...o,ref:s})});Pv.displayName=Mv;var Xl="PopperContent",[_E,TE]=Tv(Xl),Ov=S.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:p="optimized",onPlaced:g,...h}=t,m=Dv(Xl,r),[y,x]=S.useState(null),b=xt(e,W=>x(W)),[w,_]=S.useState(null),E=Yl(w),C=E?.width??0,T=E?.height??0,D=n+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(l)?l:[l],M=N.length>0,O={padding:R,boundary:N.filter(RE),altBoundary:M},{refs:k,floatingStyles:F,placement:$,isPositioned:V,middlewareData:L}=pE({strategy:"fixed",placement:D,whileElementsMounted:(...W)=>nE(...W,{animationFrame:p==="always"}),elements:{reference:m.anchor},middleware:[vE({mainAxis:o+T,alignmentAxis:a}),c&&gE({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?mE():void 0,...O}),c&&yE({...O}),xE({...O,apply:({elements:W,rects:q,availableWidth:it,availableHeight:ot})=>{const{width:U,height:rt}=q.reference,pt=W.floating.style;pt.setProperty("--radix-popper-available-width",`${it}px`),pt.setProperty("--radix-popper-available-height",`${ot}px`),pt.setProperty("--radix-popper-anchor-width",`${U}px`),pt.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),w&&wE({element:w,padding:s}),ME({arrowWidth:C,arrowHeight:T}),d&&bE({strategy:"referenceHidden",...O})]}),[z,A]=jv($),B=ae(g);re(()=>{V&&B?.()},[V,B]);const Y=L.arrow?.x,J=L.arrow?.y,X=L.arrow?.centerOffset!==0,[H,tt]=S.useState();return re(()=>{y&&tt(window.getComputedStyle(y).zIndex)},[y]),v.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:V?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(_E,{scope:r,placedSide:z,onArrowChange:_,arrowX:Y,arrowY:J,shouldHideArrow:X,children:v.jsx(ft.div,{"data-side":z,"data-align":A,...h,ref:b,style:{...h.style,animation:V?void 0:"none"}})})})});Ov.displayName=Xl;var Nv="PopperArrow",DE={top:"bottom",right:"left",bottom:"top",left:"right"},kv=S.forwardRef(function(e,r){const{__scopePopper:n,...o}=e,i=TE(Nv,n),a=DE[i.placedSide];return v.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:v.jsx(CE,{...o,ref:r,style:{...o.style,display:"block"}})})});kv.displayName=Nv;function RE(t){return t!==null}var ME=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:o}=e,a=o.arrow?.centerOffset!==0,s=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[l,u]=jv(r),f={start:"0%",center:"50%",end:"100%"}[u],d=(o.arrow?.x??0)+s/2,p=(o.arrow?.y??0)+c/2;let g="",h="";return l==="bottom"?(g=a?f:`${d}px`,h=`${-c}px`):l==="top"?(g=a?f:`${d}px`,h=`${n.floating.height+c}px`):l==="right"?(g=`${-c}px`,h=a?f:`${p}px`):l==="left"&&(g=`${n.floating.width+c}px`,h=a?f:`${p}px`),{data:{x:g,y:h}}}});function jv(t){const[e,r="center"]=t.split("-");return[e,r]}var ql=Rv,Kl=Pv,Zl=Ov,Jl=kv,PE="Portal",Ja=S.forwardRef((t,e)=>{const{container:r,...n}=t,[o,i]=S.useState(!1);re(()=>i(!0),[]);const a=r||o&&globalThis?.document?.body;return a?Od.createPortal(v.jsx(ft.div,{...n,ref:e}),a):null});Ja.displayName=PE;function Ql(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Av=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OE="VisuallyHidden",Iv=S.forwardRef((t,e)=>v.jsx(ft.span,{...t,ref:e,style:{...Av,...t.style}}));Iv.displayName=OE;var NE=Iv,kE=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},co=new WeakMap,Qa=new WeakMap,ts={},tu=0,Fv=function(t){return t&&(t.host||Fv(t.parentNode))},jE=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Fv(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},AE=function(t,e,r,n){var o=jE(e,Array.isArray(t)?t:[t]);ts[r]||(ts[r]=new WeakMap);var i=ts[r],a=[],s=new Set,c=new Set(o),l=function(f){!f||s.has(f)||(s.add(f),l(f.parentNode))};o.forEach(l);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(d){if(s.has(d))u(d);else try{var p=d.getAttribute(n),g=p!==null&&p!=="false",h=(co.get(d)||0)+1,m=(i.get(d)||0)+1;co.set(d,h),i.set(d,m),a.push(d),h===1&&g&&Qa.set(d,!0),m===1&&d.setAttribute(r,"true"),g||d.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",d,y)}})};return u(e),s.clear(),tu++,function(){a.forEach(function(f){var d=co.get(f)-1,p=i.get(f)-1;co.set(f,d),i.set(f,p),d||(Qa.has(f)||f.removeAttribute(n),Qa.delete(f)),p||f.removeAttribute(r)}),tu--,tu||(co=new WeakMap,co=new WeakMap,Qa=new WeakMap,ts={})}},Bv=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),o=kE(t);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),AE(n,o,r,"aria-hidden")):function(){return null}},mr=function(){return mr=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},mr.apply(this,arguments)};function Lv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function IE(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var es="right-scroll-bar-position",rs="width-before-scroll-bar",FE="with-scroll-bars-hidden",BE="--removed-body-scroll-bar-size";function eu(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function LE(t,e){var r=K.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=e,r.facade}var zE=typeof window<"u"?S.useLayoutEffect:S.useEffect,zv=new WeakMap;function GE(t,e){var r=LE(null,function(n){return t.forEach(function(o){return eu(o,n)})});return zE(function(){var n=zv.get(r);if(n){var o=new Set(n),i=new Set(t),a=r.current;o.forEach(function(s){i.has(s)||eu(s,null)}),i.forEach(function(s){o.has(s)||eu(s,a)})}zv.set(r,t)},[t]),r}function $E(t){return t}function VE(t,e){e===void 0&&(e=$E);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var a=e(i,n);return r.push(a),function(){r=r.filter(function(s){return s!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(s){return i(s)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var s=r;r=[],s.forEach(i),a=r}var c=function(){var u=a;a=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),r={push:function(u){a.push(u),l()},filter:function(u){return a=a.filter(u),r}}}};return o}function WE(t){t===void 0&&(t={});var e=VE(null);return e.options=mr({async:!0,ssr:!1},t),e}var Gv=function(t){var e=t.sideCar,r=Lv(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,mr({},r))};Gv.isSideCarExport=!0;function HE(t,e){return t.useMedium(e),Gv}var $v=WE(),ru=function(){},ns=S.forwardRef(function(t,e){var r=S.useRef(null),n=S.useState({onScrollCapture:ru,onWheelCapture:ru,onTouchMoveCapture:ru}),o=n[0],i=n[1],a=t.forwardProps,s=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,f=t.shards,d=t.sideCar,p=t.noRelative,g=t.noIsolation,h=t.inert,m=t.allowPinchZoom,y=t.as,x=y===void 0?"div":y,b=t.gapMode,w=Lv(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=d,E=GE([r,e]),C=mr(mr({},w),o);return S.createElement(S.Fragment,null,u&&S.createElement(_,{sideCar:$v,removeScrollBar:l,shards:f,noRelative:p,noIsolation:g,inert:h,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:b}),a?S.cloneElement(S.Children.only(s),mr(mr({},C),{ref:E})):S.createElement(x,mr({},C,{className:c,ref:E}),s))});ns.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ns.classNames={fullWidth:rs,zeroRight:es};var YE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UE(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=YE();return e&&t.setAttribute("nonce",e),t}function XE(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function qE(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var KE=function(){var t=0,e=null;return{add:function(r){t==0&&(e=UE())&&(XE(e,r),qE(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ZE=function(){var t=KE();return function(e,r){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Vv=function(){var t=ZE(),e=function(r){var n=r.styles,o=r.dynamic;return t(n,o),null};return e},JE={left:0,top:0,right:0,gap:0},nu=function(t){return parseInt(t||"",10)||0},QE=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[nu(r),nu(n),nu(o)]},t_=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return JE;var e=QE(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},e_=Vv(),lo="data-scroll-locked",r_=function(t,e,r,n){var o=t.left,i=t.top,a=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(FE,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(lo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(es,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(rs,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(es," .").concat(es,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(rs," .").concat(rs,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(lo,`] {
    `).concat(BE,": ").concat(s,`px;
  }
`)},Wv=function(){var t=parseInt(document.body.getAttribute(lo)||"0",10);return isFinite(t)?t:0},n_=function(){S.useEffect(function(){return document.body.setAttribute(lo,(Wv()+1).toString()),function(){var t=Wv()-1;t<=0?document.body.removeAttribute(lo):document.body.setAttribute(lo,t.toString())}},[])},o_=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,o=n===void 0?"margin":n;n_();var i=S.useMemo(function(){return t_(o)},[o]);return S.createElement(e_,{styles:r_(i,!e,o,r?"":"!important")})},ou=!1;if(typeof window<"u")try{var os=Object.defineProperty({},"passive",{get:function(){return ou=!0,!0}});window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{ou=!1}var uo=ou?{passive:!1}:!1,i_=function(t){return t.tagName==="TEXTAREA"},Hv=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!i_(t)&&r[e]==="visible")},a_=function(t){return Hv(t,"overflowY")},s_=function(t){return Hv(t,"overflowX")},Yv=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Uv(t,n);if(o){var i=Xv(t,n),a=i[1],s=i[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},c_=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},l_=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Uv=function(t,e){return t==="v"?a_(e):s_(e)},Xv=function(t,e){return t==="v"?c_(e):l_(e)},u_=function(t,e){return t==="h"&&e==="rtl"?-1:1},f_=function(t,e,r,n,o){var i=u_(t,window.getComputedStyle(e).direction),a=i*n,s=r.target,c=e.contains(s),l=!1,u=a>0,f=0,d=0;do{if(!s)break;var p=Xv(t,s),g=p[0],h=p[1],m=p[2],y=h-m-i*g;(g||y)&&Uv(t,s)&&(f+=y,d+=g);var x=s.parentNode;s=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&s!==document.body||c&&(e.contains(s)||e===s));return(u&&Math.abs(f)<1||!u&&Math.abs(d)<1)&&(l=!0),l},is=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qv=function(t){return[t.deltaX,t.deltaY]},Kv=function(t){return t&&"current"in t?t.current:t},d_=function(t,e){return t[0]===e[0]&&t[1]===e[1]},p_=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},h_=0,fo=[];function v_(t){var e=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),o=S.useState(h_++)[0],i=S.useState(Vv)[0],a=S.useRef(t);S.useEffect(function(){a.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var h=IE([t.lockRef.current],(t.shards||[]).map(Kv),!0).filter(Boolean);return h.forEach(function(m){return m.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),h.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var s=S.useCallback(function(h,m){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!a.current.allowPinchZoom;var y=is(h),x=r.current,b="deltaX"in h?h.deltaX:x[0]-y[0],w="deltaY"in h?h.deltaY:x[1]-y[1],_,E=h.target,C=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in h&&C==="h"&&E.type==="range")return!1;var T=Yv(C,E);if(!T)return!0;if(T?_=C:(_=C==="v"?"h":"v",T=Yv(C,E)),!T)return!1;if(!n.current&&"changedTouches"in h&&(b||w)&&(n.current=_),!_)return!0;var D=n.current||_;return f_(D,m,h,D==="h"?b:w)},[]),c=S.useCallback(function(h){var m=h;if(!(!fo.length||fo[fo.length-1]!==i)){var y="deltaY"in m?qv(m):is(m),x=e.current.filter(function(_){return _.name===m.type&&(_.target===m.target||m.target===_.shadowParent)&&d_(_.delta,y)})[0];if(x&&x.should){m.cancelable&&m.preventDefault();return}if(!x){var b=(a.current.shards||[]).map(Kv).filter(Boolean).filter(function(_){return _.contains(m.target)}),w=b.length>0?s(m,b[0]):!a.current.noIsolation;w&&m.cancelable&&m.preventDefault()}}},[]),l=S.useCallback(function(h,m,y,x){var b={name:h,delta:m,target:y,should:x,shadowParent:g_(y)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),u=S.useCallback(function(h){r.current=is(h),n.current=void 0},[]),f=S.useCallback(function(h){l(h.type,qv(h),h.target,s(h,t.lockRef.current))},[]),d=S.useCallback(function(h){l(h.type,is(h),h.target,s(h,t.lockRef.current))},[]);S.useEffect(function(){return fo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",c,uo),document.addEventListener("touchmove",c,uo),document.addEventListener("touchstart",u,uo),function(){fo=fo.filter(function(h){return h!==i}),document.removeEventListener("wheel",c,uo),document.removeEventListener("touchmove",c,uo),document.removeEventListener("touchstart",u,uo)}},[]);var p=t.removeScrollBar,g=t.inert;return S.createElement(S.Fragment,null,g?S.createElement(i,{styles:p_(o)}):null,p?S.createElement(o_,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function g_(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const m_=HE($v,v_);var iu=S.forwardRef(function(t,e){return S.createElement(ns,mr({},t,{ref:e,sideCar:m_}))});iu.classNames=ns.classNames;var y_=[" ","Enter","ArrowUp","ArrowDown"],x_=[" ","Enter"],xn="Select",[as,ss,b_]=Ba(xn),[po,MA]=Ie(xn,[b_,so]),cs=so(),[w_,Kr]=po(xn),[S_,C_]=po(xn),Zv=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:o,onOpenChange:i,value:a,defaultValue:s,onValueChange:c,dir:l,name:u,autoComplete:f,disabled:d,required:p,form:g}=t,h=cs(e),[m,y]=S.useState(null),[x,b]=S.useState(null),[w,_]=S.useState(!1),E=ro(l),[C,T]=Mr({prop:n,defaultProp:o??!1,onChange:i,caller:xn}),[D,R]=Mr({prop:a,defaultProp:s,onChange:c,caller:xn}),N=S.useRef(null),M=m?g||!!m.closest("form"):!0,[O,k]=S.useState(new Set),F=Array.from(O).map($=>$.props.value).join(";");return v.jsx(ql,{...h,children:v.jsxs(w_,{required:p,scope:e,trigger:m,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:_,contentId:Rr(),value:D,onValueChange:R,open:C,onOpenChange:T,dir:E,triggerPointerDownPosRef:N,disabled:d,children:[v.jsx(as.Provider,{scope:e,children:v.jsx(S_,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback($=>{k(V=>new Set(V).add($))},[]),onNativeOptionRemove:S.useCallback($=>{k(V=>{const L=new Set(V);return L.delete($),L})},[]),children:r})}),M?v.jsxs(wg,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:D,onChange:$=>R($.target.value),disabled:d,form:g,children:[D===void 0?v.jsx("option",{value:""}):null,Array.from(O)]},F):null]})})};Zv.displayName=xn;var Jv="SelectTrigger",Qv=S.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...o}=t,i=cs(r),a=Kr(Jv,r),s=a.disabled||n,c=xt(e,a.onTriggerChange),l=ss(r),u=S.useRef("touch"),[f,d,p]=Cg(h=>{const m=l().filter(b=>!b.disabled),y=m.find(b=>b.value===a.value),x=Eg(m,h,y);x!==void 0&&a.onValueChange(x.value)}),g=h=>{s||(a.onOpenChange(!0),p()),h&&(a.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return v.jsx(Kl,{asChild:!0,...i,children:v.jsx(ft.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":Sg(a.value)?"":void 0,...o,ref:c,onClick:nt(o.onClick,h=>{h.currentTarget.focus(),u.current!=="mouse"&&g(h)}),onPointerDown:nt(o.onPointerDown,h=>{u.current=h.pointerType;const m=h.target;m.hasPointerCapture(h.pointerId)&&m.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(g(h),h.preventDefault())}),onKeyDown:nt(o.onKeyDown,h=>{const m=f.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&d(h.key),!(m&&h.key===" ")&&y_.includes(h.key)&&(g(),h.preventDefault())})})})});Qv.displayName=Jv;var tg="SelectValue",eg=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:o,children:i,placeholder:a="",...s}=t,c=Kr(tg,r),{onValueNodeHasChildrenChange:l}=c,u=i!==void 0,f=xt(e,c.onValueNodeChange);return re(()=>{l(u)},[l,u]),v.jsx(ft.span,{...s,ref:f,style:{pointerEvents:"none"},children:Sg(c.value)?v.jsx(v.Fragment,{children:a}):i})});eg.displayName=tg;var E_="SelectIcon",rg=S.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...o}=t;return v.jsx(ft.span,{"aria-hidden":!0,...o,ref:e,children:n||""})});rg.displayName=E_;var __="SelectPortal",ng=t=>v.jsx(Ja,{asChild:!0,...t});ng.displayName=__;var bn="SelectContent",og=S.forwardRef((t,e)=>{const r=Kr(bn,t.__scopeSelect),[n,o]=S.useState();if(re(()=>{o(new DocumentFragment)},[]),!r.open){const i=n;return i?va.createPortal(v.jsx(ig,{scope:t.__scopeSelect,children:v.jsx(as.Slot,{scope:t.__scopeSelect,children:v.jsx("div",{children:t.children})})}),i):null}return v.jsx(ag,{...t,ref:e})});og.displayName=bn;var Je=10,[ig,Zr]=po(bn),T_="SelectContentImpl",D_=eo("SelectContent.RemoveScroll"),ag=S.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:a,side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:p,sticky:g,hideWhenDetached:h,avoidCollisions:m,...y}=t,x=Kr(bn,r),[b,w]=S.useState(null),[_,E]=S.useState(null),C=xt(e,W=>w(W)),[T,D]=S.useState(null),[R,N]=S.useState(null),M=ss(r),[O,k]=S.useState(!1),F=S.useRef(!1);S.useEffect(()=>{if(b)return Bv(b)},[b]),tv();const $=S.useCallback(W=>{const[q,...it]=M().map(rt=>rt.ref.current),[ot]=it.slice(-1),U=document.activeElement;for(const rt of W)if(rt===U||(rt?.scrollIntoView({block:"nearest"}),rt===q&&_&&(_.scrollTop=0),rt===ot&&_&&(_.scrollTop=_.scrollHeight),rt?.focus(),document.activeElement!==U))return},[M,_]),V=S.useCallback(()=>$([T,b]),[$,T,b]);S.useEffect(()=>{O&&V()},[O,V]);const{onOpenChange:L,triggerPointerDownPosRef:z}=x;S.useEffect(()=>{if(b){let W={x:0,y:0};const q=ot=>{W={x:Math.abs(Math.round(ot.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(ot.pageY)-(z.current?.y??0))}},it=ot=>{W.x<=10&&W.y<=10?ot.preventDefault():b.contains(ot.target)||L(!1),document.removeEventListener("pointermove",q),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",it,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",it,{capture:!0})}}},[b,L,z]),S.useEffect(()=>{const W=()=>L(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[L]);const[A,B]=Cg(W=>{const q=M().filter(U=>!U.disabled),it=q.find(U=>U.ref.current===document.activeElement),ot=Eg(q,W,it);ot&&setTimeout(()=>ot.ref.current.focus())}),Y=S.useCallback((W,q,it)=>{const ot=!F.current&&!it;(x.value!==void 0&&x.value===q||ot)&&(D(W),ot&&(F.current=!0))},[x.value]),J=S.useCallback(()=>b?.focus(),[b]),X=S.useCallback((W,q,it)=>{const ot=!F.current&&!it;(x.value!==void 0&&x.value===q||ot)&&N(W)},[x.value]),H=n==="popper"?au:sg,tt=H===au?{side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:p,sticky:g,hideWhenDetached:h,avoidCollisions:m}:{};return v.jsx(ig,{scope:r,content:b,viewport:_,onViewportChange:E,itemRefCallback:Y,selectedItem:T,onItemLeave:J,itemTextRefCallback:X,focusSelectedItem:V,selectedItemText:R,position:n,isPositioned:O,searchRef:A,children:v.jsx(iu,{as:D_,allowPinchZoom:!0,children:v.jsx(kl,{asChild:!0,trapped:x.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:nt(o,W=>{x.trigger?.focus({preventScroll:!0}),W.preventDefault()}),children:v.jsx($a,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:v.jsx(H,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:W=>W.preventDefault(),...y,...tt,onPlaced:()=>k(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:nt(y.onKeyDown,W=>{const q=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!q&&W.key.length===1&&B(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let ot=M().filter(U=>!U.disabled).map(U=>U.ref.current);if(["ArrowUp","End"].includes(W.key)&&(ot=ot.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const U=W.target,rt=ot.indexOf(U);ot=ot.slice(rt+1)}setTimeout(()=>$(ot)),W.preventDefault()}})})})})})})});ag.displayName=T_;var R_="SelectItemAlignedPosition",sg=S.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...o}=t,i=Kr(bn,r),a=Zr(bn,r),[s,c]=S.useState(null),[l,u]=S.useState(null),f=xt(e,C=>u(C)),d=ss(r),p=S.useRef(!1),g=S.useRef(!0),{viewport:h,selectedItem:m,selectedItemText:y,focusSelectedItem:x}=a,b=S.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&l&&h&&m&&y){const C=i.trigger.getBoundingClientRect(),T=l.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(i.dir!=="rtl"){const U=R.left-T.left,rt=D.left-U,pt=C.left-rt,ut=C.width+pt,dt=Math.max(ut,T.width),vt=window.innerWidth-Je,Et=Si(rt,[Je,Math.max(Je,vt-dt)]);s.style.minWidth=ut+"px",s.style.left=Et+"px"}else{const U=T.right-R.right,rt=window.innerWidth-D.right-U,pt=window.innerWidth-C.right-rt,ut=C.width+pt,dt=Math.max(ut,T.width),vt=window.innerWidth-Je,Et=Si(rt,[Je,Math.max(Je,vt-dt)]);s.style.minWidth=ut+"px",s.style.right=Et+"px"}const N=d(),M=window.innerHeight-Je*2,O=h.scrollHeight,k=window.getComputedStyle(l),F=parseInt(k.borderTopWidth,10),$=parseInt(k.paddingTop,10),V=parseInt(k.borderBottomWidth,10),L=parseInt(k.paddingBottom,10),z=F+$+O+L+V,A=Math.min(m.offsetHeight*5,z),B=window.getComputedStyle(h),Y=parseInt(B.paddingTop,10),J=parseInt(B.paddingBottom,10),X=C.top+C.height/2-Je,H=M-X,tt=m.offsetHeight/2,W=m.offsetTop+tt,q=F+$+W,it=z-q;if(q<=X){const U=N.length>0&&m===N[N.length-1].ref.current;s.style.bottom="0px";const rt=l.clientHeight-h.offsetTop-h.offsetHeight,pt=Math.max(H,tt+(U?J:0)+rt+V),ut=q+pt;s.style.height=ut+"px"}else{const U=N.length>0&&m===N[0].ref.current;s.style.top="0px";const pt=Math.max(X,F+h.offsetTop+(U?Y:0)+tt)+it;s.style.height=pt+"px",h.scrollTop=q-X+h.offsetTop}s.style.margin=`${Je}px 0`,s.style.minHeight=A+"px",s.style.maxHeight=M+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[d,i.trigger,i.valueNode,s,l,h,m,y,i.dir,n]);re(()=>b(),[b]);const[w,_]=S.useState();re(()=>{l&&_(window.getComputedStyle(l).zIndex)},[l]);const E=S.useCallback(C=>{C&&g.current===!0&&(b(),x?.(),g.current=!1)},[b,x]);return v.jsx(P_,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:v.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:v.jsx(ft.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});sg.displayName=R_;var M_="SelectPopperPosition",au=S.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=Je,...i}=t,a=cs(r);return v.jsx(Zl,{...a,...i,ref:e,align:n,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});au.displayName=M_;var[P_,su]=po(bn,{}),cu="SelectViewport",cg=S.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...o}=t,i=Zr(cu,r),a=su(cu,r),s=xt(e,i.onViewportChange),c=S.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),v.jsx(as.Slot,{scope:r,children:v.jsx(ft.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:nt(o.onScroll,l=>{const u=l.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:d}=a;if(d?.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const g=window.innerHeight-Je*2,h=parseFloat(f.style.minHeight),m=parseFloat(f.style.height),y=Math.max(h,m);if(y<g){const x=y+p,b=Math.min(g,x),w=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});cg.displayName=cu;var lg="SelectGroup",[O_,N_]=po(lg),k_=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,o=Rr();return v.jsx(O_,{scope:r,id:o,children:v.jsx(ft.div,{role:"group","aria-labelledby":o,...n,ref:e})})});k_.displayName=lg;var ug="SelectLabel",fg=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,o=N_(ug,r);return v.jsx(ft.div,{id:o.id,...n,ref:e})});fg.displayName=ug;var ls="SelectItem",[j_,dg]=po(ls),pg=S.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:i,...a}=t,s=Kr(ls,r),c=Zr(ls,r),l=s.value===n,[u,f]=S.useState(i??""),[d,p]=S.useState(!1),g=xt(e,x=>c.itemRefCallback?.(x,n,o)),h=Rr(),m=S.useRef("touch"),y=()=>{o||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(j_,{scope:r,value:n,disabled:o,textId:h,isSelected:l,onItemTextChange:S.useCallback(x=>{f(b=>b||(x?.textContent??"").trim())},[]),children:v.jsx(as.ItemSlot,{scope:r,value:n,disabled:o,textValue:u,children:v.jsx(ft.div,{role:"option","aria-labelledby":h,"data-highlighted":d?"":void 0,"aria-selected":l&&d,"data-state":l?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...a,ref:g,onFocus:nt(a.onFocus,()=>p(!0)),onBlur:nt(a.onBlur,()=>p(!1)),onClick:nt(a.onClick,()=>{m.current!=="mouse"&&y()}),onPointerUp:nt(a.onPointerUp,()=>{m.current==="mouse"&&y()}),onPointerDown:nt(a.onPointerDown,x=>{m.current=x.pointerType}),onPointerMove:nt(a.onPointerMove,x=>{m.current=x.pointerType,o?c.onItemLeave?.():m.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nt(a.onPointerLeave,x=>{x.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:nt(a.onKeyDown,x=>{c.searchRef?.current!==""&&x.key===" "||(x_.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});pg.displayName=ls;var Ti="SelectItemText",hg=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:o,...i}=t,a=Kr(Ti,r),s=Zr(Ti,r),c=dg(Ti,r),l=C_(Ti,r),[u,f]=S.useState(null),d=xt(e,y=>f(y),c.onItemTextChange,y=>s.itemTextRefCallback?.(y,c.value,c.disabled)),p=u?.textContent,g=S.useMemo(()=>v.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:h,onNativeOptionRemove:m}=l;return re(()=>(h(g),()=>m(g)),[h,m,g]),v.jsxs(v.Fragment,{children:[v.jsx(ft.span,{id:c.textId,...i,ref:d}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?va.createPortal(i.children,a.valueNode):null]})});hg.displayName=Ti;var vg="SelectItemIndicator",gg=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return dg(vg,r).isSelected?v.jsx(ft.span,{"aria-hidden":!0,...n,ref:e}):null});gg.displayName=vg;var lu="SelectScrollUpButton",mg=S.forwardRef((t,e)=>{const r=Zr(lu,t.__scopeSelect),n=su(lu,t.__scopeSelect),[o,i]=S.useState(!1),a=xt(e,n.onScrollButtonChange);return re(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollTop>0;i(l)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),o?v.jsx(xg,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});mg.displayName=lu;var uu="SelectScrollDownButton",yg=S.forwardRef((t,e)=>{const r=Zr(uu,t.__scopeSelect),n=su(uu,t.__scopeSelect),[o,i]=S.useState(!1),a=xt(e,n.onScrollButtonChange);return re(()=>{if(r.viewport&&r.isPositioned){let s=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;i(u)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),o?v.jsx(xg,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});yg.displayName=uu;var xg=S.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=t,i=Zr("SelectScrollButton",r),a=S.useRef(null),s=ss(r),c=S.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),re(()=>{s().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),v.jsx(ft.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:nt(o.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:nt(o.onPointerMove,()=>{i.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:nt(o.onPointerLeave,()=>{c()})})}),A_="SelectSeparator",bg=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return v.jsx(ft.div,{"aria-hidden":!0,...n,ref:e})});bg.displayName=A_;var fu="SelectArrow",I_=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,o=cs(r),i=Kr(fu,r),a=Zr(fu,r);return i.open&&a.position==="popper"?v.jsx(Jl,{...o,...n,ref:e}):null});I_.displayName=fu;var F_="SelectBubbleInput",wg=S.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const o=S.useRef(null),i=xt(n,o),a=Ql(e);return S.useEffect(()=>{const s=o.current;if(!s)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&u){const f=new Event("change",{bubbles:!0});u.call(s,e),s.dispatchEvent(f)}},[a,e]),v.jsx(ft.select,{...r,style:{...Av,...r.style},ref:i,defaultValue:e})});wg.displayName=F_;function Sg(t){return t===""||t===void 0}function Cg(t){const e=ae(t),r=S.useRef(""),n=S.useRef(0),o=S.useCallback(a=>{const s=r.current+a;e(s),function c(l){r.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(s)},[e]),i=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,i]}function Eg(t,e,r){const o=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let a=B_(t,Math.max(i,0));o.length===1&&(a=a.filter(l=>l!==r));const c=a.find(l=>l.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function B_(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var L_=Zv,_g=Qv,z_=eg,G_=rg,$_=ng,Tg=og,V_=cg,Dg=fg,Rg=pg,W_=hg,H_=gg,Mg=mg,Pg=yg,Og=bg;const wn=L_,ho=z_,Jr=S.forwardRef(({className:t,children:e,...r},n)=>v.jsxs(_g,{ref:n,className:bt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,v.jsx(G_,{asChild:!0,children:v.jsx(Cl,{className:"h-4 w-4 opacity-50"})})]}));Jr.displayName=_g.displayName;const Ng=S.forwardRef(({className:t,...e},r)=>v.jsx(Mg,{ref:r,className:bt("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(ch,{className:"h-4 w-4"})}));Ng.displayName=Mg.displayName;const kg=S.forwardRef(({className:t,...e},r)=>v.jsx(Pg,{ref:r,className:bt("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(Cl,{className:"h-4 w-4"})}));kg.displayName=Pg.displayName;const Qr=S.forwardRef(({className:t,children:e,position:r="popper",...n},o)=>v.jsx($_,{children:v.jsxs(Tg,{ref:o,className:bt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[v.jsx(Ng,{}),v.jsx(V_,{className:bt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),v.jsx(kg,{})]})}));Qr.displayName=Tg.displayName;const Y_=S.forwardRef(({className:t,...e},r)=>v.jsx(Dg,{ref:r,className:bt("px-2 py-1.5 text-sm font-semibold",t),...e}));Y_.displayName=Dg.displayName;const se=S.forwardRef(({className:t,children:e,...r},n)=>v.jsxs(Rg,{ref:n,className:bt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[v.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(H_,{children:v.jsx(Sl,{className:"h-4 w-4"})})}),v.jsx(W_,{children:e})]}));se.displayName=Rg.displayName;const U_=S.forwardRef(({className:t,...e},r)=>v.jsx(Og,{ref:r,className:bt("-mx-1 my-1 h-px bg-muted",t),...e}));U_.displayName=Og.displayName;var jg=["PageUp","PageDown"],Ag=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ig={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},vo="Slider",[du,X_,q_]=Ba(vo),[Fg,PA]=Ie(vo,[q_]),[K_,us]=Fg(vo),Bg=S.forwardRef((t,e)=>{const{name:r,min:n=0,max:o=100,step:i=1,orientation:a="horizontal",disabled:s=!1,minStepsBetweenThumbs:c=0,defaultValue:l=[n],value:u,onValueChange:f=()=>{},onValueCommit:d=()=>{},inverted:p=!1,form:g,...h}=t,m=S.useRef(new Set),y=S.useRef(0),b=a==="horizontal"?Z_:J_,[w=[],_]=Mr({prop:u,defaultProp:l,onChange:N=>{[...m.current][y.current]?.focus(),f(N)}}),E=S.useRef(w);function C(N){const M=nT(w,N);R(N,M)}function T(N){R(N,y.current)}function D(){const N=E.current[y.current];w[y.current]!==N&&d(w)}function R(N,M,{commit:O}={commit:!1}){const k=sT(i),F=cT(Math.round((N-n)/i)*i+n,k),$=Si(F,[n,o]);_((V=[])=>{const L=eT(V,$,M);if(aT(L,c*i)){y.current=L.indexOf($);const z=String(L)!==String(V);return z&&O&&d(L),z?L:V}else return V})}return v.jsx(K_,{scope:t.__scopeSlider,name:r,disabled:s,min:n,max:o,valueIndexToChangeRef:y,thumbs:m.current,values:w,orientation:a,form:g,children:v.jsx(du.Provider,{scope:t.__scopeSlider,children:v.jsx(du.Slot,{scope:t.__scopeSlider,children:v.jsx(b,{"aria-disabled":s,"data-disabled":s?"":void 0,...h,ref:e,onPointerDown:nt(h.onPointerDown,()=>{s||(E.current=w)}),min:n,max:o,inverted:p,onSlideStart:s?void 0:C,onSlideMove:s?void 0:T,onSlideEnd:s?void 0:D,onHomeKeyDown:()=>!s&&R(n,0,{commit:!0}),onEndKeyDown:()=>!s&&R(o,w.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:M})=>{if(!s){const F=jg.includes(N.key)||N.shiftKey&&Ag.includes(N.key)?10:1,$=y.current,V=w[$],L=i*F*M;R(V+L,$,{commit:!0})}}})})})})});Bg.displayName=vo;var[Lg,zg]=Fg(vo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Z_=S.forwardRef((t,e)=>{const{min:r,max:n,dir:o,inverted:i,onSlideStart:a,onSlideMove:s,onSlideEnd:c,onStepKeyDown:l,...u}=t,[f,d]=S.useState(null),p=xt(e,b=>d(b)),g=S.useRef(void 0),h=ro(o),m=h==="ltr",y=m&&!i||!m&&i;function x(b){const w=g.current||f.getBoundingClientRect(),_=[0,w.width],C=vu(_,y?[r,n]:[n,r]);return g.current=w,C(b-w.left)}return v.jsx(Lg,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:v.jsx(Gg,{dir:h,"data-orientation":"horizontal",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const w=x(b.clientX);a?.(w)},onSlideMove:b=>{const w=x(b.clientX);s?.(w)},onSlideEnd:()=>{g.current=void 0,c?.()},onStepKeyDown:b=>{const _=Ig[y?"from-left":"from-right"].includes(b.key);l?.({event:b,direction:_?-1:1})}})})}),J_=S.forwardRef((t,e)=>{const{min:r,max:n,inverted:o,onSlideStart:i,onSlideMove:a,onSlideEnd:s,onStepKeyDown:c,...l}=t,u=S.useRef(null),f=xt(e,u),d=S.useRef(void 0),p=!o;function g(h){const m=d.current||u.current.getBoundingClientRect(),y=[0,m.height],b=vu(y,p?[n,r]:[r,n]);return d.current=m,b(h-m.top)}return v.jsx(Lg,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:v.jsx(Gg,{"data-orientation":"vertical",...l,ref:f,style:{...l.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:h=>{const m=g(h.clientY);i?.(m)},onSlideMove:h=>{const m=g(h.clientY);a?.(m)},onSlideEnd:()=>{d.current=void 0,s?.()},onStepKeyDown:h=>{const y=Ig[p?"from-bottom":"from-top"].includes(h.key);c?.({event:h,direction:y?-1:1})}})})}),Gg=S.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:o,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:c,...l}=t,u=us(vo,r);return v.jsx(ft.span,{...l,ref:e,onKeyDown:nt(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(s(f),f.preventDefault()):jg.concat(Ag).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:nt(t.onPointerDown,f=>{const d=f.target;d.setPointerCapture(f.pointerId),f.preventDefault(),u.thumbs.has(d)?d.focus():n(f)}),onPointerMove:nt(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&o(f)}),onPointerUp:nt(t.onPointerUp,f=>{const d=f.target;d.hasPointerCapture(f.pointerId)&&(d.releasePointerCapture(f.pointerId),i(f))})})}),$g="SliderTrack",Vg=S.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,o=us($g,r);return v.jsx(ft.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...n,ref:e})});Vg.displayName=$g;var pu="SliderRange",Wg=S.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,o=us(pu,r),i=zg(pu,r),a=S.useRef(null),s=xt(e,a),c=o.values.length,l=o.values.map(d=>Ug(d,o.min,o.max)),u=c>1?Math.min(...l):0,f=100-Math.max(...l);return v.jsx(ft.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...n,ref:s,style:{...t.style,[i.startEdge]:u+"%",[i.endEdge]:f+"%"}})});Wg.displayName=pu;var hu="SliderThumb",Hg=S.forwardRef((t,e)=>{const r=X_(t.__scopeSlider),[n,o]=S.useState(null),i=xt(e,s=>o(s)),a=S.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return v.jsx(Q_,{...t,ref:i,index:a})}),Q_=S.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:o,...i}=t,a=us(hu,r),s=zg(hu,r),[c,l]=S.useState(null),u=xt(e,x=>l(x)),f=c?a.form||!!c.closest("form"):!0,d=Yl(c),p=a.values[n],g=p===void 0?0:Ug(p,a.min,a.max),h=rT(n,a.values.length),m=d?.[s.size],y=m?oT(m,g,s.direction):0;return S.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),v.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${g}% + ${y}px)`},children:[v.jsx(du.ItemSlot,{scope:t.__scopeSlider,children:v.jsx(ft.span,{role:"slider","aria-label":t["aria-label"]||h,"aria-valuemin":a.min,"aria-valuenow":p,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:u,style:p===void 0?{display:"none"}:t.style,onFocus:nt(t.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),f&&v.jsx(Yg,{name:o??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:p},n)]})});Hg.displayName=hu;var tT="RadioBubbleInput",Yg=S.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const o=S.useRef(null),i=xt(o,n),a=Ql(e);return S.useEffect(()=>{const s=o.current;if(!s)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&u){const f=new Event("input",{bubbles:!0});u.call(s,e),s.dispatchEvent(f)}},[a,e]),v.jsx(ft.input,{style:{display:"none"},...r,ref:i,defaultValue:e})});Yg.displayName=tT;function eT(t=[],e,r){const n=[...t];return n[r]=e,n.sort((o,i)=>o-i)}function Ug(t,e,r){const i=100/(r-e)*(t-e);return Si(i,[0,100])}function rT(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function nT(t,e){if(t.length===1)return 0;const r=t.map(o=>Math.abs(o-e)),n=Math.min(...r);return r.indexOf(n)}function oT(t,e,r){const n=t/2,i=vu([0,50],[0,n]);return(n-i(e)*r)*r}function iT(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function aT(t,e){if(e>0){const r=iT(t);return Math.min(...r)>=e}return!0}function vu(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function sT(t){return(String(t).split(".")[1]||"").length}function cT(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var lT=Bg,uT=Vg,fT=Wg,dT=Hg;function fs({className:t,defaultValue:e,value:r,min:n=0,max:o=100,...i}){const a=S.useMemo(()=>Array.isArray(r)?r:Array.isArray(e)?e:[n,o],[r,e,n,o]);return v.jsxs(lT,{"data-slot":"slider",defaultValue:e,value:r,min:n,max:o,className:bt("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...i,children:[v.jsx(uT,{"data-slot":"slider-track",className:bt("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:v.jsx(fT,{"data-slot":"slider-range",className:bt("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(s,c)=>v.jsx(dT,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}const pT=[{value:"to right",label:"Left to Right"},{value:"to left",label:"Right to Left"},{value:"to bottom",label:"Top to Bottom"},{value:"to top",label:"Bottom to Top"},{value:"to bottom right",label:"Top Left to Bottom Right"},{value:"to bottom left",label:"Top Right to Bottom Left"},{value:"to top right",label:"Bottom Left to Top Right"},{value:"to top left",label:"Bottom Right to Top Left"}],Xg=["linear-gradient(to right, #1a2b3c, #0f172a)","linear-gradient(to right, #111827, #1f2937)","linear-gradient(to right, #0f172a, #312e81)","linear-gradient(to right, #0c0a09, #1c1917)","linear-gradient(to right, #134e5e, #71b280)","linear-gradient(to right, #000428, #004e92)","linear-gradient(to bottom, #0f2027, #203a43)","linear-gradient(to bottom right, #16222a, #3a6073)","radial-gradient(circle, #16222a 0%, #3a6073 100%)","radial-gradient(circle, #0f2027 0%, #203a43 100%)","radial-gradient(circle, #000428 0%, #004e92 100%)","radial-gradient(circle, #134e5e 0%, #71b280 100%)"],hT=["#0F172A","#1E293B","#111827","#1F2937","#0C0A09","#0E7490","#0284C7","#1D4ED8","#4338CA","#7E22CE","#0F766E","#0369A1"],vT=()=>{const t=Nt(),[e,r]=K.useState("solid"),[n,o]=K.useState("#FFFFFF"),[i,a]=K.useState(["#ff9a9e","#fad0c4"]),[s,c]=K.useState("to right"),[l,u]=K.useState([0,100]);K.useEffect(()=>{if(t.json?.theme){const h=t.json.theme.backgroundColor||"#FFFFFF";if(h.includes("gradient")){if(h.includes("linear-gradient")){r("linear-gradient");const m=h.match(/linear-gradient\(([^,]+),/);m&&m[1]&&c(m[1].trim());const y=h.match(/#[a-fA-F0-9]{3,6}/g);y&&y.length>=2&&a([y[0],y[1]]);const x=h.match(/(\d+)%/g);x&&x.length>=2&&u([parseInt(x[0],10),parseInt(x[1],10)])}else if(h.includes("radial-gradient")){r("radial-gradient");const m=h.match(/#[a-fA-F0-9]{3,6}/g);m&&m.length>=2&&a([m[0],m[1]]);const y=h.match(/(\d+)%/g);y&&y.length>=2&&u([parseInt(y[0],10),parseInt(y[1],10)])}}else r("solid"),o(h)}},[t.json?.theme]);const f=()=>e==="solid"?n:e==="linear-gradient"?`linear-gradient(${s}, ${i[0]} ${l[0]}%, ${i[1]} ${l[1]}%)`:e==="radial-gradient"?`radial-gradient(circle, ${i[0]} ${l[0]}%, ${i[1]} ${l[1]}%)`:n,d=()=>{if(t.json){const h=f();t.update({theme:{...t.json.theme,backgroundColor:h}})}},p=h=>{r("solid"),o(h),t.json&&t.update({theme:{...t.json.theme,backgroundColor:h}})},g=h=>{if(h.includes("linear-gradient")?r("linear-gradient"):h.includes("radial-gradient")&&r("radial-gradient"),h.includes("linear-gradient")){const y=h.match(/linear-gradient\(([^,]+),/);y&&y[1]&&c(y[1].trim())}const m=h.match(/#[a-fA-F0-9]{3,6}/g);m&&m.length>=2&&a([m[0],m[1]]),t.json&&t.update({theme:{...t.json.theme,backgroundColor:h}})};return v.jsxs("div",{className:"space-y-6",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Background"}),v.jsxs(qh,{defaultValue:e,onValueChange:h=>r(h),children:[v.jsxs(Rl,{className:"grid w-full grid-cols-3",children:[v.jsx(Hr,{value:"solid",children:"Solid "}),v.jsx(Hr,{value:"linear-gradient",children:"Linear "}),v.jsx(Hr,{value:"radial-gradient",children:"Radial "})]}),v.jsxs(Yr,{value:"solid",className:"space-y-4 mt-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{children:"Preset Colors"}),v.jsx("div",{className:"grid grid-cols-6 gap-2",children:hT.map((h,m)=>v.jsx("div",{className:"w-8 h-8 rounded-md cursor-pointer border border-gray-300 flex items-center justify-center",style:{backgroundColor:h},onClick:()=>p(h),children:e==="solid"&&n===h&&v.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})},m))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{children:"Custom Color"}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx(te,{type:"color",value:n,onChange:h=>o(h.target.value),className:"w-12 h-10 p-1"}),v.jsx(te,{type:"text",value:n,onChange:h=>o(h.target.value),className:"flex-1"}),v.jsx(_e,{onClick:()=>p(n),children:"Apply"})]})]})]}),v.jsxs(Yr,{value:"linear-gradient",className:"space-y-4 mt-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{children:"Preset Gradients"}),v.jsx("div",{className:"grid grid-cols-3 gap-2",children:Xg.filter(h=>h.includes("linear-gradient")).map((h,m)=>v.jsx("div",{className:"h-12 rounded-md cursor-pointer border border-gray-300",style:{background:h},onClick:()=>g(h)},m))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{children:"Gradient Direction"}),v.jsxs(wn,{value:s,onValueChange:c,children:[v.jsx(Jr,{children:v.jsx(ho,{placeholder:"Select gradient direction"})}),v.jsx(Qr,{children:pT.map(h=>v.jsx(se,{value:h.value,children:h.label},h.value))})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{children:"Gradient Colors"}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx(te,{type:"color",value:i[0],onChange:h=>a([h.target.value,i[1]]),className:"w-12 h-10 p-1"}),v.jsx(te,{type:"color",value:i[1],onChange:h=>a([i[0],h.target.value]),className:"w-12 h-10 p-1"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(qt,{children:["Gradient Position (",l[0],"% - ",l[1],"%)"]}),v.jsx(fs,{value:l,min:0,max:100,step:1,onValueChange:u,className:"my-4"})]}),v.jsx(_e,{onClick:d,children:"Apply Gradient"})]}),v.jsxs(Yr,{value:"radial-gradient",className:"space-y-4 mt-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{children:"Preset Gradients"}),v.jsx("div",{className:"grid grid-cols-3 gap-2",children:Xg.filter(h=>h.includes("radial-gradient")).map((h,m)=>v.jsx("div",{className:"h-12 rounded-md cursor-pointer border border-gray-300",style:{background:h},onClick:()=>g(h)},m))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(qt,{children:"Gradient Colors"}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx(te,{type:"color",value:i[0],onChange:h=>a([h.target.value,i[1]]),className:"w-12 h-10 p-1"}),v.jsx(te,{type:"color",value:i[1],onChange:h=>a([i[0],h.target.value]),className:"w-12 h-10 p-1"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(qt,{children:["Gradient Position (",l[0],"% - ",l[1],"%)"]}),v.jsx(fs,{value:l,min:0,max:100,step:1,onValueChange:u,className:"my-4"})]}),v.jsx(_e,{onClick:d,children:"Apply Gradient"})]})]})]})},gT=t=>{const{type:e}=t;return{id:`${e}-${$n().substring(0,8)}`,type:e,title:`New ${e} Chart`,position:{top:100,left:100,width:320,height:260,...t?.defaultProps?.position||{}}}},mT=({icon:t})=>{const e=t?.startsWith("data:")||t?.startsWith("http");return v.jsx("div",{className:"flex items-center justify-center text-xl",children:e?v.jsx("img",{src:t,alt:"Chart icon",className:"w-10 h-10 object-contain"}):v.jsx("span",{className:"w-10 h-10 text-lg inline-flex justify-center items-center",children:t})})},yT=({chart:t,onDragStart:e,onClick:r})=>v.jsxs("div",{className:"bg-gray-100 rounded-lg p-1.5 cursor-move hover:bg-gray-200 transition-colors border border-gray-200",draggable:!0,onDragStart:n=>e(n,t),onClick:()=>r(t),children:[v.jsx(mT,{icon:t.icon}),v.jsxs("div",{className:"mt-1 text-center",children:[v.jsx("div",{className:"font-medium text-sm leading-tight",children:t.title}),v.jsx("div",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:t.description})]})]},t.type),xT=()=>{const t=ar(),{addNode:e}=Nt(),r=t.registry.all(),n=(i,a)=>{i.dataTransfer.setData("chart-type",a.type)},o=i=>{const a=gT(i);e(a)};return v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold mb-3",children:"Charts"}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-2",children:r.map(i=>v.jsx(yT,{chart:i,onDragStart:n,onClick:o},i.type))})]})};Wr({id:"charts",title:"Charts",icon:oS,render:()=>v.jsx(xT,{}),order:1},dr.Sidebar);const Di=S.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:bt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Di.displayName="Card";const qg=S.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:bt("flex flex-col space-y-1.5 p-6",t),...e}));qg.displayName="CardHeader";const Kg=S.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:bt("font-semibold leading-none tracking-tight",t),...e}));Kg.displayName="CardTitle";const bT=S.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:bt("text-sm text-muted-foreground",t),...e}));bT.displayName="CardDescription";const Ri=S.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:bt("p-6 pt-0",t),...e}));Ri.displayName="CardContent";const wT=S.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:bt("flex items-center p-6 pt-0",t),...e}));wT.displayName="CardFooter";const Mi=({children:t,className:e=""})=>v.jsx("span",{className:`animate-pulse bg-gray-200 h-full w-full rounded ${e}`,children:t?v.jsx("span",{className:"opacity-0",children:t}):v.jsx("span",{className:"opacity-0",children:""})});function ST({src:t,alt:e,className:r,...n}){const[o,i]=K.useState(!0);return v.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-muted",children:[o&&v.jsx("div",{className:"absolute inset-0",children:v.jsx(Mi,{className:"w-full h-full"})}),v.jsx("img",{src:t,alt:e,className:bt(r,"transition-opacity duration-300",o?"opacity-0":"opacity-100"),onLoad:()=>i(!1),...n})]})}const CT=async(t,e=12)=>{await new Promise(n=>setTimeout(n,1e3));const r=t*e+1;return Array.from({length:e},(n,o)=>({id:r+o,title:` ${r+o}`,image:"/placeholder.svg?height=200&width=300",description:` ${r+o} `}))};function ET({data:t=[],fetchMore:e,itemsPerPage:r=12}){const[n,o]=K.useState([]),[i,a]=K.useState(!1),[s,c]=K.useState(!0),[l,u]=K.useState(0),f=K.useRef(null),d=K.useRef([]),p=K.useRef(!1),g=K.useRef(!0),h=K.useRef(0);K.useEffect(()=>{d.current=n,p.current=i,g.current=s,h.current=l},[n,i,s,l]);const m=K.useCallback(async()=>{if(!(p.current||!g.current)){a(!0);try{if(t.length>0&&!e)if(d.current.length>=t.length)c(!1);else{const y=h.current*r,x=Math.min(y+r,t.length),b=t.slice(y,x);o(w=>[...w,...b]),u(w=>w+1),x>=t.length&&c(!1)}else{const x=await(e||CT)(h.current,r);x.length===0?c(!1):(o(b=>[...b,...x]),u(b=>b+1))}}catch(y){console.error(":",y)}finally{a(!1)}}},[t,e,r]);return K.useEffect(()=>{o([]),u(0),c(!0),a(!1),m()},[t,e,r]),K.useEffect(()=>{const y=new IntersectionObserver(x=>{x[0].isIntersecting&&g.current&&!p.current&&m()},{threshold:.1});return f.current&&y.observe(f.current),()=>y.disconnect()},[]),v.jsxs("div",{className:"",children:[v.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.map((y,x)=>v.jsxs(Di,{className:"overflow-hidden hover:shadow transition-shadow duration-300 rounded shadow-none",children:[v.jsx("div",{className:"aspect-video relative overflow-hidden",children:v.jsx(ST,{src:y.imageUrl||y.image||"/placeholder.svg",alt:y.alt||y.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),v.jsxs(Ri,{className:"p-2",children:[v.jsx("h3",{className:"font-semibold text-sm line-clamp-2",children:y.title}),y.description&&v.jsx("p",{className:"text-muted-foreground text-xs mt-2 line-clamp-3",children:y.description})]})]},x)),i&&Array.from({length:8}).map((y,x)=>v.jsxs(Di,{className:"overflow-hidden",children:[v.jsx(Mi,{className:"aspect-video w-full"}),v.jsxs(Ri,{className:"p-4",children:[v.jsx(Mi,{className:"h-6 w-3/4 mb-2"}),v.jsx(Mi,{className:"h-4 w-full mb-1"}),v.jsx(Mi,{className:"h-4 w-2/3"})]})]},`skeleton-${x}`))]}),v.jsxs("div",{ref:f,className:"h-10 flex items-center justify-center mt-8",children:[i&&v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),v.jsx("span",{className:"text-muted-foreground",children:"..."})]}),!s&&n.length>0&&v.jsx("p",{className:"text-muted-foreground"})]}),n.length===0&&!i&&v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-muted-foreground text-lg",children:""})})]})}const _T=()=>{const t=[{id:"example1",title:"Design example 1",imageUrl:"https://camo.githubusercontent.com/2c69cf44f322bcae0ea6559791f80b5b1168e044bc8d441a4fbdc09fd3cb9087/68747470733a2f2f64656d6f2e6569756e2e6e65742f6769662f3030312e676966",alt:"Design example 1"},{id:"example2",title:"Design example 2",imageUrl:"https://camo.githubusercontent.com/dc4de7fb69dec4bc93b4b1bbf37f030df381be1e570493b26f1a4d58d9bd2980/68747470733a2f2f64656d6f2e6569756e2e6e65742f6769662f3030322e676966",alt:"Design example 2"}];return v.jsxs("div",{children:[v.jsx("header",{className:"sticky top-0 bg-background z-10",children:v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Design"})}),v.jsx("div",{children:v.jsx(ET,{data:t})})]})};Wr({id:"design",title:"Design",icon:mh,render:()=>v.jsx(_T,{}),order:10},dr.Sidebar);const TT=El("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function DT({className:t,variant:e,...r}){return v.jsx("div",{className:bt(TT({variant:e}),t),...r})}var gu=["Enter"," "],RT=["ArrowDown","PageUp","Home"],Zg=["ArrowUp","PageDown","End"],MT=[...RT,...Zg],PT={ltr:[...gu,"ArrowRight"],rtl:[...gu,"ArrowLeft"]},OT={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pi="Menu",[Oi,NT,kT]=Ba(Pi),[Sn,Jg]=Ie(Pi,[kT,so,La]),ds=so(),Qg=La(),[jT,Cn]=Sn(Pi),[AT,Ni]=Sn(Pi),tm=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:o,onOpenChange:i,modal:a=!0}=t,s=ds(e),[c,l]=S.useState(null),u=S.useRef(!1),f=ae(i),d=ro(o);return S.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),v.jsx(ql,{...s,children:v.jsx(jT,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:l,children:v.jsx(AT,{scope:e,onClose:S.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:d,modal:a,children:n})})})};tm.displayName=Pi;var IT="MenuAnchor",mu=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,o=ds(r);return v.jsx(Kl,{...o,...n,ref:e})});mu.displayName=IT;var yu="MenuPortal",[FT,em]=Sn(yu,{forceMount:void 0}),rm=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:o}=t,i=Cn(yu,e);return v.jsx(FT,{scope:e,forceMount:r,children:v.jsx(Te,{present:r||i.open,children:v.jsx(Ja,{asChild:!0,container:o,children:n})})})};rm.displayName=yu;var Fe="MenuContent",[BT,xu]=Sn(Fe),nm=S.forwardRef((t,e)=>{const r=em(Fe,t.__scopeMenu),{forceMount:n=r.forceMount,...o}=t,i=Cn(Fe,t.__scopeMenu),a=Ni(Fe,t.__scopeMenu);return v.jsx(Oi.Provider,{scope:t.__scopeMenu,children:v.jsx(Te,{present:n||i.open,children:v.jsx(Oi.Slot,{scope:t.__scopeMenu,children:a.modal?v.jsx(LT,{...o,ref:e}):v.jsx(zT,{...o,ref:e})})})})}),LT=S.forwardRef((t,e)=>{const r=Cn(Fe,t.__scopeMenu),n=S.useRef(null),o=xt(e,n);return S.useEffect(()=>{const i=n.current;if(i)return Bv(i)},[]),v.jsx(bu,{...t,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:nt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),zT=S.forwardRef((t,e)=>{const r=Cn(Fe,t.__scopeMenu);return v.jsx(bu,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),GT=eo("MenuContent.ScrollLock"),bu=S.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:d,onDismiss:p,disableOutsideScroll:g,...h}=t,m=Cn(Fe,r),y=Ni(Fe,r),x=ds(r),b=Qg(r),w=NT(r),[_,E]=S.useState(null),C=S.useRef(null),T=xt(e,C,m.onContentChange),D=S.useRef(0),R=S.useRef(""),N=S.useRef(0),M=S.useRef(null),O=S.useRef("right"),k=S.useRef(0),F=g?iu:S.Fragment,$=g?{as:GT,allowPinchZoom:!0}:void 0,V=z=>{const A=R.current+z,B=w().filter(W=>!W.disabled),Y=document.activeElement,J=B.find(W=>W.ref.current===Y)?.textValue,X=B.map(W=>W.textValue),H=QT(X,A,J),tt=B.find(W=>W.textValue===H)?.ref.current;(function W(q){R.current=q,window.clearTimeout(D.current),q!==""&&(D.current=window.setTimeout(()=>W(""),1e3))})(A),tt&&setTimeout(()=>tt.focus())};S.useEffect(()=>()=>window.clearTimeout(D.current),[]),tv();const L=S.useCallback(z=>O.current===M.current?.side&&e2(z,M.current?.area),[]);return v.jsx(BT,{scope:r,searchRef:R,onItemEnter:S.useCallback(z=>{L(z)&&z.preventDefault()},[L]),onItemLeave:S.useCallback(z=>{L(z)||(C.current?.focus(),E(null))},[L]),onTriggerLeave:S.useCallback(z=>{L(z)&&z.preventDefault()},[L]),pointerGraceTimerRef:N,onPointerGraceIntentChange:S.useCallback(z=>{M.current=z},[]),children:v.jsx(F,{...$,children:v.jsx(kl,{asChild:!0,trapped:o,onMountAutoFocus:nt(i,z=>{z.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:v.jsx($a,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:d,onDismiss:p,children:v.jsx(jh,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:E,onEntryFocus:nt(c,z=>{y.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(Zl,{role:"menu","aria-orientation":"vertical","data-state":bm(m.open),"data-radix-menu-content":"",dir:y.dir,...x,...h,ref:T,style:{outline:"none",...h.style},onKeyDown:nt(h.onKeyDown,z=>{const B=z.target.closest("[data-radix-menu-content]")===z.currentTarget,Y=z.ctrlKey||z.altKey||z.metaKey,J=z.key.length===1;B&&(z.key==="Tab"&&z.preventDefault(),!Y&&J&&V(z.key));const X=C.current;if(z.target!==X||!MT.includes(z.key))return;z.preventDefault();const tt=w().filter(W=>!W.disabled).map(W=>W.ref.current);Zg.includes(z.key)&&tt.reverse(),ZT(tt)}),onBlur:nt(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(D.current),R.current="")}),onPointerMove:nt(t.onPointerMove,ji(z=>{const A=z.target,B=k.current!==z.clientX;if(z.currentTarget.contains(A)&&B){const Y=z.clientX>k.current?"right":"left";O.current=Y,k.current=z.clientX}}))})})})})})})});nm.displayName=Fe;var $T="MenuGroup",wu=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return v.jsx(ft.div,{role:"group",...n,ref:e})});wu.displayName=$T;var VT="MenuLabel",om=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return v.jsx(ft.div,{...n,ref:e})});om.displayName=VT;var ps="MenuItem",im="menu.itemSelect",hs=S.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...o}=t,i=S.useRef(null),a=Ni(ps,t.__scopeMenu),s=xu(ps,t.__scopeMenu),c=xt(e,i),l=S.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const d=new CustomEvent(im,{bubbles:!0,cancelable:!0});f.addEventListener(im,p=>n?.(p),{once:!0}),Th(f,d),d.defaultPrevented?l.current=!1:a.onClose()}};return v.jsx(am,{...o,ref:c,disabled:r,onClick:nt(t.onClick,u),onPointerDown:f=>{t.onPointerDown?.(f),l.current=!0},onPointerUp:nt(t.onPointerUp,f=>{l.current||f.currentTarget?.click()}),onKeyDown:nt(t.onKeyDown,f=>{const d=s.searchRef.current!=="";r||d&&f.key===" "||gu.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});hs.displayName=ps;var am=S.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...i}=t,a=xu(ps,r),s=Qg(r),c=S.useRef(null),l=xt(e,c),[u,f]=S.useState(!1),[d,p]=S.useState("");return S.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),v.jsx(Oi.ItemSlot,{scope:r,disabled:n,textValue:o??d,children:v.jsx(Ah,{asChild:!0,...s,focusable:!n,children:v.jsx(ft.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:l,onPointerMove:nt(t.onPointerMove,ji(g=>{n?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:nt(t.onPointerLeave,ji(g=>a.onItemLeave(g))),onFocus:nt(t.onFocus,()=>f(!0)),onBlur:nt(t.onBlur,()=>f(!1))})})})}),WT="MenuCheckboxItem",sm=S.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...o}=t;return v.jsx(dm,{scope:t.__scopeMenu,checked:r,children:v.jsx(hs,{role:"menuitemcheckbox","aria-checked":vs(r)?"mixed":r,...o,ref:e,"data-state":Cu(r),onSelect:nt(o.onSelect,()=>n?.(vs(r)?!0:!r),{checkForDefaultPrevented:!1})})})});sm.displayName=WT;var cm="MenuRadioGroup",[HT,YT]=Sn(cm,{value:void 0,onValueChange:()=>{}}),lm=S.forwardRef((t,e)=>{const{value:r,onValueChange:n,...o}=t,i=ae(n);return v.jsx(HT,{scope:t.__scopeMenu,value:r,onValueChange:i,children:v.jsx(wu,{...o,ref:e})})});lm.displayName=cm;var um="MenuRadioItem",fm=S.forwardRef((t,e)=>{const{value:r,...n}=t,o=YT(um,t.__scopeMenu),i=r===o.value;return v.jsx(dm,{scope:t.__scopeMenu,checked:i,children:v.jsx(hs,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":Cu(i),onSelect:nt(n.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});fm.displayName=um;var Su="MenuItemIndicator",[dm,UT]=Sn(Su,{checked:!1}),pm=S.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...o}=t,i=UT(Su,r);return v.jsx(Te,{present:n||vs(i.checked)||i.checked===!0,children:v.jsx(ft.span,{...o,ref:e,"data-state":Cu(i.checked)})})});pm.displayName=Su;var XT="MenuSeparator",hm=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return v.jsx(ft.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});hm.displayName=XT;var qT="MenuArrow",vm=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,o=ds(r);return v.jsx(Jl,{...o,...n,ref:e})});vm.displayName=qT;var KT="MenuSub",[OA,gm]=Sn(KT),ki="MenuSubTrigger",mm=S.forwardRef((t,e)=>{const r=Cn(ki,t.__scopeMenu),n=Ni(ki,t.__scopeMenu),o=gm(ki,t.__scopeMenu),i=xu(ki,t.__scopeMenu),a=S.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:c}=i,l={__scopeMenu:t.__scopeMenu},u=S.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return S.useEffect(()=>u,[u]),S.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),c(null)}},[s,c]),v.jsx(mu,{asChild:!0,...l,children:v.jsx(am,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":bm(r.open),...t,ref:Ia(e,o.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:nt(t.onPointerMove,ji(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:nt(t.onPointerLeave,ji(f=>{u();const d=r.content?.getBoundingClientRect();if(d){const p=r.content?.dataset.side,g=p==="right",h=g?-5:5,m=d[g?"left":"right"],y=d[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+h,y:f.clientY},{x:m,y:d.top},{x:y,y:d.top},{x:y,y:d.bottom},{x:m,y:d.bottom}],side:p}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:nt(t.onKeyDown,f=>{const d=i.searchRef.current!=="";t.disabled||d&&f.key===" "||PT[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});mm.displayName=ki;var ym="MenuSubContent",xm=S.forwardRef((t,e)=>{const r=em(Fe,t.__scopeMenu),{forceMount:n=r.forceMount,...o}=t,i=Cn(Fe,t.__scopeMenu),a=Ni(Fe,t.__scopeMenu),s=gm(ym,t.__scopeMenu),c=S.useRef(null),l=xt(e,c);return v.jsx(Oi.Provider,{scope:t.__scopeMenu,children:v.jsx(Te,{present:n||i.open,children:v.jsx(Oi.Slot,{scope:t.__scopeMenu,children:v.jsx(bu,{id:s.contentId,"aria-labelledby":s.triggerId,...o,ref:l,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{a.isUsingKeyboardRef.current&&c.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:nt(t.onFocusOutside,u=>{u.target!==s.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:nt(t.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:nt(t.onKeyDown,u=>{const f=u.currentTarget.contains(u.target),d=OT[a.dir].includes(u.key);f&&d&&(i.onOpenChange(!1),s.trigger?.focus(),u.preventDefault())})})})})})});xm.displayName=ym;function bm(t){return t?"open":"closed"}function vs(t){return t==="indeterminate"}function Cu(t){return vs(t)?"indeterminate":t?"checked":"unchecked"}function ZT(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function JT(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function QT(t,e,r){const o=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let a=JT(t,Math.max(i,0));o.length===1&&(a=a.filter(l=>l!==r));const c=a.find(l=>l.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function t2(t,e){const{x:r,y:n}=t;let o=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const s=e[i],c=e[a],l=s.x,u=s.y,f=c.x,d=c.y;u>n!=d>n&&r<(f-l)*(n-u)/(d-u)+l&&(o=!o)}return o}function e2(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return t2(r,e)}function ji(t){return e=>e.pointerType==="mouse"?t(e):void 0}var r2=tm,n2=mu,o2=rm,i2=nm,a2=wu,s2=om,c2=hs,l2=sm,u2=lm,f2=fm,d2=pm,p2=hm,h2=vm,v2=mm,g2=xm,gs="DropdownMenu",[m2,NA]=Ie(gs,[Jg]),pe=Jg(),[y2,wm]=m2(gs),Sm=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:o,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,c=pe(e),l=S.useRef(null),[u,f]=Mr({prop:o,defaultProp:i??!1,onChange:a,caller:gs});return v.jsx(y2,{scope:e,triggerId:Rr(),triggerRef:l,contentId:Rr(),open:u,onOpenChange:f,onOpenToggle:S.useCallback(()=>f(d=>!d),[f]),modal:s,children:v.jsx(r2,{...c,open:u,onOpenChange:f,dir:n,modal:s,children:r})})};Sm.displayName=gs;var Cm="DropdownMenuTrigger",Em=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=t,i=wm(Cm,r),a=pe(r);return v.jsx(n2,{asChild:!0,...a,children:v.jsx(ft.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:Ia(e,i.triggerRef),onPointerDown:nt(t.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(i.onOpenToggle(),i.open||s.preventDefault())}),onKeyDown:nt(t.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&i.onOpenToggle(),s.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});Em.displayName=Cm;var x2="DropdownMenuPortal",_m=t=>{const{__scopeDropdownMenu:e,...r}=t,n=pe(e);return v.jsx(o2,{...n,...r})};_m.displayName=x2;var Tm="DropdownMenuContent",Dm=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=wm(Tm,r),i=pe(r),a=S.useRef(!1);return v.jsx(i2,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...n,ref:e,onCloseAutoFocus:nt(t.onCloseAutoFocus,s=>{a.current||o.triggerRef.current?.focus(),a.current=!1,s.preventDefault()}),onInteractOutside:nt(t.onInteractOutside,s=>{const c=s.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;(!o.modal||u)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dm.displayName=Tm;var b2="DropdownMenuGroup",w2=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=pe(r);return v.jsx(a2,{...o,...n,ref:e})});w2.displayName=b2;var S2="DropdownMenuLabel",Rm=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=pe(r);return v.jsx(s2,{...o,...n,ref:e})});Rm.displayName=S2;var C2="DropdownMenuItem",Mm=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=pe(r);return v.jsx(c2,{...o,...n,ref:e})});Mm.displayName=C2;var E2="DropdownMenuCheckboxItem",Pm=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=pe(r);return v.jsx(l2,{...o,...n,ref:e})});Pm.displayName=E2;var _2="DropdownMenuRadioGroup",T2=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=pe(r);return v.jsx(u2,{...o,...n,ref:e})});T2.displayName=_2;var D2="DropdownMenuRadioItem",Om=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=pe(r);return v.jsx(f2,{...o,...n,ref:e})});Om.displayName=D2;var R2="DropdownMenuItemIndicator",Nm=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=pe(r);return v.jsx(d2,{...o,...n,ref:e})});Nm.displayName=R2;var M2="DropdownMenuSeparator",km=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=pe(r);return v.jsx(p2,{...o,...n,ref:e})});km.displayName=M2;var P2="DropdownMenuArrow",O2=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=pe(r);return v.jsx(h2,{...o,...n,ref:e})});O2.displayName=P2;var N2="DropdownMenuSubTrigger",jm=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=pe(r);return v.jsx(v2,{...o,...n,ref:e})});jm.displayName=N2;var k2="DropdownMenuSubContent",Am=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,o=pe(r);return v.jsx(g2,{...o,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Am.displayName=k2;var j2=Sm,A2=Em,I2=_m,Im=Dm,Fm=Rm,Bm=Mm,Lm=Pm,zm=Om,Gm=Nm,$m=km,Vm=jm,Wm=Am;const ms=j2,ys=A2,F2=S.forwardRef(({className:t,inset:e,children:r,...n},o)=>v.jsxs(Vm,{ref:o,className:bt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,v.jsx(sh,{className:"ml-auto"})]}));F2.displayName=Vm.displayName;const B2=S.forwardRef(({className:t,...e},r)=>v.jsx(Wm,{ref:r,className:bt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));B2.displayName=Wm.displayName;const Ai=S.forwardRef(({className:t,sideOffset:e=4,...r},n)=>v.jsx(I2,{children:v.jsx(Im,{ref:n,sideOffset:e,className:bt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Ai.displayName=Im.displayName;const tn=S.forwardRef(({className:t,inset:e,...r},n)=>v.jsx(Bm,{ref:n,className:bt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...r}));tn.displayName=Bm.displayName;const L2=S.forwardRef(({className:t,children:e,checked:r,...n},o)=>v.jsxs(Lm,{ref:o,className:bt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(Gm,{children:v.jsx(Sl,{className:"h-4 w-4"})})}),e]}));L2.displayName=Lm.displayName;const z2=S.forwardRef(({className:t,children:e,...r},n)=>v.jsxs(zm,{ref:n,className:bt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(Gm,{children:v.jsx(lh,{className:"h-2 w-2 fill-current"})})}),e]}));z2.displayName=zm.displayName;const G2=S.forwardRef(({className:t,inset:e,...r},n)=>v.jsx(Fm,{ref:n,className:bt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));G2.displayName=Fm.displayName;const Hm=S.forwardRef(({className:t,...e},r)=>v.jsx($m,{ref:r,className:bt("-mx-1 my-1 h-px bg-muted",t),...e}));Hm.displayName=$m.displayName;const Ii=({className:t,...e})=>v.jsx("span",{className:bt("ml-auto text-xs tracking-widest opacity-60",t),...e});Ii.displayName="DropdownMenuShortcut";const $2=({layerId:t,duplicateLayer:e,deleteLayer:r})=>v.jsxs(ms,{children:[v.jsx(ys,{asChild:!0,children:v.jsx(_e,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:n=>n.stopPropagation(),children:v.jsx(lS,{className:"h-3 w-3"})})}),v.jsxs(Ai,{align:"end",children:[v.jsx(tn,{onClick:()=>e(t),children:"Duplicate"}),v.jsxs(tn,{onClick:()=>r(t),className:"text-destructive",children:[v.jsx(TS,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),V2=()=>{const e=Nt().json?.docs?.[0]?.id,r=ab(e||""),n=Nt(D=>D.reorderNode),o=Nt(D=>D.updateNode),i=Nt(D=>D.cloneNode),a=Nt(D=>D.removeNode),s=D=>{if(!e)return;const R=O=>{for(const k of O){if(k.id===D)return k;if(k.children&&k.children.length>0){const F=R(k.children);if(F)return F}}return null},N=R(r);if(!N)return;const M=N.position.visible??!0;o(e,D,{position:{...N.position,visible:!M}})},[c,l]=K.useState(""),[u,f]=K.useState("all"),d=K.useMemo(()=>{const D=new Set,R=N=>{N.forEach(M=>{D.add(M.type),M.children&&R(M.children)})};return R(r),Array.from(D)},[r]),p=D=>{e&&i(e,D)},g=D=>{e&&a(e,D)},h=(D,R,N)=>{D.dataTransfer.setData("text/plain",JSON.stringify([...N,R])),D.currentTarget.classList.add("opacity-50")},m=D=>{D.currentTarget.classList.remove("opacity-50")},y=D=>{D.preventDefault(),D.currentTarget.classList.add("bg-gray-100")},x=D=>{D.currentTarget.classList.remove("bg-gray-100")},b=(D,R)=>D.length===R.length&&D.every((N,M)=>N===R[M]),w=(D,R,N)=>{D.preventDefault();const M=JSON.parse(D.dataTransfer.getData("text/plain"));if(D.currentTarget.classList.remove("bg-gray-100"),e!==void 0&&b(M.slice(0,-1),N)){const O=M[M.length-1];n(e,O,R,N)}},_=(D,R,N)=>D.map(M=>{const O=M.children?_(M.children,R,N):[],k=R?(M.title||M.type).toLowerCase().includes(R.toLowerCase()):!0,F=N==="all"?!0:M.type===N;return k&&F||O.length>0?{...M,children:O}:null}).filter(Boolean),E=({comp:D,path:R,index:N})=>{[...R];const M=R.length*8;return v.jsxs("div",{style:{marginLeft:M},children:[v.jsxs("div",{draggable:!0,onDragStart:O=>h(O,N,R),onDragEnd:m,onDragOver:y,onDragLeave:x,onDrop:O=>w(O,N,R),className:"flex items-center gap-2 p-1.5 rounded-md hover:bg-sidebar-accent/50 cursor-move group",children:[v.jsx(fS,{className:"h-4 w-4 text-muted-foreground cursor-grab"}),v.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded bg-muted",children:D.icon||v.jsx(gh,{className:"h-4 w-4"})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs font-medium truncate",children:D.title||D.type}),D.position.locked&&v.jsx("div",{className:"w-1 h-1 rounded-full bg-orange-500"})]}),v.jsx("div",{className:"text-xs text-muted-foreground"})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(_e,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:O=>{O.stopPropagation(),s(D.id)},children:D.position.visible??!0?v.jsx(dh,{className:"h-3 w-3"}):v.jsx(fh,{className:"h-3 w-3 text-muted-foreground"})}),v.jsx($2,{layerId:D.id,duplicateLayer:p,deleteLayer:g})]})]}),D.children&&D.children.length>0&&v.jsx("div",{className:"space-y-1",children:D.children.map((O,k)=>v.jsx(E,{comp:O,path:[...R,N],index:k},O.id))})]})};if(!e)return v.jsx("div",{children:"No page"});const C=Ym(r),T=_(r,c,u);return v.jsxs("div",{children:[v.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Layers"}),v.jsx(DT,{variant:"secondary",children:C})]}),v.jsxs("div",{className:"flex justify-between gap-2",children:[v.jsx(te,{value:c,onChange:D=>l(D.target.value),placeholder:"Search layers..."}),v.jsx("div",{className:"w-20",children:v.jsxs(wn,{value:u,onValueChange:f,children:[v.jsx(Jr,{className:"mb-3 text-xs",children:v.jsx(ho,{placeholder:"Filter by type"})}),v.jsxs(Qr,{children:[v.jsx(se,{value:"all",children:"All"}),d.map(D=>v.jsx(se,{value:D,children:D},D))]})]})})]}),v.jsx("div",{children:T.map((D,R)=>v.jsx(E,{comp:D,path:[],index:R},D.id))})]})};Wr({id:"layers",title:"Layers",icon:gh,render:()=>v.jsx(V2,{}),order:3},dr.Sidebar);const Ym=t=>t.reduce((e,r)=>{let n=1;return r.children&&r.children.length>0&&(n+=Ym(r.children)),e+n},0),W2=()=>v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Text"}),v.jsx("p",{children:"This is the content of the text editing panel"})]});Wr({id:"text",title:"Text",icon:RS,render:()=>v.jsx(W2,{}),order:30},dr.Sidebar);const H2=()=>v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Uploads"}),v.jsx("p",{children:"This is the content of the file upload panel"})]});Wr({id:"uploads",title:"Uploads",icon:uh,render:()=>v.jsx(H2,{}),order:2},dr.Sidebar);const Y2=()=>v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Photos"}),v.jsx("p",{children:"This is the content of the photo library panel"})]});Wr({id:"photos",title:"Photos",icon:vh,render:()=>v.jsx(Y2,{}),order:110},dr.Sidebar),Wr({id:"background",title:"Background",icon:mS,render:()=>v.jsx(vT,{}),order:120},dr.Sidebar);const U2=({icon:t,label:e,active:r,onClick:n})=>v.jsxs("button",{className:Vr("w-16 h-16 flex-shrink-0 flex flex-col items-center justify-center relative group transition-all duration-200",r?"text-purple-600 dark:text-white":"text-foreground hover:text-foreground/90"),onClick:n,title:e,children:[v.jsx("div",{className:"flex items-center justify-center",children:v.jsx("span",{className:Vr("flex items-center justify-center mb-1 overflow-hidden p-1 rounded-lg ","group-hover:bg-gray-100 group-hover:text-[#4a53fa]",r?"text-[#4a53fa] bg-white dark:bg-gray-200 shadow-[0px_0px_0px_1px_rgba(64,87,109,0.04),0px_6px_20px_-4px_rgba(64,87,109,0.3)]":""),children:t?K.isValidElement(t)?t:K.createElement(t,{className:"w-5 h-5"}):v.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-sm"})})}),v.jsx("div",{className:"text-[10px] mt-1 font-medium truncate w-full text-center whitespace-nowrap overflow-hidden",children:e})]}),X2=({children:t})=>{const{activePanelId:e,setActivePanel:r}=ja(),n=a=>{r(e===a?"":a)},i=Fa().getViewsByLocation(dr.Sidebar);return K.useEffect(()=>{if(!e){const a=i[0]?.id;r(a)}},[e]),v.jsxs("div",{className:"w-16 relative h-full flex flex-col items-center py-4 after:absolute after:top-0 after:right-0 after:w-[1px] after:h-full after:bg-accent after:content-['']",children:[v.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.map(a=>v.jsx(U2,{icon:a.icon,label:a.title,active:e===a.id,onClick:()=>n(a.id)},a.id)),t]}),v.jsx("div",{children:v.jsx("div",{className:"mt-6 w-9 h-9 rounded-full bg-blue-500 flex items-center justify-center cursor-pointer hover:bg-blue-600 transition-colors shadow-md hover:shadow-lg",children:v.jsx("span",{className:"text-lg",children:v.jsx(Aa,{})})})})]})};function q2(){const{api:t}=ar(),[e,r]=K.useState([]),[n,o]=K.useState(null),[i,a]=K.useState(!0),[s,c]=K.useState(null),l=async()=>{try{a(!0);const p=await t.getAllDataSources();r(p),p.length>0&&o(p[0]),c(null)}catch(p){c(p instanceof Error?p.message:"Failed to load data sources")}finally{a(!1)}};return K.useEffect(()=>{l()},[]),{dataSources:e,selectedSource:n,loading:i,error:s,setSelectedSource:o,loadDataSources:l,saveDataSource:async(p,g)=>{try{if(g==="add"){const h=await t.createDataSource({name:p.name,type:p.type,status:p.status,config:p.config});r([...e,h]),o(h)}else{const h=await t.updateDataSource(p.id,{name:p.name,type:p.type,status:p.status,config:p.config});r(e.map(m=>m.id===h.id?h:m)),o(h)}c(null)}catch(h){throw c(h instanceof Error?h.message:"Failed to save data source"),h}},removeDataSource:async p=>{try{await t.deleteDataSource(p);const g=e.filter(h=>h.id!==p);r(g),n?.id===p&&g.length>0?o(g[0]):g.length===0&&o(null),c(null)}catch(g){throw c(g instanceof Error?g.message:"Failed to delete data source"),g}},testConnection:async p=>{try{const g=await t.testDataSourceConnection(p),h={...p,status:g.status};return r(e.map(m=>m.id===h.id?h:m)),o(h),c(null),g}catch(g){throw c(g instanceof Error?g.message:"Failed to test connection"),g}},setError:c}}function K2(){const{api:t}=ar(),[e,r]=K.useState([]),[n,o]=K.useState(null),i=K.useCallback(async c=>{try{const l=await t.getDatasetsByDataSource(c);r(l),o(null)}catch(l){throw o(l instanceof Error?l.message:"Failed to load datasets"),l}},[]);return{datasets:e,error:n,loadDatasets:i,saveDataset:async(c,l)=>{try{if(l==="add"){const u=await t.createDataset({name:c.name,query:c.query,fields:c.fields,transform:c.transform,previewData:c.previewData,status:c.status,dataSourceId:c.dataSourceId});r([...e,u])}else{const u=await t.updateDataset(c.id,{name:c.name,query:c.query,fields:c.fields,transform:c.transform,previewData:c.previewData,status:c.status});r(e.map(f=>f.id===u.id?u:f))}o(null)}catch(u){throw o(u instanceof Error?u.message:"Failed to save dataset"),u}},removeDataset:async c=>{try{await t.deleteDataset(c),r(e.filter(l=>l.id!==c)),o(null)}catch(l){throw o(l instanceof Error?l.message:"Failed to delete dataset"),l}},setError:o}}const Um=K.createContext(null);function Z2({children:t,initialValues:e,onConfigChange:r}){const{dataSources:n}=q2(),{datasets:o,loadDatasets:i}=K2(),[a,s]=K.useState(null),[c,l]=K.useState(!1),[u,f]=K.useState(e||{sourceId:"",mode:"static",fieldMapping:{}}),d=u.sourceId,p=u.datasetId;K.useEffect(()=>{d&&i(d)},[d,i]),K.useEffect(()=>{if(p){const E=o.find(C=>C.id===p)||null;s(E)}else s(null)},[p,o]),K.useEffect(()=>{e&&f(e)},[e]);const g=K.useRef(null),h=K.useRef(!0);K.useEffect(()=>{if(h.current){h.current=!1,g.current={...u};return}!(JSON.stringify(g.current)===JSON.stringify(u))&&r&&(r(u),g.current={...u})},[u,r]);const m=K.useCallback((E,C)=>{f(T=>({...T,[E]:C}))},[]),y=K.useCallback((E,C)=>{f(T=>({...T,fieldMapping:{...T.fieldMapping,[E]:C}}))},[]),x=()=>a?a.fields&&Array.isArray(a.fields)?a.fields:a.previewData&&a.previewData.length>0?Object.keys(a.previewData[0]):[]:[],b=x(),_={formValues:u,setFormValue:m,setFieldMapping:y,dataSources:n,datasets:o,selectedDataset:a,sourceId:d,datasetId:p,showFormOutput:c,setShowFormOutput:l,copyFormValues:async()=>{try{await navigator.clipboard.writeText(JSON.stringify(u,null,2))}catch(E){console.error("Copy failed:",E)}},getAvailableFields:x,availableFields:b};return v.jsx(Um.Provider,{value:_,children:t})}function xs(){const t=K.useContext(Um);if(!t)throw new Error("useDataBinding must be used within a DataBindingProvider");return t}var bs="Collapsible",[J2,kA]=Ie(bs),[Q2,Eu]=J2(bs),Xm=S.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:o,disabled:i,onOpenChange:a,...s}=t,[c,l]=Mr({prop:n,defaultProp:o??!1,onChange:a,caller:bs});return v.jsx(Q2,{scope:r,disabled:i,contentId:Rr(),open:c,onOpenToggle:S.useCallback(()=>l(u=>!u),[l]),children:v.jsx(ft.div,{"data-state":Tu(c),"data-disabled":i?"":void 0,...s,ref:e})})});Xm.displayName=bs;var qm="CollapsibleTrigger",Km=S.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,o=Eu(qm,r);return v.jsx(ft.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Tu(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:e,onClick:nt(t.onClick,o.onOpenToggle)})});Km.displayName=qm;var _u="CollapsibleContent",Zm=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=Eu(_u,t.__scopeCollapsible);return v.jsx(Te,{present:r||o.open,children:({present:i})=>v.jsx(tD,{...n,ref:e,present:i})})});Zm.displayName=_u;var tD=S.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:o,...i}=t,a=Eu(_u,r),[s,c]=S.useState(n),l=S.useRef(null),u=xt(e,l),f=S.useRef(0),d=f.current,p=S.useRef(0),g=p.current,h=a.open||s,m=S.useRef(h),y=S.useRef(void 0);return S.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),re(()=>{const x=l.current;if(x){y.current=y.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const b=x.getBoundingClientRect();f.current=b.height,p.current=b.width,m.current||(x.style.transitionDuration=y.current.transitionDuration,x.style.animationName=y.current.animationName),c(n)}},[a.open,n]),v.jsx(ft.div,{"data-state":Tu(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!h,...i,ref:u,style:{"--radix-collapsible-content-height":d?`${d}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:h&&o})});function Tu(t){return t?"open":"closed"}var eD=Xm;function rD({...t}){return v.jsx(eD,{"data-slot":"collapsible",...t})}function nD({...t}){return v.jsx(Km,{"data-slot":"collapsible-trigger",...t})}function oD({...t}){return v.jsx(Zm,{"data-slot":"collapsible-content",...t})}function go({title:t,icon:e,children:r,defaultOpen:n=!0,className:o}){const[i,a]=S.useState(n);return v.jsxs(rD,{open:i,onOpenChange:a,className:o,children:[v.jsx(nD,{asChild:!0,children:v.jsxs(_e,{variant:"ghost",className:"w-full justify-between p-2 h-auto font-medium text-sm",children:[v.jsxs("div",{className:"flex items-center",children:[e,v.jsx("span",{className:"ml-2",children:t})]}),i?v.jsx(Cl,{className:"h-4 w-4"}):v.jsx(sh,{className:"h-4 w-4"})]})}),v.jsx(oD,{className:"px-4 pb-4 mt-4",children:v.jsx("div",{className:"space-y-4",children:r})})]})}function iD(){const{dataSources:t,datasets:e,sourceId:r,formValues:n,setFormValue:o}=xs();return v.jsx(go,{title:"Data Source",icon:v.jsx(cS,{className:"h-4 w-4"}),children:v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx(qt,{className:"text-xs font-medium",children:"Data Source"}),v.jsxs(wn,{onValueChange:i=>o("sourceId",i),value:r||"",children:[v.jsx(Jr,{className:"w-40 h-7 text-xs",children:v.jsx(ho,{placeholder:"Select data source"})}),v.jsx(Qr,{children:t.map(i=>v.jsx(se,{value:i.id,children:i.name},i.id))})]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx(qt,{className:"text-xs font-medium",children:"Dataset"}),v.jsxs(wn,{onValueChange:i=>o("datasetId",i),value:n.datasetId||"",disabled:!r||e.length===0,children:[v.jsx(Jr,{className:"w-40 h-7 text-xs",children:v.jsx(ho,{placeholder:"Select dataset"})}),v.jsx(Qr,{children:e.map(i=>v.jsx(se,{value:i.id,children:i.name},i.id))})]})]})]})})}function aD({fieldConfig:t,availableFields:e}){const[r,n]=K.useState(!1),{formValues:o,setFieldMapping:i}=xs(),a=u=>typeof u=="string"?u:typeof u=="object"&&u!==null&&(u.name||u.label||u.key)||String(u),s=u=>typeof u=="string"?u:typeof u=="object"&&u!==null&&(u.name||u.value||u.key)||String(u),c=o.fieldMapping?.[t.key]?.sourceField||"",l=u=>{const f=u.dataProcessing;return v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f?.dataType&&v.jsxs("div",{className:"space-y-1",children:[v.jsx(qt,{className:"text-xs",children:""}),v.jsxs(wn,{defaultValue:f.dataType,children:[v.jsx(Jr,{className:"h-6 text-xs",children:v.jsx(ho,{placeholder:""})}),v.jsxs(Qr,{children:[v.jsx(se,{value:"string",children:""}),v.jsx(se,{value:"number",children:""}),v.jsx(se,{value:"date",children:""}),v.jsx(se,{value:"datetime",children:""}),v.jsx(se,{value:"boolean",children:""}),v.jsx(se,{value:"currency",children:""}),v.jsx(se,{value:"percentage",children:""})]})]})]}),f?.format?.dateFormat&&v.jsxs("div",{className:"space-y-1",children:[v.jsx(qt,{className:"text-xs",children:""}),v.jsx(te,{className:"h-6 text-xs",placeholder:"YYYY-MM-DD",defaultValue:f.format.dateFormat})]}),f?.format?.numberFormat&&v.jsxs("div",{className:"space-y-1",children:[v.jsx(qt,{className:"text-xs",children:""}),v.jsx(te,{className:"h-6 text-xs",type:"number",defaultValue:f.format.numberFormat.decimals||0})]})]})};return v.jsxs("div",{className:"space-y-2",children:[v.jsxs(qt,{className:"text-xs font-medium",children:[t.label,t.required&&v.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t.description&&v.jsx("p",{className:"text-xs text-muted-foreground",children:t.description}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(wn,{onValueChange:u=>i(t.key,{sourceField:u}),value:c,children:[v.jsx(Jr,{className:"h-7 text-xs flex-1",children:v.jsx(ho,{placeholder:t.placeholder||`${t.label}`})}),v.jsxs(Qr,{children:[v.jsx(se,{value:"none",children:""}),t.options?t.options.map(u=>v.jsx(se,{value:u.value,children:u.label},u.value)):e.map((u,f)=>v.jsx(se,{value:s(u),children:a(u)},f))]})]}),v.jsx("button",{type:"button",className:"p-1 rounded hover:bg-muted flex-shrink-0",onClick:()=>n(u=>!u),"aria-label":"",children:v.jsx(CS,{className:`h-4 w-4 ${r?"text-primary":"text-muted-foreground"}`})})]}),v.jsxs("div",{className:`mt-2 p-2 bg-muted rounded text-xs transition-all duration-200 ${r?"":"hidden"}`,children:[v.jsx("div",{className:"font-medium mb-2",children:""}),r&&l(t)]})]})}function sD({schema:t}){const{availableFields:e}=xs(),r=t||[{key:"xField",label:" (xField)",type:"select",required:!0},{key:"yField",label:" (yField)",type:"select",required:!0},{key:"seriesField",label:" (seriesField)",type:"select",required:!1}];return v.jsx(go,{title:"Field Mapping",icon:v.jsx(vS,{className:"h-4 w-4"}),children:v.jsx("div",{className:"space-y-3",children:r.map(n=>v.jsx(aD,{fieldConfig:n,availableFields:e},n.key))})})}function cD({watchedValues:t}){return v.jsxs(Di,{className:"bg-gray-50 dark:bg-gray-900",children:[v.jsx(qg,{className:"p-2",children:v.jsx(Kg,{className:"text-sm",children:"Current Form Values"})}),v.jsx(Ri,{className:"p-2",children:v.jsx("pre",{className:"text-xs overflow-auto max-h-60 bg-white dark:bg-gray-800 rounded border ",children:JSON.stringify(t,null,2)})})]})}function lD({showFormOutput:t,setShowFormOutput:e,copyFormValues:r,watchedValues:n}){return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h2",{className:"text-lg font-semibold"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(_e,{variant:"outline",size:"sm",onClick:()=>e(!t),title:t?"Hide Output":"Show Output",children:t?v.jsx(fh,{}):v.jsx(dh,{})}),v.jsx(_e,{variant:"outline",size:"sm",onClick:r,title:"Copy Configuration",children:v.jsx(sS,{})})]})]}),t&&v.jsx("div",{className:"mb-4",children:v.jsx(cD,{watchedValues:n})})]})}function uD({schema:t}){const{showFormOutput:e,setShowFormOutput:r,copyFormValues:n,formValues:o,selectedDataset:i}=xs();return v.jsxs("div",{children:[v.jsx(lD,{showFormOutput:e,setShowFormOutput:r,copyFormValues:n,watchedValues:o}),v.jsxs("div",{className:"divide-y divide-border",children:[v.jsx(iD,{}),v.jsx(sD,{schema:t?.fieldMapping}),i&&v.jsx(v.Fragment,{})]})]})}const fD=({initialValues:t,onConfigChange:e,schema:r})=>v.jsx(Z2,{initialValues:t,onConfigChange:e,schema:r,children:v.jsx(uD,{schema:r})}),yr=Object.create(null);yr.open="0",yr.close="1",yr.ping="2",yr.pong="3",yr.message="4",yr.upgrade="5",yr.noop="6";const ws=Object.create(null);Object.keys(yr).forEach(t=>{ws[yr[t]]=t});const Du={type:"error",data:"parser error"},Jm=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Qm=typeof ArrayBuffer=="function",t0=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ru=({type:t,data:e},r,n)=>Jm&&e instanceof Blob?r?n(e):e0(e,n):Qm&&(e instanceof ArrayBuffer||t0(e))?r?n(e):e0(new Blob([e]),n):n(yr[t]+(e||"")),e0=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function r0(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Mu;function dD(t,e){if(Jm&&t.data instanceof Blob)return t.data.arrayBuffer().then(r0).then(e);if(Qm&&(t.data instanceof ArrayBuffer||t0(t.data)))return e(r0(t.data));Ru(t,!1,r=>{Mu||(Mu=new TextEncoder),e(Mu.encode(r))})}const n0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<n0.length;t++)Fi[n0.charCodeAt(t)]=t;const pD=t=>{let e=t.length*.75,r=t.length,n,o=0,i,a,s,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),u=new Uint8Array(l);for(n=0;n<r;n+=4)i=Fi[t.charCodeAt(n)],a=Fi[t.charCodeAt(n+1)],s=Fi[t.charCodeAt(n+2)],c=Fi[t.charCodeAt(n+3)],u[o++]=i<<2|a>>4,u[o++]=(a&15)<<4|s>>2,u[o++]=(s&3)<<6|c&63;return l},hD=typeof ArrayBuffer=="function",Pu=(t,e)=>{if(typeof t!="string")return{type:"message",data:o0(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:vD(t.substring(1),e)}:ws[r]?t.length>1?{type:ws[r],data:t.substring(1)}:{type:ws[r]}:Du},vD=(t,e)=>{if(hD){const r=pD(t);return o0(r,e)}else return{base64:!0,data:t}},o0=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},i0="",gD=(t,e)=>{const r=t.length,n=new Array(r);let o=0;t.forEach((i,a)=>{Ru(i,!1,s=>{n[a]=s,++o===r&&e(n.join(i0))})})},mD=(t,e)=>{const r=t.split(i0),n=[];for(let o=0;o<r.length;o++){const i=Pu(r[o],e);if(n.push(i),i.type==="error")break}return n};function yD(){return new TransformStream({transform(t,e){dD(t,r=>{const n=r.length;let o;if(n<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,n);else if(n<65536){o=new Uint8Array(3);const i=new DataView(o.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{o=new Uint8Array(9);const i=new DataView(o.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(o[0]|=128),e.enqueue(o),e.enqueue(r)})}})}let Ou;function Ss(t){return t.reduce((e,r)=>e+r.length,0)}function Cs(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let o=0;o<e;o++)r[o]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function xD(t,e){Ou||(Ou=new TextDecoder);const r=[];let n=0,o=-1,i=!1;return new TransformStream({transform(a,s){for(r.push(a);;){if(n===0){if(Ss(r)<1)break;const c=Cs(r,1);i=(c[0]&128)===128,o=c[0]&127,o<126?n=3:o===126?n=1:n=2}else if(n===1){if(Ss(r)<2)break;const c=Cs(r,2);o=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(Ss(r)<8)break;const c=Cs(r,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){s.enqueue(Du);break}o=u*Math.pow(2,32)+l.getUint32(4),n=3}else{if(Ss(r)<o)break;const c=Cs(r,o);s.enqueue(Pu(i?c:Ou.decode(c),e)),n=0}if(o===0||o>t){s.enqueue(Du);break}}}})}const a0=4;function Kt(t){if(t)return bD(t)}function bD(t){for(var e in Kt.prototype)t[e]=Kt.prototype[e];return t}Kt.prototype.on=Kt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Kt.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},Kt.prototype.off=Kt.prototype.removeListener=Kt.prototype.removeAllListeners=Kt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return r.length===0&&delete this._callbacks["$"+t],this},Kt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,o=r.length;n<o;++n)r[n].apply(this,e)}return this},Kt.prototype.emitReserved=Kt.prototype.emit,Kt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Kt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Es=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Be=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),wD="arraybuffer";function jA(){}function s0(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const SD=Be.setTimeout,CD=Be.clearTimeout;function _s(t,e){e.useNativeTimers?(t.setTimeoutFn=SD.bind(Be),t.clearTimeoutFn=CD.bind(Be)):(t.setTimeoutFn=Be.setTimeout.bind(Be),t.clearTimeoutFn=Be.clearTimeout.bind(Be))}const ED=1.33;function _D(t){return typeof t=="string"?TD(t):Math.ceil((t.byteLength||t.size)*ED)}function TD(t){let e=0,r=0;for(let n=0,o=t.length;n<o;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function c0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function DD(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function RD(t){let e={},r=t.split("&");for(let n=0,o=r.length;n<o;n++){let i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class MD extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class Nu extends Kt{constructor(e){super(),this.writable=!1,_s(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new MD(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=Pu(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=DD(e);return r.length?"?"+r:""}}class PD extends Nu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};mD(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,gD(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=c0()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let l0=!1;try{l0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const OD=l0;function ND(){}class kD extends PD{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(o,i)=>{this.onError("xhr post error",o,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class xr extends Kt{constructor(e,r,n){super(),this.createRequest=e,_s(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=s0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var o;n.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=xr.requestsCount++,xr.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ND,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete xr.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(xr.requestsCount=0,xr.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",u0);else if(typeof addEventListener=="function"){const t="onpagehide"in Be?"pagehide":"unload";addEventListener(t,u0,!1)}}function u0(){for(let t in xr.requests)xr.requests.hasOwnProperty(t)&&xr.requests[t].abort()}const jD=function(){const t=f0({xdomain:!1});return t&&t.responseType!==null}();class AD extends kD{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=jD&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new xr(f0,this.uri(),e)}}function f0(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||OD))return new XMLHttpRequest}catch{}if(!e)try{return new Be[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const d0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ID extends Nu{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=d0?{}:s0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],o=r===e.length-1;Ru(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}o&&Es(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=c0()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const ku=Be.WebSocket||Be.MozWebSocket;class FD extends ID{createSocket(e,r,n){return d0?new ku(e,r,n):r?new ku(e,r):new ku(e)}doWrite(e,r){this.ws.send(r)}}class BD extends Nu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=xD(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),o=yD();o.readable.pipeTo(e.writable),this._writer=o.writable.getWriter();const i=()=>{n.read().then(({done:s,value:c})=>{s||(this.onPacket(c),i())}).catch(s=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],o=r===e.length-1;this._writer.write(n).then(()=>{o&&Es(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const LD={websocket:FD,webtransport:BD,polling:AD},zD=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,GD=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ju(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let o=zD.exec(t||""),i={},a=14;for(;a--;)i[GD[a]]=o[a]||"";return r!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=$D(i,i.path),i.queryKey=VD(i,i.query),i}function $D(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function VD(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,o,i){o&&(r[o]=i)}),r}const Au=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ts=[];Au&&addEventListener("offline",()=>{Ts.forEach(t=>t())},!1);class en extends Kt{constructor(e,r){if(super(),this.binaryType=wD,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=ju(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=ju(r.host).host);_s(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const o=n.prototype.name;this.transports.push(o),this._transportsByName[o]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=RD(this.opts.query)),Au&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ts.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=a0,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&en.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",en.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const o=this.writeBuffer[n].data;if(o&&(r+=_D(o)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Es(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,o){if(typeof r=="function"&&(o=r,r=void 0),typeof n=="function"&&(o=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),o&&this.once("flush",o),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(en.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Au&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Ts.indexOf(this._offlineEventListener);n!==-1&&Ts.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}en.protocol=a0;class WD extends en{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;en.priorWebsocketSuccess=!1;const o=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;en.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=r.name,this.emitReserved("upgradeError",d)}}))};function i(){n||(n=!0,u(),r.close(),r=null)}const a=f=>{const d=new Error("probe error: "+f);d.transport=r.name,i(),this.emitReserved("upgradeError",d)};function s(){a("transport closed")}function c(){a("socket closed")}function l(f){r&&f.name!==r.name&&i()}const u=()=>{r.removeListener("open",o),r.removeListener("error",a),r.removeListener("close",s),this.off("close",c),this.off("upgrading",l)};r.once("open",o),r.once("error",a),r.once("close",s),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let HD=class extends WD{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(o=>LD[o]).filter(o=>!!o)),super(e,n)}};function YD(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=ju(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const UD=typeof ArrayBuffer=="function",XD=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,p0=Object.prototype.toString,qD=typeof Blob=="function"||typeof Blob<"u"&&p0.call(Blob)==="[object BlobConstructor]",KD=typeof File=="function"||typeof File<"u"&&p0.call(File)==="[object FileConstructor]";function Iu(t){return UD&&(t instanceof ArrayBuffer||XD(t))||qD&&t instanceof Blob||KD&&t instanceof File}function Ds(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Ds(t[r]))return!0;return!1}if(Iu(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ds(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Ds(t[r]))return!0;return!1}function ZD(t){const e=[],r=t.data,n=t;return n.data=Fu(r,e),n.attachments=e.length,{packet:n,buffers:e}}function Fu(t,e){if(!t)return t;if(Iu(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=Fu(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=Fu(t[n],e));return r}return t}function JD(t,e){return t.data=Bu(t.data,e),delete t.attachments,t}function Bu(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Bu(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Bu(t[r],e));return t}const QD=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],tR=5;var Ct;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ct||(Ct={}));class eR{constructor(e){this.replacer=e}encode(e){return(e.type===Ct.EVENT||e.type===Ct.ACK)&&Ds(e)?this.encodeAsBinary({type:e.type===Ct.EVENT?Ct.BINARY_EVENT:Ct.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Ct.BINARY_EVENT||e.type===Ct.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=ZD(e),n=this.encodeAsString(r.packet),o=r.buffers;return o.unshift(n),o}}function h0(t){return Object.prototype.toString.call(t)==="[object Object]"}class Lu extends Kt{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Ct.BINARY_EVENT;n||r.type===Ct.BINARY_ACK?(r.type=n?Ct.EVENT:Ct.ACK,this.reconstructor=new rR(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Iu(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Ct[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Ct.BINARY_EVENT||n.type===Ct.BINARY_ACK){const i=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const a=e.substring(i,r);if(a!=Number(a)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(e.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(i,r)}else n.nsp="/";const o=e.charAt(r+1);if(o!==""&&Number(o)==o){const i=r+1;for(;++r;){const a=e.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===e.length)break}n.id=Number(e.substring(i,r+1))}if(e.charAt(++r)){const i=this.tryParse(e.substr(r));if(Lu.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Ct.CONNECT:return h0(r);case Ct.DISCONNECT:return r===void 0;case Ct.CONNECT_ERROR:return typeof r=="string"||h0(r);case Ct.EVENT:case Ct.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&QD.indexOf(r[0])===-1);case Ct.ACK:case Ct.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class rR{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=JD(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const nR=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Lu,Encoder:eR,get PacketType(){return Ct},protocol:tR},Symbol.toStringTag,{value:"Module"}));function Qe(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const oR=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class v0 extends Kt{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Qe(e,"open",this.onopen.bind(this)),Qe(e,"packet",this.onpacket.bind(this)),Qe(e,"error",this.onerror.bind(this)),Qe(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,o,i;if(oR.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const a={type:Ct.EVENT,data:r};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,f=r.pop();this._registerAckCallback(u,f),a.id=u}const s=(o=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||o===void 0?void 0:o.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!s||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,r){var n;const o=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(o===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);r.call(this,new Error("operation has timed out"))},o),a=(...s)=>{this.io.clearTimeoutFn(i),r.apply(this,s)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...r){return new Promise((n,o)=>{const i=(a,s)=>a?o(a):n(s);i.withError=!0,r.push(i),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((o,...i)=>n!==this._queue[0]?void 0:(o!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(o)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ct.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ct.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ct.EVENT:case Ct.BINARY_EVENT:this.onevent(e);break;case Ct.ACK:case Ct.BINARY_ACK:this.onack(e);break;case Ct.DISCONNECT:this.ondisconnect();break;case Ct.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...o){n||(n=!0,r.packet({type:Ct.ACK,id:e,data:o}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ct.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function mo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}mo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0},mo.prototype.reset=function(){this.attempts=0},mo.prototype.setMin=function(t){this.ms=t},mo.prototype.setMax=function(t){this.max=t},mo.prototype.setJitter=function(t){this.jitter=t};class zu extends Kt{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,_s(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new mo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const o=r.parser||nR;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new HD(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const o=Qe(r,"open",function(){n.onopen(),e&&e()}),i=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),e?e(s):this.maybeReconnectOnOpen()},a=Qe(r,"error",i);if(this._timeout!==!1){const s=this._timeout,c=this.setTimeoutFn(()=>{o(),i(new Error("timeout")),r.close()},s);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(o),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Qe(e,"ping",this.onping.bind(this)),Qe(e,"data",this.ondata.bind(this)),Qe(e,"error",this.onerror.bind(this)),Qe(e,"close",this.onclose.bind(this)),Qe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Es(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new v0(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(o=>{o?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",o)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Bi={};function Gu(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=YD(t,e.path||"/socket.io"),n=r.source,o=r.id,i=r.path,a=Bi[o]&&i in Bi[o].nsps,s=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let c;return s?c=new zu(n,e):(Bi[o]||(Bi[o]=new zu(n,e)),c=Bi[o]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(Gu,{Manager:zu,Socket:v0,io:Gu,connect:Gu});var Rs={exports:{}},$u,g0;function iR(){if(g0)return $u;g0=1;var t=1e3,e=t*60,r=e*60,n=r*24,o=n*7,i=n*365.25;$u=function(u,f){f=f||{};var d=typeof u;if(d==="string"&&u.length>0)return a(u);if(d==="number"&&isFinite(u))return f.long?c(u):s(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function a(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(f){var d=parseFloat(f[1]),p=(f[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"weeks":case"week":case"w":return d*o;case"days":case"day":case"d":return d*n;case"hours":case"hour":case"hrs":case"hr":case"h":return d*r;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function s(u){var f=Math.abs(u);return f>=n?Math.round(u/n)+"d":f>=r?Math.round(u/r)+"h":f>=e?Math.round(u/e)+"m":f>=t?Math.round(u/t)+"s":u+"ms"}function c(u){var f=Math.abs(u);return f>=n?l(u,f,n,"day"):f>=r?l(u,f,r,"hour"):f>=e?l(u,f,e,"minute"):f>=t?l(u,f,t,"second"):u+" ms"}function l(u,f,d,p){var g=f>=d*1.5;return Math.round(u/d)+" "+p+(g?"s":"")}return $u}var Vu,m0;function aR(){if(m0)return Vu;m0=1;function t(e){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=i,n.enabled=c,n.humanize=iR(),n.destroy=u,Object.keys(e).forEach(f=>{n[f]=e[f]}),n.names=[],n.skips=[],n.formatters={};function r(f){let d=0;for(let p=0;p<f.length;p++)d=(d<<5)-d+f.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=r;function n(f){let d,p=null,g,h;function m(...y){if(!m.enabled)return;const x=m,b=Number(new Date),w=b-(d||b);x.diff=w,x.prev=d,x.curr=b,d=b,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let _=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(C,T)=>{if(C==="%%")return"%";_++;const D=n.formatters[T];if(typeof D=="function"){const R=y[_];C=D.call(x,R),y.splice(_,1),_--}return C}),n.formatArgs.call(x,y),(x.log||n.log).apply(x,y)}return m.namespace=f,m.useColors=n.useColors(),m.color=n.selectColor(f),m.extend=o,m.destroy=n.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(g!==n.namespaces&&(g=n.namespaces,h=n.enabled(f)),h),set:y=>{p=y}}),typeof n.init=="function"&&n.init(m),m}function o(f,d){const p=n(this.namespace+(typeof d>"u"?":":d)+f);return p.log=this.log,p}function i(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];const d=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const p of d)p[0]==="-"?n.skips.push(p.slice(1)):n.names.push(p)}function a(f,d){let p=0,g=0,h=-1,m=0;for(;p<f.length;)if(g<d.length&&(d[g]===f[p]||d[g]==="*"))d[g]==="*"?(h=g,m=p,g++):(p++,g++);else if(h!==-1)g=h+1,m++,p=m;else return!1;for(;g<d.length&&d[g]==="*";)g++;return g===d.length}function s(){const f=[...n.names,...n.skips.map(d=>"-"+d)].join(",");return n.enable(""),f}function c(f){for(const d of n.skips)if(a(f,d))return!1;for(const d of n.names)if(a(f,d))return!0;return!1}function l(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return Vu=t,Vu}var y0;function sR(){return y0||(y0=1,function(t,e){e.formatArgs=n,e.save=o,e.load=i,e.useColors=r,e.storage=a(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let u=0,f=0;c[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(u++,d==="%c"&&(f=u))}),c.splice(f,0,l)}e.log=console.debug||console.log||(()=>{});function o(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function i(){let c;try{c=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function a(){try{return localStorage}catch{}}t.exports=aR()(e);const{formatters:s}=t.exports;s.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}}(Rs,Rs.exports)),Rs.exports}var cR=sR();const lR=kd(cR),yo="@veltix/pusher",uR={JOB:`${yo}:job`,TIMER:`${yo}:timer`,SCHEDULER:`${yo}:scheduler`,SOCKET:`${yo}:socket`,API:`${yo}:api`,DB:`${yo}:db`},Wu=t=>lR(uR[t]);Wu("JOB"),Wu("TIMER"),Wu("SCHEDULER");var Ms="Switch",[fR,AA]=Ie(Ms),[dR,pR]=fR(Ms),x0=S.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:o,defaultChecked:i,required:a,disabled:s,value:c="on",onCheckedChange:l,form:u,...f}=t,[d,p]=S.useState(null),g=xt(e,b=>p(b)),h=S.useRef(!1),m=d?u||!!d.closest("form"):!0,[y,x]=Mr({prop:o,defaultProp:i??!1,onChange:l,caller:Ms});return v.jsxs(dR,{scope:r,checked:y,disabled:s,children:[v.jsx(ft.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":C0(y),"data-disabled":s?"":void 0,disabled:s,value:c,...f,ref:g,onClick:nt(t.onClick,b=>{x(w=>!w),m&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})}),m&&v.jsx(S0,{control:d,bubbles:!h.current,name:n,value:c,checked:y,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});x0.displayName=Ms;var b0="SwitchThumb",w0=S.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,o=pR(b0,r);return v.jsx(ft.span,{"data-state":C0(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:e})});w0.displayName=b0;var hR="SwitchBubbleInput",S0=S.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...o},i)=>{const a=S.useRef(null),s=xt(a,i),c=Ql(r),l=Yl(e);return S.useEffect(()=>{const u=a.current;if(!u)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(g)}},[c,r,n]),v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:s,style:{...o.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});S0.displayName=hR;function C0(t){return t?"checked":"unchecked"}var vR=x0,gR=w0;function Hu({className:t,...e}){return v.jsx(vR,{"data-slot":"switch",className:bt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:v.jsx(gR,{"data-slot":"switch-thumb",className:bt("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function mR(){Ce();const t=Nt(),e=ar(),{selectedDoc:r,selectedNodes:n}=ja().getCurrentSelection(),o=n[0];if(o?.type){const i=e.registry.get(o?.type);if(o)return i?.dataConfigSchema?v.jsx(fD,{initialValues:o.dataConfig,schema:i.dataConfigSchema,onConfigChange:a=>{console.log("update data binding",a),t.updateNode(r.id,o.id,{dataConfig:a})}},o.id):v.jsx("div",{children:"No configuration schema available for this widget type."})}else return v.jsx("div",{children:"Please select a widget first."})}var yR="Separator",E0="horizontal",xR=["horizontal","vertical"],_0=S.forwardRef((t,e)=>{const{decorative:r,orientation:n=E0,...o}=t,i=bR(n)?n:E0,s=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return v.jsx(ft.div,{"data-orientation":i,...s,...o,ref:e})});_0.displayName=yR;function bR(t){return xR.includes(t)}var T0=_0;const D0=S.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},o)=>v.jsx(T0,{ref:o,decorative:r,orientation:e,className:bt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));D0.displayName=T0.displayName;const Li=({children:t})=>v.jsx("div",{className:"flex items-center justify-between",children:t}),Yu=({children:t})=>v.jsx("div",{className:"space-y-3",children:t}),wR=({children:t})=>v.jsx("div",{className:"grid grid-cols-2 gap-3",children:t}),zi=({children:t})=>v.jsx(qt,{className:"text-xs font-medium",children:t}),SR=({value:t=0,unit:e="",className:r="w-16",step:n,onChange:o})=>v.jsxs("div",{className:"flex items-center",children:[v.jsx(te,{type:"number",value:t,className:`${r} h-7 text-xs px-2 text-right`,onChange:i=>{o?.(+i.target.value)},step:n}),e&&v.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:e})]}),CR=({value:t=[0],min:e=0,max:r=100,step:n=1,unit:o="",inputWidth:i="w-12",onChange:a})=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(fs,{value:t,min:e,max:r,step:n,className:"w-20",onChange:s=>console.log(s)}),v.jsx(te,{type:"number",value:t[0],className:`${i} h-7 text-xs px-2`,step:n.toString(),onChange:s=>{a?.(+s.target.value)}}),o&&v.jsx("span",{className:"text-xs text-muted-foreground",children:o})]}),ER=({value:t="#000000"})=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-6 h-6 rounded border border-border cursor-pointer",style:{backgroundColor:t}}),v.jsx(te,{type:"text",value:t,className:"w-20 h-7 text-xs px-2",readOnly:!0})]});function Uu({label:t,value:e=0,unit:r="",className:n,step:o,onChange:i}){return v.jsxs(Li,{children:[v.jsx(zi,{children:t}),v.jsx(SR,{value:e,unit:r,className:n,step:o,onChange:i})]})}function Ps({label:t,value:e=[0],min:r,max:n,step:o,unit:i,inputWidth:a,onChange:s}){return v.jsxs(Li,{children:[v.jsx(zi,{children:t}),v.jsx(CR,{value:e,min:r,max:n,step:o,unit:i,inputWidth:a,onChange:s})]})}function _R({label:t,value:e="#000000"}){return v.jsxs(Li,{children:[v.jsx(zi,{children:t}),v.jsx(ER,{value:e})]})}function TR(){return v.jsxs("div",{className:"divide-y divide-border",children:[v.jsx(go,{title:"Shadow & Blur",icon:v.jsx(bh,{className:"h-4 w-4"}),children:v.jsxs(Yu,{children:[v.jsxs(Li,{children:[v.jsx(zi,{children:"Drop Shadow"}),v.jsx(Hu,{})]}),v.jsxs("div",{className:"pl-4 space-y-3 opacity-50",children:[v.jsx(Uu,{label:"X Offset",value:0,unit:"px"}),v.jsx(Uu,{label:"Y Offset",value:4,unit:"px"}),v.jsx(Uu,{label:"Blur",value:8,unit:"px"}),v.jsx(_R,{label:"Shadow Color",value:"#00000040"})]}),v.jsx(D0,{}),v.jsx(Ps,{label:"Blur",value:[0],max:20,step:.1})]})}),v.jsx(go,{title:"Advanced Effects",icon:v.jsx(bh,{className:"h-4 w-4"}),children:v.jsxs(Yu,{children:[v.jsxs(Li,{children:[v.jsx(zi,{children:"Inner Shadow"}),v.jsx(Hu,{})]}),v.jsx(Ps,{label:"Background Blur",value:[0],max:50,step:1}),v.jsx(Ps,{label:"Brightness",value:[100],min:0,max:200,step:1,unit:"%"}),v.jsx(Ps,{label:"Contrast",value:[100],min:0,max:200,step:1,unit:"%"})]})})]})}function DR(){return v.jsx("div",{})}function RR(t,e){return S.useReducer((r,n)=>e[r][n]??r,t)}var Xu="ScrollArea",[R0,IA]=Ie(Xu),[MR,Le]=R0(Xu),M0=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:i=600,...a}=t,[s,c]=S.useState(null),[l,u]=S.useState(null),[f,d]=S.useState(null),[p,g]=S.useState(null),[h,m]=S.useState(null),[y,x]=S.useState(0),[b,w]=S.useState(0),[_,E]=S.useState(!1),[C,T]=S.useState(!1),D=xt(e,N=>c(N)),R=ro(o);return v.jsx(MR,{scope:r,type:n,dir:R,scrollHideDelay:i,scrollArea:s,viewport:l,onViewportChange:u,content:f,onContentChange:d,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:E,scrollbarY:h,onScrollbarYChange:m,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:x,onCornerHeightChange:w,children:v.jsx(ft.div,{dir:R,...a,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});M0.displayName=Xu;var P0="ScrollAreaViewport",O0=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:o,...i}=t,a=Le(P0,r),s=S.useRef(null),c=xt(e,s,a.onViewportChange);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),v.jsx(ft.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:v.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});O0.displayName=P0;var br="ScrollAreaScrollbar",N0=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=Le(br,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=o,s=t.orientation==="horizontal";return S.useEffect(()=>(s?i(!0):a(!0),()=>{s?i(!1):a(!1)}),[s,i,a]),o.type==="hover"?v.jsx(PR,{...n,ref:e,forceMount:r}):o.type==="scroll"?v.jsx(OR,{...n,ref:e,forceMount:r}):o.type==="auto"?v.jsx(k0,{...n,ref:e,forceMount:r}):o.type==="always"?v.jsx(qu,{...n,ref:e}):null});N0.displayName=br;var PR=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=Le(br,t.__scopeScrollArea),[i,a]=S.useState(!1);return S.useEffect(()=>{const s=o.scrollArea;let c=0;if(s){const l=()=>{window.clearTimeout(c),a(!0)},u=()=>{c=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return s.addEventListener("pointerenter",l),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),s.removeEventListener("pointerenter",l),s.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),v.jsx(Te,{present:r||i,children:v.jsx(k0,{"data-state":i?"visible":"hidden",...n,ref:e})})}),OR=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=Le(br,t.__scopeScrollArea),i=t.orientation==="horizontal",a=js(()=>c("SCROLL_END"),100),[s,c]=RR("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(s==="idle"){const l=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(l)}},[s,o.scrollHideDelay,c]),S.useEffect(()=>{const l=o.viewport,u=i?"scrollLeft":"scrollTop";if(l){let f=l[u];const d=()=>{const p=l[u];f!==p&&(c("SCROLL"),a()),f=p};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[o.viewport,i,c,a]),v.jsx(Te,{present:r||s!=="hidden",children:v.jsx(qu,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:nt(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:nt(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),k0=S.forwardRef((t,e)=>{const r=Le(br,t.__scopeScrollArea),{forceMount:n,...o}=t,[i,a]=S.useState(!1),s=t.orientation==="horizontal",c=js(()=>{if(r.viewport){const l=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;a(s?l:u)}},10);return xo(r.viewport,c),xo(r.content,c),v.jsx(Te,{present:n||i,children:v.jsx(qu,{"data-state":i?"visible":"hidden",...o,ref:e})})}),qu=S.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,o=Le(br,t.__scopeScrollArea),i=S.useRef(null),a=S.useRef(0),[s,c]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=B0(s.viewport,s.content),u={...n,sizes:s,onSizesChange:c,hasThumb:l>0&&l<1,onThumbChange:d=>i.current=d,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:d=>a.current=d};function f(d,p){return FR(d,a.current,s,p)}return r==="horizontal"?v.jsx(NR,{...u,ref:e,onThumbPositionChange:()=>{if(o.viewport&&i.current){const d=o.viewport.scrollLeft,p=L0(d,s,o.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:d=>{o.viewport&&(o.viewport.scrollLeft=d)},onDragScroll:d=>{o.viewport&&(o.viewport.scrollLeft=f(d,o.dir))}}):r==="vertical"?v.jsx(kR,{...u,ref:e,onThumbPositionChange:()=>{if(o.viewport&&i.current){const d=o.viewport.scrollTop,p=L0(d,s);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:d=>{o.viewport&&(o.viewport.scrollTop=d)},onDragScroll:d=>{o.viewport&&(o.viewport.scrollTop=f(d))}}):null}),NR=S.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...o}=t,i=Le(br,t.__scopeScrollArea),[a,s]=S.useState(),c=S.useRef(null),l=xt(e,c,i.onScrollbarXChange);return S.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),v.jsx(A0,{"data-orientation":"horizontal",...o,ref:l,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ks(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const d=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(d),G0(d,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ns(a.paddingLeft),paddingEnd:Ns(a.paddingRight)}})}})}),kR=S.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...o}=t,i=Le(br,t.__scopeScrollArea),[a,s]=S.useState(),c=S.useRef(null),l=xt(e,c,i.onScrollbarYChange);return S.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),v.jsx(A0,{"data-orientation":"vertical",...o,ref:l,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ks(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const d=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(d),G0(d,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ns(a.paddingTop),paddingEnd:Ns(a.paddingBottom)}})}})}),[jR,j0]=R0(br),A0=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:c,onDragScroll:l,onWheelScroll:u,onResize:f,...d}=t,p=Le(br,r),[g,h]=S.useState(null),m=xt(e,D=>h(D)),y=S.useRef(null),x=S.useRef(""),b=p.viewport,w=n.content-n.viewport,_=ae(u),E=ae(c),C=js(f,10);function T(D){if(y.current){const R=D.clientX-y.current.left,N=D.clientY-y.current.top;l({x:R,y:N})}}return S.useEffect(()=>{const D=R=>{const N=R.target;g?.contains(N)&&_(R,w)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[b,g,w,_]),S.useEffect(E,[n,E]),xo(g,C),xo(p.content,C),v.jsx(jR,{scope:r,scrollbar:g,hasThumb:o,onThumbChange:ae(i),onThumbPointerUp:ae(a),onThumbPositionChange:E,onThumbPointerDown:ae(s),children:v.jsx(ft.div,{...d,ref:m,style:{position:"absolute",...d.style},onPointerDown:nt(t.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),y.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(D))}),onPointerMove:nt(t.onPointerMove,T),onPointerUp:nt(t.onPointerUp,D=>{const R=D.target;R.hasPointerCapture(D.pointerId)&&R.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Os="ScrollAreaThumb",I0=S.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=j0(Os,t.__scopeScrollArea);return v.jsx(Te,{present:r||o.hasThumb,children:v.jsx(AR,{ref:e,...n})})}),AR=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...o}=t,i=Le(Os,r),a=j0(Os,r),{onThumbPositionChange:s}=a,c=xt(e,f=>a.onThumbChange(f)),l=S.useRef(void 0),u=js(()=>{l.current&&(l.current(),l.current=void 0)},100);return S.useEffect(()=>{const f=i.viewport;if(f){const d=()=>{if(u(),!l.current){const p=BR(f,s);l.current=p,s()}};return s(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[i.viewport,u,s]),v.jsx(ft.div,{"data-state":a.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:nt(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,h=f.clientY-p.top;a.onThumbPointerDown({x:g,y:h})}),onPointerUp:nt(t.onPointerUp,a.onThumbPointerUp)})});I0.displayName=Os;var Ku="ScrollAreaCorner",F0=S.forwardRef((t,e)=>{const r=Le(Ku,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?v.jsx(IR,{...t,ref:e}):null});F0.displayName=Ku;var IR=S.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,o=Le(Ku,r),[i,a]=S.useState(0),[s,c]=S.useState(0),l=!!(i&&s);return xo(o.scrollbarX,()=>{const u=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(u),c(u)}),xo(o.scrollbarY,()=>{const u=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(u),a(u)}),l?v.jsx(ft.div,{...n,ref:e,style:{width:i,height:s,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ns(t){return t?parseInt(t,10):0}function B0(t,e){const r=t/e;return isNaN(r)?0:r}function ks(t){const e=B0(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function FR(t,e,r,n="ltr"){const o=ks(r),i=o/2,a=e||i,s=o-a,c=r.scrollbar.paddingStart+a,l=r.scrollbar.size-r.scrollbar.paddingEnd-s,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return z0([c,l],f)(t)}function L0(t,e,r="ltr"){const n=ks(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-o,a=e.content-e.viewport,s=i-n,c=r==="ltr"?[0,a]:[a*-1,0],l=Si(t,c);return z0([0,a],[0,s])(l)}function z0(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function G0(t,e){return t>0&&t<e}var BR=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function o(){const i={left:t.scrollLeft,top:t.scrollTop},a=r.left!==i.left,s=r.top!==i.top;(a||s)&&e(),r=i,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function js(t,e){const r=ae(t),n=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),S.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function xo(t,e){const r=ae(e);re(()=>{let n=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(t),()=>{window.cancelAnimationFrame(n),o.unobserve(t)}}},[t,r])}var LR=M0,zR=O0,GR=F0;function $R({className:t,children:e,...r}){return v.jsxs(LR,{"data-slot":"scroll-area",className:bt("relative",t),...r,children:[v.jsx(zR,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),v.jsx(VR,{}),v.jsx(GR,{})]})}function VR({className:t,orientation:e="vertical",...r}){return v.jsx(N0,{"data-slot":"scroll-area-scrollbar",orientation:e,className:bt("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:v.jsx(I0,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var Gi={exports:{}};Gi.exports;var $0;function WR(){return $0||($0=1,function(t,e){var r=200,n="__lodash_hash_undefined__",o=1,i=2,a=9007199254740991,s="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",g="[object GeneratorFunction]",h="[object Map]",m="[object Number]",y="[object Null]",x="[object Object]",b="[object Promise]",w="[object Proxy]",_="[object RegExp]",E="[object Set]",C="[object String]",T="[object Symbol]",D="[object Undefined]",R="[object WeakMap]",N="[object ArrayBuffer]",M="[object DataView]",O="[object Float32Array]",k="[object Float64Array]",F="[object Int8Array]",$="[object Int16Array]",V="[object Int32Array]",L="[object Uint8Array]",z="[object Uint8ClampedArray]",A="[object Uint16Array]",B="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,J=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,H={};H[O]=H[k]=H[F]=H[$]=H[V]=H[L]=H[z]=H[A]=H[B]=!0,H[s]=H[c]=H[N]=H[u]=H[M]=H[f]=H[d]=H[p]=H[h]=H[m]=H[x]=H[_]=H[E]=H[C]=H[R]=!1;var tt=typeof ga=="object"&&ga&&ga.Object===Object&&ga,W=typeof self=="object"&&self&&self.Object===Object&&self,q=tt||W||Function("return this")(),it=e&&!e.nodeType&&e,ot=it&&!0&&t&&!t.nodeType&&t,U=ot&&ot.exports===it,rt=U&&tt.process,pt=function(){try{return rt&&rt.binding&&rt.binding("util")}catch{}}(),ut=pt&&pt.isTypedArray;function dt(P,G){for(var Q=-1,st=P==null?0:P.length,Ft=0,St=[];++Q<st;){var Wt=P[Q];G(Wt,Q,P)&&(St[Ft++]=Wt)}return St}function vt(P,G){for(var Q=-1,st=G.length,Ft=P.length;++Q<st;)P[Ft+Q]=G[Q];return P}function Et(P,G){for(var Q=-1,st=P==null?0:P.length;++Q<st;)if(G(P[Q],Q,P))return!0;return!1}function Rt(P,G){for(var Q=-1,st=Array(P);++Q<P;)st[Q]=G(Q);return st}function wt(P){return function(G){return P(G)}}function Tt(P,G){return P.has(G)}function Qt(P,G){return P?.[G]}function ce(P){var G=-1,Q=Array(P.size);return P.forEach(function(st,Ft){Q[++G]=[Ft,st]}),Q}function ne(P,G){return function(Q){return P(G(Q))}}function Vt(P){var G=-1,Q=Array(P.size);return P.forEach(function(st){Q[++G]=st}),Q}var Ut=Array.prototype,Cr=Function.prototype,Pe=Object.prototype,zo=q["__core-js_shared__"],ua=Cr.toString,We=Pe.hasOwnProperty,An=function(){var P=/[^.]+$/.exec(zo&&zo.keys&&zo.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}(),Go=Pe.toString,_d=RegExp("^"+ua.call(We).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fa=U?q.Buffer:void 0,ln=q.Symbol,wc=q.Uint8Array,Sc=Pe.propertyIsEnumerable,Td=Ut.splice,or=ln?ln.toStringTag:void 0,Mt=Object.getOwnPropertySymbols,le=fa?fa.isBuffer:void 0,Cc=ne(Object.keys,Object),$o=Vo(q,"DataView"),In=Vo(q,"Map"),Fn=Vo(q,"Promise"),Dd=Vo(q,"Set"),Rd=Vo(q,"WeakMap"),da=Vo(Object,"create"),Vk=zn($o),Wk=zn(In),Hk=zn(Fn),Yk=zn(Dd),Uk=zn(Rd),Fx=ln?ln.prototype:void 0,Md=Fx?Fx.valueOf:void 0;function Bn(P){var G=-1,Q=P==null?0:P.length;for(this.clear();++G<Q;){var st=P[G];this.set(st[0],st[1])}}function Xk(){this.__data__=da?da(null):{},this.size=0}function qk(P){var G=this.has(P)&&delete this.__data__[P];return this.size-=G?1:0,G}function Kk(P){var G=this.__data__;if(da){var Q=G[P];return Q===n?void 0:Q}return We.call(G,P)?G[P]:void 0}function Zk(P){var G=this.__data__;return da?G[P]!==void 0:We.call(G,P)}function Jk(P,G){var Q=this.__data__;return this.size+=this.has(P)?0:1,Q[P]=da&&G===void 0?n:G,this}Bn.prototype.clear=Xk,Bn.prototype.delete=qk,Bn.prototype.get=Kk,Bn.prototype.has=Zk,Bn.prototype.set=Jk;function kr(P){var G=-1,Q=P==null?0:P.length;for(this.clear();++G<Q;){var st=P[G];this.set(st[0],st[1])}}function Qk(){this.__data__=[],this.size=0}function tj(P){var G=this.__data__,Q=_c(G,P);if(Q<0)return!1;var st=G.length-1;return Q==st?G.pop():Td.call(G,Q,1),--this.size,!0}function ej(P){var G=this.__data__,Q=_c(G,P);return Q<0?void 0:G[Q][1]}function rj(P){return _c(this.__data__,P)>-1}function nj(P,G){var Q=this.__data__,st=_c(Q,P);return st<0?(++this.size,Q.push([P,G])):Q[st][1]=G,this}kr.prototype.clear=Qk,kr.prototype.delete=tj,kr.prototype.get=ej,kr.prototype.has=rj,kr.prototype.set=nj;function Ln(P){var G=-1,Q=P==null?0:P.length;for(this.clear();++G<Q;){var st=P[G];this.set(st[0],st[1])}}function oj(){this.size=0,this.__data__={hash:new Bn,map:new(In||kr),string:new Bn}}function ij(P){var G=Tc(this,P).delete(P);return this.size-=G?1:0,G}function aj(P){return Tc(this,P).get(P)}function sj(P){return Tc(this,P).has(P)}function cj(P,G){var Q=Tc(this,P),st=Q.size;return Q.set(P,G),this.size+=Q.size==st?0:1,this}Ln.prototype.clear=oj,Ln.prototype.delete=ij,Ln.prototype.get=aj,Ln.prototype.has=sj,Ln.prototype.set=cj;function Ec(P){var G=-1,Q=P==null?0:P.length;for(this.__data__=new Ln;++G<Q;)this.add(P[G])}function lj(P){return this.__data__.set(P,n),this}function uj(P){return this.__data__.has(P)}Ec.prototype.add=Ec.prototype.push=lj,Ec.prototype.has=uj;function un(P){var G=this.__data__=new kr(P);this.size=G.size}function fj(){this.__data__=new kr,this.size=0}function dj(P){var G=this.__data__,Q=G.delete(P);return this.size=G.size,Q}function pj(P){return this.__data__.get(P)}function hj(P){return this.__data__.has(P)}function vj(P,G){var Q=this.__data__;if(Q instanceof kr){var st=Q.__data__;if(!In||st.length<r-1)return st.push([P,G]),this.size=++Q.size,this;Q=this.__data__=new Ln(st)}return Q.set(P,G),this.size=Q.size,this}un.prototype.clear=fj,un.prototype.delete=dj,un.prototype.get=pj,un.prototype.has=hj,un.prototype.set=vj;function gj(P,G){var Q=Dc(P),st=!Q&&Oj(P),Ft=!Q&&!st&&Pd(P),St=!Q&&!st&&!Ft&&Yx(P),Wt=Q||st||Ft||St,oe=Wt?Rt(P.length,String):[],ue=oe.length;for(var $t in P)We.call(P,$t)&&!(Wt&&($t=="length"||Ft&&($t=="offset"||$t=="parent")||St&&($t=="buffer"||$t=="byteLength"||$t=="byteOffset")||Tj($t,ue)))&&oe.push($t);return oe}function _c(P,G){for(var Q=P.length;Q--;)if($x(P[Q][0],G))return Q;return-1}function mj(P,G,Q){var st=G(P);return Dc(P)?st:vt(st,Q(P))}function pa(P){return P==null?P===void 0?D:y:or&&or in Object(P)?Ej(P):Pj(P)}function Bx(P){return ha(P)&&pa(P)==s}function Lx(P,G,Q,st,Ft){return P===G?!0:P==null||G==null||!ha(P)&&!ha(G)?P!==P&&G!==G:yj(P,G,Q,st,Lx,Ft)}function yj(P,G,Q,st,Ft,St){var Wt=Dc(P),oe=Dc(G),ue=Wt?c:fn(P),$t=oe?c:fn(G);ue=ue==s?x:ue,$t=$t==s?x:$t;var Oe=ue==x,ir=$t==x,de=ue==$t;if(de&&Pd(P)){if(!Pd(G))return!1;Wt=!0,Oe=!1}if(de&&!Oe)return St||(St=new un),Wt||Yx(P)?zx(P,G,Q,st,Ft,St):Sj(P,G,ue,Q,st,Ft,St);if(!(Q&o)){var He=Oe&&We.call(P,"__wrapped__"),Ye=ir&&We.call(G,"__wrapped__");if(He||Ye){var dn=He?P.value():P,jr=Ye?G.value():G;return St||(St=new un),Ft(dn,jr,Q,st,St)}}return de?(St||(St=new un),Cj(P,G,Q,st,Ft,St)):!1}function xj(P){if(!Hx(P)||Rj(P))return!1;var G=Vx(P)?_d:J;return G.test(zn(P))}function bj(P){return ha(P)&&Wx(P.length)&&!!H[pa(P)]}function wj(P){if(!Mj(P))return Cc(P);var G=[];for(var Q in Object(P))We.call(P,Q)&&Q!="constructor"&&G.push(Q);return G}function zx(P,G,Q,st,Ft,St){var Wt=Q&o,oe=P.length,ue=G.length;if(oe!=ue&&!(Wt&&ue>oe))return!1;var $t=St.get(P);if($t&&St.get(G))return $t==G;var Oe=-1,ir=!0,de=Q&i?new Ec:void 0;for(St.set(P,G),St.set(G,P);++Oe<oe;){var He=P[Oe],Ye=G[Oe];if(st)var dn=Wt?st(Ye,He,Oe,G,P,St):st(He,Ye,Oe,P,G,St);if(dn!==void 0){if(dn)continue;ir=!1;break}if(de){if(!Et(G,function(jr,Gn){if(!Tt(de,Gn)&&(He===jr||Ft(He,jr,Q,st,St)))return de.push(Gn)})){ir=!1;break}}else if(!(He===Ye||Ft(He,Ye,Q,st,St))){ir=!1;break}}return St.delete(P),St.delete(G),ir}function Sj(P,G,Q,st,Ft,St,Wt){switch(Q){case M:if(P.byteLength!=G.byteLength||P.byteOffset!=G.byteOffset)return!1;P=P.buffer,G=G.buffer;case N:return!(P.byteLength!=G.byteLength||!St(new wc(P),new wc(G)));case u:case f:case m:return $x(+P,+G);case d:return P.name==G.name&&P.message==G.message;case _:case C:return P==G+"";case h:var oe=ce;case E:var ue=st&o;if(oe||(oe=Vt),P.size!=G.size&&!ue)return!1;var $t=Wt.get(P);if($t)return $t==G;st|=i,Wt.set(P,G);var Oe=zx(oe(P),oe(G),st,Ft,St,Wt);return Wt.delete(P),Oe;case T:if(Md)return Md.call(P)==Md.call(G)}return!1}function Cj(P,G,Q,st,Ft,St){var Wt=Q&o,oe=Gx(P),ue=oe.length,$t=Gx(G),Oe=$t.length;if(ue!=Oe&&!Wt)return!1;for(var ir=ue;ir--;){var de=oe[ir];if(!(Wt?de in G:We.call(G,de)))return!1}var He=St.get(P);if(He&&St.get(G))return He==G;var Ye=!0;St.set(P,G),St.set(G,P);for(var dn=Wt;++ir<ue;){de=oe[ir];var jr=P[de],Gn=G[de];if(st)var Ux=Wt?st(Gn,jr,de,G,P,St):st(jr,Gn,de,P,G,St);if(!(Ux===void 0?jr===Gn||Ft(jr,Gn,Q,st,St):Ux)){Ye=!1;break}dn||(dn=de=="constructor")}if(Ye&&!dn){var Rc=P.constructor,Mc=G.constructor;Rc!=Mc&&"constructor"in P&&"constructor"in G&&!(typeof Rc=="function"&&Rc instanceof Rc&&typeof Mc=="function"&&Mc instanceof Mc)&&(Ye=!1)}return St.delete(P),St.delete(G),Ye}function Gx(P){return mj(P,jj,_j)}function Tc(P,G){var Q=P.__data__;return Dj(G)?Q[typeof G=="string"?"string":"hash"]:Q.map}function Vo(P,G){var Q=Qt(P,G);return xj(Q)?Q:void 0}function Ej(P){var G=We.call(P,or),Q=P[or];try{P[or]=void 0;var st=!0}catch{}var Ft=Go.call(P);return st&&(G?P[or]=Q:delete P[or]),Ft}var _j=Mt?function(P){return P==null?[]:(P=Object(P),dt(Mt(P),function(G){return Sc.call(P,G)}))}:Aj,fn=pa;($o&&fn(new $o(new ArrayBuffer(1)))!=M||In&&fn(new In)!=h||Fn&&fn(Fn.resolve())!=b||Dd&&fn(new Dd)!=E||Rd&&fn(new Rd)!=R)&&(fn=function(P){var G=pa(P),Q=G==x?P.constructor:void 0,st=Q?zn(Q):"";if(st)switch(st){case Vk:return M;case Wk:return h;case Hk:return b;case Yk:return E;case Uk:return R}return G});function Tj(P,G){return G=G??a,!!G&&(typeof P=="number"||X.test(P))&&P>-1&&P%1==0&&P<G}function Dj(P){var G=typeof P;return G=="string"||G=="number"||G=="symbol"||G=="boolean"?P!=="__proto__":P===null}function Rj(P){return!!An&&An in P}function Mj(P){var G=P&&P.constructor,Q=typeof G=="function"&&G.prototype||Pe;return P===Q}function Pj(P){return Go.call(P)}function zn(P){if(P!=null){try{return ua.call(P)}catch{}try{return P+""}catch{}}return""}function $x(P,G){return P===G||P!==P&&G!==G}var Oj=Bx(function(){return arguments}())?Bx:function(P){return ha(P)&&We.call(P,"callee")&&!Sc.call(P,"callee")},Dc=Array.isArray;function Nj(P){return P!=null&&Wx(P.length)&&!Vx(P)}var Pd=le||Ij;function kj(P,G){return Lx(P,G)}function Vx(P){if(!Hx(P))return!1;var G=pa(P);return G==p||G==g||G==l||G==w}function Wx(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=a}function Hx(P){var G=typeof P;return P!=null&&(G=="object"||G=="function")}function ha(P){return P!=null&&typeof P=="object"}var Yx=ut?wt(ut):bj;function jj(P){return Nj(P)?gj(P):wj(P)}function Aj(){return[]}function Ij(){return!1}t.exports=kj}(Gi,Gi.exports)),Gi.exports}var HR=WR();const YR=kd(HR),UR=Er(t=>({config:{},setConfig:(e,r)=>t(n=>({config:{...n.config,[e]:r}})),setAll:e=>t({config:e})})),V0=K.createContext({config:{},setConfig:(t,e)=>{}}),XR=({children:t,initialValue:e={},onChange:r})=>{const{config:n,setConfig:o,setAll:i}=UR(),a=K.useRef({});return K.useEffect(()=>{Object.keys(e).length>0&&i(e)},[e,i]),K.useEffect(()=>{r&&Object.keys(n).length>0&&!YR(n,a.current)&&(a.current={...n},r(n))},[n,r]),v.jsx(V0.Provider,{value:{config:n,setConfig:o},children:t})},qR=()=>K.useContext(V0);function KR({field:t,value:e,onChange:r}){return v.jsx(te,{type:"text",value:e||"",placeholder:t.placeholder,onChange:n=>r(n.target.value)})}function ZR({value:t,onChange:e}){return v.jsx(Hu,{checked:!!t,onCheckedChange:e})}function JR({value:t,onChange:e}){return v.jsx(te,{type:"number",value:t??"",onChange:r=>e(Number(r.target.value))})}function QR({value:t,onChange:e}){return v.jsx(te,{type:"color",value:t,onChange:r=>e(r.target.value)})}function tM({field:t,value:e,onChange:r}){return v.jsxs(wn,{value:e,onValueChange:r,children:[v.jsx(Jr,{children:e}),v.jsx(Qr,{children:t.options.map(n=>v.jsx(se,{value:n.value,children:n.label},n.value))})]})}function eM({field:t,value:e,onChange:r}){return v.jsx(_h,{value:e||"",placeholder:t.placeholder,rows:t.rows||3,onChange:n=>r(n.target.value)})}const rM={input:KR,switch:ZR,number:JR,color:QR,select:tM,textarea:eM},nM=({label:t,layout:e="vertical",children:r})=>{const n=e==="horizontal";return v.jsxs("div",{className:`${n?"flex items-center justify-between gap-4":"flex flex-col gap-1"}`,children:[v.jsx(qt,{className:Vr("text-xs shrink-0",n?"w-24":""),children:t}),v.jsx("div",{className:`${n?"flex-1":""}`,children:r})]})};function oM({field:t,layout:e="horizontal"}){const{config:r,setConfig:n}=qR(),o=r[t.name]??t.default,i=s=>n(t.name,s),a=rM[t.type];return a?v.jsx(nM,{label:t.label,layout:e,children:v.jsx(a,{field:t,value:o,onChange:i,layout:e})}):null}const iM=({schema:t,initialValue:e={},onChange:r})=>v.jsx(XR,{initialValue:e,onChange:r,children:v.jsx($R,{className:"",children:v.jsx("div",{className:"divide-y divide-border",children:t?.sections?.map(n=>v.jsx(go,{title:n.title,icon:null,children:n.settings.map(o=>v.jsx(oM,{field:o},o.name))},n.type))})})}),As=K.memo(function({label:e,value:r,unit:n="px",propertyKey:o,onChange:i}){return v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs(qt,{className:"text-xs font-medium w-10",children:[" ",e," "]}),v.jsxs("div",{className:"flex flex-1 items-center",children:[v.jsx(te,{type:"number",value:Math.round(r),className:"h-7 text-xs px-2 text-right",onChange:a=>i(o,Math.round(+a.target.value))}),v.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:[" ",n," "]})]})]})}),aM=K.memo(function({value:e,onChange:r}){const n=K.useCallback((o,i)=>{if(r){const a={...e,[o]:i};r(a)}},[r,e]);return v.jsxs(go,{title:"Position & Size",icon:v.jsx(bS,{className:"h-4 w-4"}),className:"border-b",children:[v.jsxs(wR,{children:[v.jsx(As,{label:"X",propertyKey:"left",value:e.left,onChange:n}),v.jsx(As,{label:"Y",propertyKey:"top",value:e.top,onChange:n}),v.jsx(As,{label:"W",propertyKey:"width",value:e.width,onChange:n}),v.jsx(As,{label:"H",propertyKey:"height",value:e.height,onChange:n})]}),v.jsx(Yu,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx(qt,{className:"text-xs font-medium w-14",children:" Rotation "}),v.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[v.jsx(fs,{value:[Math.round(e.rotation||0)],min:0,max:360,step:1,className:"w-20",onValueChange:([o])=>n("rotation",Math.round(o))}),v.jsxs("div",{className:"inline-flex w-20",children:[v.jsx(te,{type:"number",value:Math.round(e.rotation||0),className:"w-16 h-7 text-xs px-2",step:"1",onChange:o=>n("rotation",Math.round(+o.target.value))}),v.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})]})]})})]})});function sM(){const t=ja(),e=Nt(),r=ar(),{selectedDoc:n,selectedNodes:o}=t.getCurrentSelection(),i=o[0];if(i?.type){const a=r.registry.get(i?.type);return v.jsxs(v.Fragment,{children:[v.jsx(aM,{value:i.position,onChange:s=>{e.updateNode(n.id,i.id,{position:s})}}),a?.styleConfigSchema&&v.jsx(iM,{initialValue:i.styleConfig||{},schema:a.styleConfigSchema,onChange:s=>{e.updateNode(n.id,i.id,{styleConfig:s})}})]})}return v.jsx("div",{children:"No selected widget"})}function cM(){const t=Ce(),e=Nt(),{selectedTargets:r}=t,n=e.getNode(e.json?.docs[0]?.id,r[0]);return v.jsx("div",{className:`h-full ${n?"overflow-y-auto":"overflow-hidden"}`,children:v.jsxs(qh,{defaultValue:"style",className:"w-full h-full",children:[v.jsxs(Rl,{className:"grid w-full grid-cols-4 m-0 rounded-none h-10 sticky top-0 z-10",children:[v.jsx(Hr,{value:"data",className:"text-xs h-8",children:"Data"}),v.jsx(Hr,{value:"style",className:"text-xs h-8",children:"Style"}),v.jsx(Hr,{value:"layout",className:"text-xs h-8",children:"Layout"}),v.jsx(Hr,{value:"effects",className:"text-xs h-8",children:"Effects"})]}),n?v.jsxs(v.Fragment,{children:[v.jsx(Yr,{value:"style",className:"mt-0",children:v.jsx(sM,{})}),v.jsx(Yr,{value:"layout",className:"mt-0",children:v.jsx(DR,{})}),v.jsx(Yr,{value:"data",className:"mt-0",children:v.jsx(mR,{})}),v.jsx(Yr,{value:"effects",className:"mt-0",children:v.jsx(TR,{})})]}):v.jsx("div",{className:"flex items-center justify-center h-full",children:v.jsx(Di,{className:"w-full border-none shadow-none bg-transparent",children:v.jsxs(Ri,{className:"flex flex-col items-center justify-center p-8 text-center",children:[v.jsx("div",{className:"mb-4 p-3 rounded-full bg-muted",children:v.jsx(wS,{className:"h-8 w-8 text-muted-foreground"})}),v.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Component Selected"}),v.jsx("p",{className:"text-sm text-muted-foreground mb-6 max-w-sm",children:"Select a component for configuration"})]})})})]})})}const lM=()=>v.jsx("div",{className:"w-[320px] relative after:absolute after:top-0 after:left-0 after:w-[1px] after:h-full after:bg-accent after:content-['']",children:v.jsx(cM,{})});function Zu(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return!0;return!1}function W0(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return t[n];return null}function H0(t){var e=t;if(typeof e>"u"){if(typeof navigator>"u"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function Ju(t,e){try{return new RegExp(t,"g").exec(e)}catch{return null}}function uM(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!!(e&&e.length)}function fM(t,e){var r=Ju("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return r?r[3]:""}function Qu(t){return t.replace(/_/g,".")}function $i(t,e){var r=null,n="-1";return Zu(t,function(o){var i=Ju("("+o.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!i||o.brand?!1:(r=o,n=i[3]||"-1",o.versionAlias?n=o.versionAlias:o.versionTest&&(n=fM(o.versionTest.toLowerCase(),e)||n),n=Qu(n),!0)}),{preset:r,version:n}}function Is(t,e){var r={brand:"",version:"-1"};return Zu(t,function(n){var o=Y0(e,n);return o?(r.brand=n.id,r.version=n.versionAlias||o.version,r.version!=="-1"):!1}),r}function Y0(t,e){return W0(t,function(r){var n=r.brand;return Ju(""+e.test,n.toLowerCase())})}var U0=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],X0=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],tf=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],q0=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],K0=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Z0(t){return!!$i(q0,t).preset}function dM(t){var e=H0(t),r=!!/mobi/g.exec(e),n={name:"unknown",version:"-1",majorVersion:-1,webview:Z0(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},o={name:"unknown",version:"-1",majorVersion:-1},i=$i(U0,e),a=i.preset,s=i.version,c=$i(K0,e),l=c.preset,u=c.version,f=$i(X0,e);if(n.chromium=!!f.preset,n.chromiumVersion=f.version,!n.chromium){var d=$i(tf,e);n.webkit=!!d.preset,n.webkitVersion=d.version}return l&&(o.name=l.id,o.version=u,o.majorVersion=parseInt(u,10)),a&&(n.name=a.id,n.version=s,n.webview&&o.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:o,isMobile:r,isHints:!1}}function pM(t){var e=navigator.userAgentData,r=(e.uaList||e.brands).slice(),n=e.mobile||!1,o=r[0],i=(e.platform||navigator.platform).toLowerCase(),a={name:o.brand,version:o.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Is(q0,r).brand||Z0(H0())},s={name:"unknown",version:"-1",majorVersion:-1};a.webkit=!a.chromium&&Zu(tf,function(d){return Y0(r,d)});var c=Is(X0,r);if(a.chromium=!!c.brand,a.chromiumVersion=c.version||"-1",!a.chromium){var l=Is(tf,r);a.webkit=!!l.brand,a.webkitVersion=l.version||"-1"}var u=W0(K0,function(d){return new RegExp(""+d.test,"g").exec(i)});s.name=u?u.id:"";{var f=Is(U0,r);a.name=f.brand||a.name,a.version=f.brand&&t?t.uaFullVersion:f.version}return a.webkit&&(s.name=n?"ios":"mac"),s.name==="ios"&&a.webview&&(a.version="-1"),s.version=Qu(s.version),a.version=Qu(a.version),s.majorVersion=parseInt(s.version,10),a.majorVersion=parseInt(a.version,10),{browser:a,os:s,isMobile:n,isHints:!0}}function hM(t){return uM()?pM():dM(t)}function vM(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.map(function(n){return n.split(" ").map(function(o){return o?""+t+o:""}).join(" ")}).join(" ")}function gM(t,e){return e.replace(/([^}{]*){/gm,function(r,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"})}function rn(t,e){return function(r){r&&(t[e]=r)}}function J0(t,e,r){return function(n){n&&(t[e][r]=n)}}function mM(t,e){return function(r){var n=r.prototype;t.forEach(function(o){e(n,o)})}}function Q0(t,e){return e===void 0&&(e={}),function(r,n){t.forEach(function(o){var i=e[o]||o;i in r||(r[i]=function(){for(var a,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var l=(a=this[n])[o].apply(a,s);return l===this[n]?this:l})})}}function yM(t,e,r,n,o,i){for(var a=0;a<o;++a){var s=r+a*o,c=n+a*o;t[s]+=t[c]*i,e[s]+=e[c]*i}}function xM(t,e,r,n,o){for(var i=0;i<o;++i){var a=r+i*o,s=n+i*o,c=t[a],l=e[a];t[a]=t[s],t[s]=c,e[a]=e[s],e[s]=l}}function bM(t,e,r,n,o){for(var i=0;i<n;++i){var a=r+i*n;t[a]/=o,e[a]/=o}}function ty(t,e,r){for(var n=t.slice(),o=0;o<r;++o)n[o*r+e-1]=0,n[(e-1)*r+o]=0;return n[(e-1)*(r+1)]=1,n}function tr(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=t.slice(),n=It(e),o=0;o<e;++o){var i=e*o+o;if(!ht(r[i],Xt)){for(var a=o+1;a<e;++a)if(r[e*o+a]){xM(r,n,o,a,e);break}}if(!ht(r[i],Xt))return[];bM(r,n,o,e,r[i]);for(var a=0;a<e;++a){var s=a,c=a+o*e,l=r[c];!ht(l,Xt)||o===a||yM(r,n,s,o,e,-l)}}return n}function wM(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=0;n<e;++n)for(var o=0;o<e;++o)r[o*e+n]=t[e*n+o];return r}function ey(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=t[e*e-1],o=0;o<e-1;++o)r[o]=t[e*(e-1)+o]/n;return r[e-1]=0,r}function SM(t,e){for(var r=It(e),n=0;n<e-1;++n)r[e*(e-1)+n]=t[n]||0;return r}function En(t,e){for(var r=t.slice(),n=t.length;n<e-1;++n)r[n]=0;return r[e-1]=1,r}function er(t,e,r){if(e===void 0&&(e=Math.sqrt(t.length)),e===r)return t;for(var n=It(r),o=Math.min(e,r),i=0;i<o-1;++i){for(var a=0;a<o-1;++a)n[i*r+a]=t[i*e+a];n[(i+1)*r-1]=t[(i+1)*e-1],n[(r-1)*r+i]=t[(e-1)*e+i]}return n[r*r-1]=t[e*e-1],n}function Fs(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=It(t);return e.forEach(function(o){n=Ot(n,o,t)}),n}function Ot(t,e,r){r===void 0&&(r=Math.sqrt(t.length));var n=[],o=t.length/r,i=e.length/o;if(o){if(!i)return t}else return e;for(var a=0;a<r;++a)for(var s=0;s<i;++s){n[s*r+a]=0;for(var c=0;c<o;++c)n[s*r+a]+=t[c*r+a]*e[s*o+c]}return n}function _t(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),o=0;o<r;++o)n[o]=n[o]+e[o];return n}function lt(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),o=0;o<r;++o)n[o]=n[o]-e[o];return n}function CM(t,e){return e===void 0&&(e=t.length===6),e?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t}function ry(t,e){return e===void 0&&(e=t.length===9),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function fe(t,e,r){r===void 0&&(r=e.length);var n=Ot(t,e,r),o=n[r-1];return n.map(function(i){return i/o})}function EM(t,e){return Ot(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function _M(t,e){return Ot(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function TM(t,e){return Ot(t,Wi(e,4))}function Bs(t,e){var r=e[0],n=r===void 0?1:r,o=e[1],i=o===void 0?1:o,a=e[2],s=a===void 0?1:a;return Ot(t,[n,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1],4)}function Vi(t,e){return fe(Wi(e,3),En(t,3))}function ef(t,e){var r=e[0],n=r===void 0?0:r,o=e[1],i=o===void 0?0:o,a=e[2],s=a===void 0?0:a;return Ot(t,[1,0,0,0,0,1,0,0,0,0,1,0,n,i,s,1],4)}function rf(t,e){return Ot(t,e,4)}function Wi(t,e){var r=Math.cos(t),n=Math.sin(t),o=It(e);return o[0]=r,o[1]=n,o[e]=-n,o[e+1]=r,o}function It(t){for(var e=t*t,r=[],n=0;n<e;++n)r[n]=n%(t+1)?0:1;return r}function nf(t,e){for(var r=It(e),n=Math.min(t.length,e-1),o=0;o<n;++o)r[(e+1)*o]=t[o];return r}function _n(t,e){for(var r=It(e),n=Math.min(t.length,e-1),o=0;o<n;++o)r[e*(e-1)+o]=t[o];return r}function of(t,e,r,n,o,i,a,s){var c=t[0],l=t[1],u=e[0],f=e[1],d=r[0],p=r[1],g=n[0],h=n[1],m=o[0],y=o[1],x=i[0],b=i[1],w=a[0],_=a[1],E=s[0],C=s[1],T=[c,0,u,0,d,0,g,0,l,0,f,0,p,0,h,0,1,0,1,0,1,0,1,0,0,c,0,u,0,d,0,g,0,l,0,f,0,p,0,h,0,1,0,1,0,1,0,1,-m*c,-y*c,-x*u,-b*u,-w*d,-_*d,-E*g,-C*g,-m*l,-y*l,-x*f,-b*f,-w*p,-_*p,-E*h,-C*h],D=tr(T,8);if(!D.length)return[];var R=Ot(D,[m,y,x,b,w,_,E,C],8);return R[8]=1,er(wM(R),3,4)}var Hi=function(){return Hi=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Hi.apply(this,arguments)};function af(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function bo(t,e){return e===void 0&&(e=0),wo(So(t,e))}function Ls(t,e){var r=fe(t,[e[0],e[1]||0,e[2]||0,1],4),n=r[3]||1;return[r[0]/n,r[1]/n,r[2]/n]}function DM(t,e){e===void 0&&(e=document.body);for(var r=t,n=af();r;){var o=getComputedStyle(r).transform;if(n=rf(bo(o),n),r===e)break;r=r.parentElement}return n=tr(n,4),n[12]=0,n[13]=0,n[14]=0,n}function wo(t){var e=af();return t.forEach(function(r){var n=r.matrixFunction,o=r.functionValue;n&&(e=n(e,o))}),e}function So(t,e){e===void 0&&(e=0);var r=Dt(t)?t:_r(t);return r.map(function(n){var o=Sa(n),i=o.prefix,a=o.value,s=null,c=i,l="";if(i==="translate"||i==="translateX"||i==="translate3d"){var u=zt(e)?Hi(Hi({},e),{"o%":e["%"]}):{"%":e,"o%":e},f=Ne(a).map(function(O,k){return k===0&&"x%"in u?u["%"]=e["x%"]:k===1&&"y%"in u?u["%"]=e["y%"]:u["%"]=e["o%"],Pt(O,u)}),d=f[0],p=f[1],g=p===void 0?0:p,h=f[2],m=h===void 0?0:h;s=ef,l=[d,g,m]}else if(i==="translateY"){var y=zt(e)?Hi({"%":e["y%"]},e):{"%":e},g=Pt(a,y);s=ef,l=[0,g,0]}else if(i==="translateZ"){var m=parseFloat(a);s=ef,l=[0,0,m]}else if(i==="scale"||i==="scale3d"){var x=Ne(a).map(function(O){return parseFloat(O)}),b=x[0],w=x[1],_=w===void 0?b:w,E=x[2],C=E===void 0?1:E;s=Bs,l=[b,_,C]}else if(i==="scaleX"){var b=parseFloat(a);s=Bs,l=[b,1,1]}else if(i==="scaleY"){var _=parseFloat(a);s=Bs,l=[1,_,1]}else if(i==="scaleZ"){var C=parseFloat(a);s=Bs,l=[1,1,C]}else if(i==="rotate"||i==="rotateZ"||i==="rotateX"||i==="rotateY"){var T=sr(a),D=T.unit,R=T.value,N=D==="rad"?R:R*Math.PI/180;i==="rotate"||i==="rotateZ"?(c="rotateZ",s=TM):i==="rotateX"?s=EM:i==="rotateY"&&(s=_M),l=N}else if(i==="matrix3d")s=rf,l=Ne(a).map(function(O){return parseFloat(O)});else if(i==="matrix"){var M=Ne(a).map(function(O){return parseFloat(O)});s=rf,l=[M[0],M[1],0,0,M[2],M[3],0,0,0,0,1,0,M[4],M[5],0,1]}else c="";return{name:i,functionName:c,value:a,matrixFunction:s,functionValue:l}})}var RM=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(r){return this.values[this.keys.indexOf(r)]},e.set=function(r,n){var o=this.keys,i=this.values,a=o.indexOf(r),s=a===-1?o.length:a;o[s]=r,i[s]=n},t}(),MM=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(r){return this.object[r]},e.set=function(r,n){this.object[r]=n},t}(),PM=typeof Map=="function",OM=function(){function t(){}var e=t.prototype;return e.connect=function(r,n){this.prev=r,this.next=n,r&&(r.next=this),n&&(n.prev=this)},e.disconnect=function(){var r=this.prev,n=this.next;r&&(r.next=n),n&&(n.prev=r)},e.getIndex=function(){for(var r=this,n=-1;r;)r=r.prev,++n;return n},t}();function NM(t,e){var r=[],n=[];return t.forEach(function(o){var i=o[0],a=o[1],s=new OM;r[i]=s,n[a]=s}),r.forEach(function(o,i){o.connect(r[i-1])}),t.filter(function(o,i){return!e[i]}).map(function(o,i){var a=o[0],s=o[1];if(a===s)return[0,0];var c=r[a],l=n[s-1],u=c.getIndex();c.disconnect(),l?c.connect(l,l.next):c.connect(void 0,r[0]);var f=c.getIndex();return[u,f]})}var kM=function(){function t(r,n,o,i,a,s,c,l){this.prevList=r,this.list=n,this.added=o,this.removed=i,this.changed=a,this.maintained=s,this.changedBeforeAdded=c,this.fixed=l}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var r=NM(this.changedBeforeAdded,this.fixed),n=this.changed,o=[];this.cacheOrdered=r.filter(function(i,a){var s=i[0],c=i[1],l=n[a],u=l[0],f=l[1];if(s!==c)return o.push([u,f]),!0}),this.cachePureChanged=o},t}();function sf(t,e,r){var n=PM?Map:r?MM:RM,o=r||function(x){return x},i=[],a=[],s=[],c=t.map(o),l=e.map(o),u=new n,f=new n,d=[],p=[],g={},h=[],m=0,y=0;return c.forEach(function(x,b){u.set(x,b)}),l.forEach(function(x,b){f.set(x,b)}),c.forEach(function(x,b){var w=f.get(x);typeof w>"u"?(++y,a.push(b)):g[w]=y}),l.forEach(function(x,b){var w=u.get(x);typeof w>"u"?(i.push(b),++m):(s.push([w,b]),y=g[b]||0,d.push([w-y,b-m]),p.push(b===w),w!==b&&h.push([w,b]))}),a.reverse(),new kM(t,e,i,a,h,s,d,p)}var jM=function(){function t(r,n){r===void 0&&(r=[]),this.findKeyCallback=n,this.list=[].slice.call(r)}var e=t.prototype;return e.update=function(r){var n=[].slice.call(r),o=sf(this.list,n,this.findKeyCallback);return this.list=n,o},t}();/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var cf=function(t,e){return cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},cf(t,e)};function AM(t,e){cf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ny=typeof Map=="function"?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}(),oy=function(t){AM(e,t);function e(r){return r===void 0&&(r=[]),t.call(this,r,ny)||this}return e}(jM);function Co(t,e){return sf(t,e,ny)}/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var lf=function(t,e){return lf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},lf(t,e)};function IM(t,e){lf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Eo=function(){return Eo=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Eo.apply(this,arguments)};function FM(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}function iy(t,e){return t.addEventListener("scroll",e),function(){t.removeEventListener("scroll",e)}}function zs(t){if(t){if(Bt(t))return document.querySelector(t)}else return null;if(ye(t))return t();if(t instanceof Element)return t;if("current"in t)return t.current;if("value"in t)return t.value}var ay=function(t){IM(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n._currentOptions=null,n._lock=!1,n._unregister=null,n._onScroll=function(){var o=n._currentOptions;n._lock||!o||n.emit("scrollDrag",{next:function(i){n.checkScroll({container:o.container,inputEvent:i})}})},n}var r=e.prototype;return r.dragStart=function(n,o){var i=zs(o.container);if(!i){this._flag=!1;return}var a=0,s=0,c=0,l=0;if(i===document.body)c=window.innerWidth,l=window.innerHeight;else{var u=i.getBoundingClientRect();a=u.top,s=u.left,c=u.width,l=u.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:a,left:s,width:c,height:l},this._prevScrollPos=this._getScrollPosition([0,0],o),this._currentOptions=o,this._registerScrollEvent(o)},r.drag=function(n,o){if(clearTimeout(this._timer),!!this._flag){var i=n.clientX,a=n.clientY,s=o.threshold,c=s===void 0?0:s,l=this,u=l._startRect,f=l._startPos;this._currentOptions=o;var d=[0,0];return u.top>a-c?(f[1]>u.top||a<f[1])&&(d[1]=-1):u.top+u.height<a+c&&(f[1]<u.top+u.height||a>f[1])&&(d[1]=1),u.left>i-c?(f[0]>u.left||i<f[0])&&(d[0]=-1):u.left+u.width<i+c&&(f[0]<u.left+u.width||i>f[0])&&(d[0]=1),!d[0]&&!d[1]?!1:this._continueDrag(Eo(Eo({},o),{direction:d,inputEvent:n,isDrag:!0}))}},r.checkScroll=function(n){var o=this;if(this._isWait)return!1;var i=n.prevScrollPos,a=i===void 0?this._prevScrollPos:i,s=n.direction,c=n.throttleTime,l=c===void 0?0:c,u=n.inputEvent,f=n.isDrag,d=this._getScrollPosition(s||[0,0],n),p=d[0]-a[0],g=d[1]-a[1],h=s||[p?Math.abs(p)/p:0,g?Math.abs(g)/g:0];return this._prevScrollPos=d,this._lock=!1,!p&&!g?!1:(this.emit("move",{offsetX:h[0]?p:0,offsetY:h[1]?g:0,inputEvent:u}),l&&f&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){o._continueDrag(n)},l)),!0)},r.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},r._getScrollPosition=function(n,o){var i=o.container,a=o.getScrollPosition,s=a===void 0?FM:a;return s({container:zs(i),direction:n})},r._continueDrag=function(n){var o=this,i,a=n.container,s=n.direction,c=n.throttleTime,l=n.useScroll,u=n.isDrag,f=n.inputEvent;if(!(!this._flag||u&&this._isWait)){var d=Jo(),p=Math.max(c+this._prevTime-d,0);if(p>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){o._continueDrag(n)},p),!1;this._prevTime=d;var g=this._getScrollPosition(s,n);this._prevScrollPos=g,u&&(this._isWait=!0),l||(this._lock=!0);var h={container:zs(a),direction:s,inputEvent:f};return(i=n.requestScroll)===null||i===void 0||i.call(n,h),this.emit("scroll",h),this._isWait=!1,l||this.checkScroll(Eo(Eo({},n),{prevScrollPos:g,direction:s,inputEvent:f}))}},r._registerScrollEvent=function(n){this._unregisterScrollEvent();var o=n.checkScrollEvent;if(o){var i=o===!0?iy:o,a=zs(n.container);o===!0&&(a===document.body||a===document.documentElement)?this._unregister=iy(window,this._onScroll):this._unregister=i(a,this._onScroll)}},r._unregisterScrollEvent=function(){var n;(n=this._unregister)===null||n===void 0||n.call(this),this._unregister=null},e}(Ir);/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function BM(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function be(t){return ht(t,Xt)}function LM(t,e){return t.every(function(r,n){return be(r-e[n])===0})}function zM(t,e){return!be(t[0]-e[0])&&!be(t[1]-e[1])}function Yi(t){return t.length<3?0:Math.abs(gb(t.map(function(e,r){var n=t[r+1]||t[0];return e[0]*n[1]-n[0]*e[1]})))/2}function uf(t,e){var r=e.width,n=e.height,o=e.left,i=e.top,a=Tn(t),s=a.minX,c=a.minY,l=a.maxX,u=a.maxY,f=r/(l-s),d=n/(u-c);return t.map(function(p){return[o+(p[0]-s)*f,i+(p[1]-c)*d]})}function Tn(t){var e=t.map(function(n){return n[0]}),r=t.map(function(n){return n[1]});return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,r),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,r)}}function Gs(t,e,r){var n=t[0],o=t[1],i=Tn(e),a=i.minX,s=i.maxX,c=[[a,o],[s,o]],l=$s(c[0],c[1]),u=df(e),f=[];if(u.forEach(function(g){var h=$s(g[0],g[1]),m=g[0];if(LM(l,h))f.push({pos:t,line:g,type:"line"});else{var y=sy(ff(l,h),[c,g]);y.forEach(function(x){g.some(function(b){return zM(b,x)})?f.push({pos:x,line:g,type:"point"}):be(m[1]-o)!==0&&f.push({pos:x,line:g,type:"intersection"})})}}),xe(f,function(g){return g[0]===n}))return!0;var d=0,p={};return f.forEach(function(g){var h=g.pos,m=g.type,y=g.line;if(!(h[0]>n))if(m==="intersection")++d;else{if(m==="line")return;if(m==="point"){var x=xe(y,function(_){return _[1]!==o}),b=p[h[0]],w=x[1]>o?1:-1;b?b!==w&&++d:p[h[0]]=w}}}),d%2===1}function $s(t,e){var r=t[0],n=t[1],o=e[0],i=e[1],a=o-r,s=i-n;Math.abs(a)<Xt&&(a=0),Math.abs(s)<Xt&&(s=0);var c=0,l=0,u=0;return a?s?(c=-s/a,l=1,u=-c*r-n):(l=1,u=-n):s&&(c=-1,u=r),[c,l,u]}function ff(t,e){var r=t[0],n=t[1],o=t[2],i=e[0],a=e[1],s=e[2],c=r===0&&i===0,l=n===0&&a===0,u=[];if(c&&l)return[];if(c){var f=-o/n,d=-s/a;return f!==d?[]:[[-1/0,f],[1/0,f]]}else if(l){var p=-o/r,g=-s/i;return p!==g?[]:[[p,-1/0],[p,1/0]]}else if(r===0){var h=-o/n,m=-(a*h+s)/i;u=[[m,h]]}else if(i===0){var h=-s/a,m=-(n*h+o)/r;u=[[m,h]]}else if(n===0){var m=-o/r,h=-(i*m+s)/a;u=[[m,h]]}else if(a===0){var m=-s/i,h=-(r*m+o)/n;u=[[m,h]]}else{var m=(n*s-a*o)/(a*r-n*i),h=-(r*m+o)/n;u=[[m,h]]}return u.map(function(y){return[y[0],y[1]]})}function sy(t,e){var r=e.map(function(f){return[0,1].map(function(d){return[Math.min(f[0][d],f[1][d]),Math.max(f[0][d],f[1][d])]})}),n=[];if(t.length===2){var o=t[0],i=o[0],a=o[1];if(be(i-t[1][0])){if(!be(a-t[1][1])){var l=Math.max.apply(Math,r.map(function(f){return f[0][0]})),u=Math.min.apply(Math,r.map(function(f){return f[0][1]}));if(be(l-u)>0)return[];n=[[l,a],[u,a]]}}else{var s=Math.max.apply(Math,r.map(function(f){return f[1][0]})),c=Math.min.apply(Math,r.map(function(f){return f[1][1]}));if(be(s-c)>0)return[];n=[[i,s],[i,c]]}}return n.length||(n=t.filter(function(f){var d=f[0],p=f[1];return r.every(function(g){return 0<=be(d-g[0][0])&&0<=be(g[0][1]-d)&&0<=be(p-g[1][0])&&0<=be(g[1][1]-p)})})),n.map(function(f){return[be(f[0]),be(f[1])]})}function df(t){return BM(t.slice(1),[t[0]]).map(function(e,r){return[t[r],e]})}function GM(t,e){var r=t.slice(),n=e.slice();np(r)===-1&&r.reverse(),np(n)===-1&&n.reverse();var o=df(r),i=df(n),a=o.map(function(u){return $s(u[0],u[1])}),s=i.map(function(u){return $s(u[0],u[1])}),c=[];a.forEach(function(u,f){var d=o[f],p=[];s.forEach(function(g,h){var m=ff(u,g),y=sy(m,[d,i[h]]);p.push.apply(p,y.map(function(x){return{index1:f,index2:h,pos:x,type:"intersection"}}))}),p.sort(function(g,h){return lr(d[0],g.pos)-lr(d[0],h.pos)}),c.push.apply(c,p),Gs(d[1],n)&&c.push({index1:f,index2:-1,pos:d[1],type:"inside"})}),i.forEach(function(u,f){if(Gs(u[1],r)){var d=!1,p=cr(c,function(g){var h=g.index2;return h===f?(d=!0,!1):!!d});p===-1&&(d=!1,p=cr(c,function(g){var h=g.index1,m=g.index2;return h===-1&&m+1===f?(d=!0,!1):!!d})),p===-1?c.push({index1:-1,index2:f,pos:u[1],type:"inside"}):c.splice(p,0,{index1:-1,index2:f,pos:u[1],type:"inside"})}});var l={};return c.filter(function(u){var f=u.pos,d=f[0]+"x"+f[1];return l[d]?!1:(l[d]=!0,!0)})}function pf(t,e){var r=GM(t,e);return r.map(function(n){var o=n.pos;return o})}function $M(t,e){var r=pf(t,e);return Yi(r)}/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var hf=function(t,e){return hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},hf(t,e)};function VM(t,e){hf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Zt=function(){return Zt=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Zt.apply(this,arguments)};function WM(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=Math.atan2(n,r);return o>=0?o:o+Math.PI*2}function vf(t){return WM([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function HM(t){return t.touches&&t.touches.length>=2}function Vs(t){return t?t.touches?UM(t.touches):[ly(t)]:[]}function YM(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}function cy(t,e,r){var n=r.length,o=Ui(t,n),i=o.clientX,a=o.clientY,s=o.originalClientX,c=o.originalClientY,l=Ui(e,n),u=l.clientX,f=l.clientY,d=Ui(r,n),p=d.clientX,g=d.clientY,h=i-u,m=a-f,y=i-p,x=a-g;return{clientX:s,clientY:c,deltaX:h,deltaY:m,distX:y,distY:x}}function gf(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function UM(t){for(var e=Math.min(t.length,2),r=[],n=0;n<e;++n)r.push(ly(t[n]));return r}function ly(t){return{clientX:t.clientX,clientY:t.clientY}}function Ui(t,e){e===void 0&&(e=t.length);for(var r={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=Math.min(t.length,e),o=0;o<n;++o){var i=t[o];r.originalClientX+="originalClientX"in i?i.originalClientX:i.clientX,r.originalClientY+="originalClientY"in i?i.originalClientY:i.clientY,r.clientX+=i.clientX,r.clientY+=i.clientY}return e?{clientX:r.clientX/e,clientY:r.clientY/e,originalClientX:r.originalClientX/e,originalClientY:r.originalClientY/e}:r}var mf=function(){function t(e){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=e,this.prevClients=e,this.length=e.length}return t.prototype.getAngle=function(e){return e===void 0&&(e=this.prevClients),vf(e)},t.prototype.getRotation=function(e){return e===void 0&&(e=this.prevClients),vf(e)-vf(this.startClients)},t.prototype.getPosition=function(e,r){e===void 0&&(e=this.prevClients);var n=cy(e||this.prevClients,this.prevClients,this.startClients),o=n.deltaX,i=n.deltaY;return this.movement+=Math.sqrt(o*o+i*i),this.prevClients=e,n},t.prototype.getPositions=function(e){e===void 0&&(e=this.prevClients);for(var r=this.prevClients,n=this.startClients,o=Math.min(this.length,r.length),i=[],a=0;a<o;++a)i[a]=cy([e[a]],[r[a]],[n[a]]);return i},t.prototype.getMovement=function(e){var r=this.movement;if(!e)return r;var n=Ui(e,this.length),o=Ui(this.prevClients,this.length),i=n.clientX-o.clientX,a=n.clientY-o.clientY;return Math.sqrt(i*i+a*a)+r},t.prototype.getDistance=function(e){return e===void 0&&(e=this.prevClients),gf(e)},t.prototype.getScale=function(e){return e===void 0&&(e=this.prevClients),gf(e)/gf(this.startClients)},t.prototype.move=function(e,r){this.startClients.forEach(function(n){n.clientX-=e,n.clientY-=r}),this.prevClients.forEach(function(n){n.clientX-=e,n.clientY-=r})},t}(),uy=["textarea","input"],fy=function(t){VM(e,t);function e(r,n){n===void 0&&(n={});var o=t.call(this)||this;o.options={},o.flag=!1,o.pinchFlag=!1,o.data={},o.isDrag=!1,o.isPinch=!1,o.clientStores=[],o.targets=[],o.prevTime=0,o.doubleFlag=!1,o._useMouse=!1,o._useTouch=!1,o._useDrag=!1,o._dragFlag=!1,o._isTrusted=!1,o._isMouseEvent=!1,o._isSecondaryButton=!1,o._preventMouseEvent=!1,o._prevInputEvent=null,o._isDragAPI=!1,o._isIdle=!0,o._preventMouseEventId=0,o._window=window,o.onDragStart=function(d,p){if(p===void 0&&(p=!0),!(!o.flag&&d.cancelable===!1)){var g=d.type.indexOf("drag")>=-1;if(!(o.flag&&g)){o._isDragAPI=!0;var h=o.options,m=h.container,y=h.pinchOutside,x=h.preventWheelClick,b=h.preventRightClick,w=h.preventDefault,_=h.checkInput,E=h.dragFocusedInput,C=h.preventClickEventOnDragStart,T=h.preventClickEventOnDrag,D=h.preventClickEventByCondition,R=o._useTouch,N=!o.flag;if(o._isSecondaryButton=d.which===3||d.button===2,x&&(d.which===2||d.button===1)||b&&(d.which===3||d.button===2))return o.stop(),!1;if(N){var M=o._window.document.activeElement,O=d.target;if(O){var k=O.tagName.toLowerCase(),F=uy.indexOf(k)>-1,$=O.isContentEditable;if(F||$){if(_||!E&&M===O)return!1;if(M&&(M===O||$&&M.isContentEditable&&M.contains(O)))if(E)O.blur();else return!1}else if((w||d.type==="touchstart")&&M){var V=M.tagName.toLowerCase();(M.isContentEditable||uy.indexOf(V)>-1)&&M.blur()}(C||T||D)&&Lt(o._window,"click",o._onClick,!0)}o.clientStores=[new mf(Vs(d))],o._isIdle=!1,o.flag=!0,o.isDrag=!1,o._isTrusted=p,o._dragFlag=!0,o._prevInputEvent=d,o.data={},o.doubleFlag=Jo()-o.prevTime<200,o._isMouseEvent=YM(d),!o._isMouseEvent&&o._preventMouseEvent&&o._allowMouseEvent();var L=o._preventMouseEvent||o.emit("dragStart",Zt(Zt({data:o.data,datas:o.data,inputEvent:d,isMouseEvent:o._isMouseEvent,isSecondaryButton:o._isSecondaryButton,isTrusted:p,isDouble:o.doubleFlag},o.getCurrentStore().getPosition()),{preventDefault:function(){d.preventDefault()},preventDrag:function(){o._dragFlag=!1}}));L===!1&&o.stop(),o._isMouseEvent&&o.flag&&w&&d.preventDefault()}if(!o.flag)return!1;var z=0;if(N?(o._attchDragEvent(),R&&y&&(z=setTimeout(function(){Lt(m,"touchstart",o.onDragStart,{passive:!1})}))):R&&y&&kt(m,"touchstart",o.onDragStart),o.flag&&HM(d)){if(clearTimeout(z),N&&d.touches.length!==d.changedTouches.length)return;o.pinchFlag||o.onPinchStart(d)}}}},o.onDrag=function(d,p){if(o.flag){var g=o.options.preventDefault;!o._isMouseEvent&&g&&d.preventDefault(),o._prevInputEvent=d;var h=Vs(d),m=o.moveClients(h,d,!1);if(o._dragFlag){if(o.pinchFlag||m.deltaX||m.deltaY){var y=o._preventMouseEvent||o.emit("drag",Zt(Zt({},m),{isScroll:!!p,inputEvent:d}));if(y===!1){o.stop();return}}o.pinchFlag&&o.onPinch(d,h)}o.getCurrentStore().getPosition(h,!0)}},o.onDragEnd=function(d){if(o.flag){var p=o.options,g=p.pinchOutside,h=p.container,m=p.preventClickEventOnDrag,y=p.preventClickEventOnDragStart,x=p.preventClickEventByCondition,b=o.isDrag;(m||y||x)&&requestAnimationFrame(function(){o._allowClickEvent()}),!x&&!y&&m&&!b&&o._allowClickEvent(),o._useTouch&&g&&kt(h,"touchstart",o.onDragStart),o.pinchFlag&&o.onPinchEnd(d);var w=d?.touches?Vs(d):[],_=w.length;_===0||!o.options.keepDragging?o.flag=!1:o._addStore(new mf(w));var E=o._getPosition(),C=Jo(),T=!b&&o.doubleFlag;o._prevInputEvent=null,o.prevTime=b||T?0:C,o.flag||(o._dettachDragEvent(),o._preventMouseEvent||o.emit("dragEnd",Zt({data:o.data,datas:o.data,isDouble:T,isDrag:b,isClick:!b,isMouseEvent:o._isMouseEvent,isSecondaryButton:o._isSecondaryButton,inputEvent:d,isTrusted:o._isTrusted},E)),o.clientStores=[],o._isMouseEvent||(o._preventMouseEvent=!0,clearTimeout(o._preventMouseEventId),o._preventMouseEventId=setTimeout(function(){o._preventMouseEvent=!1},200)),o._isIdle=!0)}},o.onBlur=function(){o.onDragEnd()},o._allowClickEvent=function(){kt(o._window,"click",o._onClick,!0)},o._onClick=function(d){o._allowClickEvent(),o._allowMouseEvent();var p=o.options.preventClickEventByCondition;p?.(d)||(d.stopPropagation(),d.preventDefault())},o._onContextMenu=function(d){var p=o.options;p.preventRightClick?o.onDragEnd(d):d.preventDefault()},o._passCallback=function(){};var i=[].concat(r),a=i[0];o._window=sp(a)?a:Ee(a),o.options=Zt({checkInput:!1,container:a&&!("document"in a)?Ee(a):a,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var s=o.options,c=s.container,l=s.events,u=s.checkWindowBlur;if(o._useDrag=l.indexOf("drag")>-1,o._useTouch=l.indexOf("touch")>-1,o._useMouse=l.indexOf("mouse")>-1,o.targets=i,o._useDrag&&i.forEach(function(d){Lt(d,"dragstart",o.onDragStart)}),o._useMouse&&(i.forEach(function(d){Lt(d,"mousedown",o.onDragStart),Lt(d,"mousemove",o._passCallback)}),Lt(c,"contextmenu",o._onContextMenu)),u&&Lt(Ee(),"blur",o.onBlur),o._useTouch){var f={passive:!1};i.forEach(function(d){Lt(d,"touchstart",o.onDragStart,f),Lt(d,"touchmove",o._passCallback,f)})}return o}return e.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},e.prototype.getMovement=function(r){return this.getCurrentStore().getMovement(r)+this.clientStores.slice(1).reduce(function(n,o){return n+o.movement},0)},e.prototype.isDragging=function(){return this.isDrag},e.prototype.isIdle=function(){return this._isIdle},e.prototype.isFlag=function(){return this.flag},e.prototype.isPinchFlag=function(){return this.pinchFlag},e.prototype.isDoubleFlag=function(){return this.doubleFlag},e.prototype.isPinching=function(){return this.isPinch},e.prototype.scrollBy=function(r,n,o,i){i===void 0&&(i=!0),this.flag&&(this.clientStores[0].move(r,n),i&&this.onDrag(o,!0))},e.prototype.move=function(r,n){var o=r[0],i=r[1],a=this.getCurrentStore(),s=a.prevClients;return this.moveClients(s.map(function(c){var l=c.clientX,u=c.clientY;return{clientX:l+o,clientY:u+i,originalClientX:l,originalClientY:u}}),n,!0)},e.prototype.triggerDragStart=function(r){this.onDragStart(r,!1)},e.prototype.setEventData=function(r){var n=this.data;for(var o in r)n[o]=r[o];return this},e.prototype.setEventDatas=function(r){return this.setEventData(r)},e.prototype.getCurrentEvent=function(r){return r===void 0&&(r=this._prevInputEvent),Zt(Zt({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:r})},e.prototype.getEventData=function(){return this.data},e.prototype.getEventDatas=function(){return this.data},e.prototype.unset=function(){var r=this,n=this.targets,o=this.options.container;this.off(),kt(this._window,"blur",this.onBlur),this._useDrag&&n.forEach(function(i){kt(i,"dragstart",r.onDragStart)}),this._useMouse&&(n.forEach(function(i){kt(i,"mousedown",r.onDragStart)}),kt(o,"contextmenu",this._onContextMenu)),this._useTouch&&(n.forEach(function(i){kt(i,"touchstart",r.onDragStart)}),kt(o,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},e.prototype.onPinchStart=function(r){var n=this,o=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>o)){var i=new mf(Vs(r));this.pinchFlag=!0,this._addStore(i);var a=this.emit("pinchStart",Zt(Zt({data:this.data,datas:this.data,angle:i.getAngle(),touches:this.getCurrentStore().getPositions()},i.getPosition()),{inputEvent:r,isTrusted:this._isTrusted,preventDefault:function(){r.preventDefault()},preventDrag:function(){n._dragFlag=!1}}));a===!1&&(this.pinchFlag=!1)}},e.prototype.onPinch=function(r,n){if(!(!this.flag||!this.pinchFlag||n.length<2)){var o=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Zt(Zt({data:this.data,datas:this.data,movement:this.getMovement(n),angle:o.getAngle(n),rotation:o.getRotation(n),touches:o.getPositions(n),scale:o.getScale(n),distance:o.getDistance(n)},o.getPosition(n)),{inputEvent:r,isTrusted:this._isTrusted}))}},e.prototype.onPinchEnd=function(r){if(this.pinchFlag){var n=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var o=this.getCurrentStore();this.emit("pinchEnd",Zt(Zt({data:this.data,datas:this.data,isPinch:n,touches:o.getPositions()},o.getPosition()),{inputEvent:r}))}},e.prototype.getCurrentStore=function(){return this.clientStores[0]},e.prototype.moveClients=function(r,n,o){var i=this._getPosition(r,o),a=this.isDrag;(i.deltaX||i.deltaY)&&(this.isDrag=!0);var s=!1;return!a&&this.isDrag&&(s=!0),Zt(Zt({data:this.data,datas:this.data},i),{movement:this.getMovement(r),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:n,isTrusted:this._isTrusted,isFirstDrag:s})},e.prototype._addStore=function(r){this.clientStores.splice(0,0,r)},e.prototype._getPosition=function(r,n){var o=this.getCurrentStore(),i=o.getPosition(r,n),a=this.clientStores.slice(1).reduce(function(l,u){var f=u.getPosition();return l.distX+=f.distX,l.distY+=f.distY,l},i),s=a.distX,c=a.distY;return Zt(Zt({},i),{distX:s,distY:c})},e.prototype._attchDragEvent=function(){var r=this._window,n=this.options.container,o={passive:!1};this._isDragAPI&&(Lt(n,"dragover",this.onDrag,o),Lt(r,"dragend",this.onDragEnd)),this._useMouse&&(Lt(n,"mousemove",this.onDrag),Lt(r,"mouseup",this.onDragEnd)),this._useTouch&&(Lt(n,"touchmove",this.onDrag,o),Lt(r,"touchend",this.onDragEnd,o),Lt(r,"touchcancel",this.onDragEnd,o))},e.prototype._dettachDragEvent=function(){var r=this._window,n=this.options.container;this._isDragAPI&&(kt(n,"dragover",this.onDrag),kt(r,"dragend",this.onDragEnd)),this._useMouse&&(kt(n,"mousemove",this.onDrag),kt(r,"mouseup",this.onDragEnd)),this._useTouch&&(kt(n,"touchstart",this.onDragStart),kt(n,"touchmove",this.onDrag),kt(r,"touchend",this.onDragEnd),kt(r,"touchcancel",this.onDragEnd))},e.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},e}(Ir),yf=function(){return yf=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yf.apply(this,arguments)};function XM(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function dy(t,e){var r=_a(e),n=r.className;return K.forwardRef(function(o,i){var a=o.className,s=a===void 0?"":a;o.cspNonce;var c=XM(o,["className","cspNonce"]),l=K.useRef();return K.useImperativeHandle(i,function(){return l.current},[]),K.useEffect(function(){var u=r.inject(l.current,{nonce:o.cspNonce});return function(){u.destroy()}},[]),K.createElement(t,yf({ref:l,"data-styled-id":n,className:"".concat(s," ").concat(n)},c))})}var xf=function(t,e){return xf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},xf(t,e)};function Xi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var j=function(){return j=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},j.apply(this,arguments)};function qM(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function KM(t,e,r,n){var o=arguments.length,i=o<3?e:n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,r,i):a(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function ZM(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function et(t,e,r){if(arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function qi(t,e){return j({events:[],props:[],name:t},e)}var JM=["n","w","s","e"],bf=["n","w","s","e","nw","ne","sw","se"];function QM(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}function tP(t){var e=QM(1,t),r=Math.round(t/45)*45%180,n="ns-resize";return r===135?n="nwse-resize":r===45?n="nesw-resize":r===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(e,"') 16 16, ").concat(n,";")}var _o=hM(),py=_o.browser.webkit,hy=py&&function(){var t=typeof window>"u"?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return e?parseFloat(e[1])<605:!1}(),vy=_o.browser.name,gy=parseInt(_o.browser.version,10),eP=vy==="chrome",rP=_o.browser.chromium,nP=parseInt(_o.browser.chromiumVersion,10)||0,oP=eP&&gy>=109||rP&&nP>=109,iP=vy==="firefox",aP=parseInt(_o.browser.webkitVersion,10)>=612||gy>=15,wf="moveable-",sP=bf.map(function(t){var e="",r="",n="center",o="center",i="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(e="top: ".concat(i,";"),o="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",o="top"),t.indexOf("w")>-1&&(r="left: ".concat(i,";"),n="right"),t.indexOf("e")>-1&&(r="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(t,`"] {
        `).concat(r).concat(e,`
        transform-origin: `).concat(n," ").concat(o,`;
    }`)}).join(`
`),cP=`
{
position: absolute;
width: 1px;
height: 1px;
left: 0;
top: 0;
z-index: 3000;
--moveable-color: #4af;
--zoom: 1;
--zoompx: 1px;
--moveable-line-padding: 0;
--moveable-control-padding: 0;
will-change: transform;
outline: 1px solid transparent;
}
.control-box {
z-index: 0;
}
.line, .control {
position: absolute;
left: 0;
top: 0;
will-change: transform;
}
.control {
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid #fff;
box-sizing: border-box;
background: #4af;
background: var(--moveable-color);
margin-top: -7px;
margin-left: -7px;
border: 2px solid #fff;
z-index: 10;
}
.around-control {
position: absolute;
will-change: transform;
width: calc(var(--moveable-control-padding, 20) * 1px);
height: calc(var(--moveable-control-padding, 20) * 1px);
left: calc(var(--moveable-control-padding, 20) * -0.5px);
top: calc(var(--moveable-control-padding, 20) * -0.5px);
box-sizing: border-box;
background: transparent;
z-index: 8;
cursor: alias;
transform-origin: center center;
}
`.concat(sP,`
.padding {
position: absolute;
top: 0px;
left: 0px;
width: 100px;
height: 100px;
transform-origin: 0 0;
}
.line {
width: 1px;
height: 1px;
background: #4af;
background: var(--moveable-color);
transform-origin: 0px 50%;
}
.line.edge {
z-index: 1;
background: transparent;
}
.line.dashed {
box-sizing: border-box;
background: transparent;
}
.line.dashed.horizontal {
border-top: 1px dashed #4af;
border-top-color: #4af;
border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
border-left: 1px dashed #4af;
border-left-color: #4af;
border-left-color: var(--moveable-color);
}
.line.vertical {
transform: translateX(-50%);
}
.line.horizontal {
transform: translateY(-50%);
}
.line.vertical.bold {
width: 2px;
}
.line.horizontal.bold {
height: 2px;
}

.control.origin {
border-color: #f55;
background: #fff;
width: 12px;
height: 12px;
margin-top: -6px;
margin-left: -6px;
pointer-events: none;
}
`).concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return`
.direction[data-rotation="`.concat(t,'"], :global .view-control-rotation').concat(t,` {
`).concat(tP(t),`
}
`)}).join(`
`),`

.line.direction:before {
content: "";
position: absolute;
width: 100%;
height: calc(var(--moveable-line-padding, 0) * 1px);
bottom: 0;
left: 0;
}
.group {
z-index: -1;
}
.area {
position: absolute;
}
.area-pieces {
position: absolute;
top: 0;
left: 0;
display: none;
}
.area.avoid, .area.pass {
pointer-events: none;
}
.area.avoid+.area-pieces {
display: block;
}
.area-piece {
position: absolute;
}

`).concat(hy?`:global svg *:before {
content:"";
transform-origin: inherit;
}`:"",`
`),lP=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Sf=1e-4,he=1e-7,Ws=1e-9,Cf=Math.pow(10,10),my=-Cf,uP={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},Ef={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},yy={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},fP=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function Ki(t,e,r,n,o,i){var a,s;i===void 0&&(i="draggable");var c=(s=(a=e.gestos[i])===null||a===void 0?void 0:a.move(r,t.inputEvent))!==null&&s!==void 0?s:{},l=c.originalDatas||c.datas,u=l[i]||(l[i]={});return j(j({},c),{isPinch:!!n,parentEvent:!0,datas:u,originalDatas:t.originalDatas})}var To=function(){function t(e){var r;e===void 0&&(e="draggable"),this.ableName=e,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(r={},r[e]={},r)}return t.prototype.dragStart=function(e,r){this.isDrag=!1,this.isFlag=!1;var n=r.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),j(j({},this.move(e,r.inputEvent)),{type:"dragstart"})},t.prototype.drag=function(e,r){return this.move([e[0]-this.prevX,e[1]-this.prevY],r)},t.prototype.move=function(e,r){var n,o,i=!1;if(!this.isFlag)this.prevX=e[0],this.prevY=e[1],this.startX=e[0],this.startY=e[1],n=e[0],o=e[1],this.isFlag=!0;else{var a=this.isDrag;n=this.prevX+e[0],o=this.prevY+e[1],(e[0]||e[1])&&(this.isDrag=!0),!a&&this.isDrag&&(i=!0)}return this.prevX=n,this.prevY=o,{type:"drag",clientX:n,clientY:o,inputEvent:r,isFirstDrag:i,isDrag:this.isDrag,distX:n-this.startX,distY:o-this.startY,deltaX:e[0],deltaY:e[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function Do(t,e,r,n){var o=t.length===16,i=o?4:3,a=Pn(t,r,n,i),s=I(a,4),c=I(s[0],2),l=c[0],u=c[1],f=I(s[1],2),d=f[0],p=f[1],g=I(s[2],2),h=g[0],m=g[1],y=I(s[3],2),x=y[0],b=y[1],w=I(Gt(t,e,i),2),_=w[0],E=w[1],C=Math.min(l,d,h,x),T=Math.min(u,p,m,b),D=Math.max(l,d,h,x),R=Math.max(u,p,m,b);l=l-C||0,d=d-C||0,h=h-C||0,x=x-C||0,u=u-T||0,p=p-T||0,m=m-T||0,b=b-T||0,_=_-C||0,E=E-T||0;var N=t[0],M=t[i+1],O=me(N*M);return{left:C,top:T,right:D,bottom:R,origin:[_,E],pos1:[l,u],pos2:[d,p],pos3:[h,m],pos4:[x,b],direction:O}}function xy(t,e){var r=e.clientX,n=e.clientY,o=e.datas,i=t.state,a=i.moveableClientRect,s=i.rootMatrix,c=i.is3d,l=i.pos1,u=a.left,f=a.top,d=c?4:3,p=I(lt(Ao(s,[r-u,n-f],d),l),2),g=p[0],h=p[1],m=I(wr({datas:o,distX:g,distY:h}),2),y=m[0],x=m[1];return[y,x]}function Dn(t,e){var r=e.datas,n=t.state,o=n.allMatrix,i=n.beforeMatrix,a=n.is3d,s=n.left,c=n.top,l=n.origin,u=n.offsetMatrix,f=n.targetMatrix,d=n.transformOrigin,p=a?4:3;r.is3d=a,r.matrix=o,r.targetMatrix=f,r.beforeMatrix=i,r.offsetMatrix=u,r.transformOrigin=d,r.inverseMatrix=tr(o,p),r.inverseBeforeMatrix=tr(i,p),r.absoluteOrigin=En(_t([s,c],l),p),r.startDragBeforeDist=fe(r.inverseBeforeMatrix,r.absoluteOrigin,p),r.startDragDist=fe(r.inverseMatrix,r.absoluteOrigin,p)}function dP(t){return Do(t.datas.beforeTransform,[50,50],100,100).direction}function Hs(t,e,r){var n=e.datas,o=e.originalDatas.beforeRenderable,i=n.transformIndex,a=o.nextTransforms,s=a.length,c=o.nextTransformAppendedIndexes,l=-1;i===-1?(r==="translate"?l=0:r==="rotate"&&(l=cr(a,function(p){return p.match(/scale\(/g)})),l===-1&&(l=a.length),n.transformIndex=l):xe(c,function(p){return p.index===i&&p.functionName===r})?l=i:l=i+c.filter(function(p){return p.index<i}).length;var u=BO(a,t.state,l),f=u.targetFunction,d=r==="rotate"?"rotateZ":r;n.beforeFunctionTexts=u.beforeFunctionTexts,n.afterFunctionTexts=u.afterFunctionTexts,n.beforeTransform=u.beforeFunctionMatrix,n.beforeTransform2=u.beforeFunctionMatrix2,n.targetTansform=u.targetFunctionMatrix,n.afterTransform=u.afterFunctionMatrix,n.afterTransform2=u.afterFunctionMatrix2,n.targetAllTransform=u.allFunctionMatrix,f.functionName===d?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):s>l&&(n.isAppendTransform=!0,o.nextTransformAppendedIndexes=et(et([],I(c),!1),[{functionName:r,index:l,isAppend:!0}],!1))}function Ys(t,e,r){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?r:e," ").concat(t.afterFunctionTexts.join(" "))}function pP(t){var e=t.datas,r=t.distX,n=t.distY,o=I(wy({datas:e,distX:r,distY:n}),2),i=o[0],a=o[1],s=by(e,SM([i,a],4));return fe(s,En([0,0,0],4),4)}function by(t,e,r){var n=t.beforeTransform,o=t.afterTransform,i=t.beforeTransform2,a=t.afterTransform2,s=t.targetAllTransform,c=r?Ot(s,e,4):Ot(e,s,4),l=Ot(tr(r?i:n,4),c,4),u=Ot(l,tr(r?a:o,4),4);return u}function wy(t){var e=t.datas,r=t.distX,n=t.distY,o=e.inverseBeforeMatrix,i=e.is3d,a=e.startDragBeforeDist,s=e.absoluteOrigin,c=i?4:3;return lt(fe(o,_t(s,[r,n]),c),a)}function wr(t,e){var r=t.datas,n=t.distX,o=t.distY,i=r.inverseBeforeMatrix,a=r.inverseMatrix,s=r.is3d,c=r.startDragBeforeDist,l=r.startDragDist,u=r.absoluteOrigin,f=s?4:3;return lt(fe(e?i:a,_t(u,[n,o]),f),e?c:l)}function hP(t,e){var r=t.datas,n=t.distX,o=t.distY;r.beforeMatrix;var i=r.matrix,a=r.is3d;r.startDragBeforeDist;var s=r.startDragDist,c=r.absoluteOrigin,l=a?4:3;return lt(fe(i,_t(s,[n,o]),l),c)}function vP(t,e,r,n,o,i){return n===void 0&&(n=e),o===void 0&&(o=r),i===void 0&&(i=[0,0]),t?t.map(function(a,s){var c=sr(a),l=c.value,u=c.unit,f=s?o:n,d=s?r:e;if(a==="%"||isNaN(l)){var p=f?i[s]/f:0;return d*p}else if(u!=="%")return l;return d*l/100}):i}function Sy(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function gP(t,e){return Sy(e).map(function(r){return t[r]})}function _f(t,e){var r=(e+1)/2;return[Vn(t[0][0],t[1][0],r,1-r),Vn(t[0][1],t[1][1],r,1-r)]}function ee(t,e){var r=_f([t[0],t[1]],e[0]),n=_f([t[2],t[3]],e[0]);return _f([r,n],e[1])}function mP(t,e,r,n,o,i){var a=Pn(e,r,n,o),s=ee(a,i),c=t[0]-s[0],l=t[1]-s[1];return[c,l]}function Zi(t,e,r,n){return Ot(t,ea(e,n,r),n)}function yP(t,e,r,n){var o=t.transformOrigin,i=t.offsetMatrix,a=t.is3d,s=a?4:3,c;if(Bt(r)){var l=e.beforeTransform,u=e.afterTransform;n?c=er(bo(r),4,s):c=er(Ot(Ot(l,bo([r]),4),u,4),4,s)}else c=r;return Zi(i,c,o,s)}function xP(t,e){var r=t.transformOrigin,n=t.offsetMatrix,o=t.is3d,i=t.targetMatrix,a=t.targetAllTransform,s=o?4:3;return Zi(n,Ot(a||i,nf(e,s),s),r,s)}function Us(t,e){var r=Ro(e);return{setTransform:function(n,o){o===void 0&&(o=-1),r.startTransforms=Dt(n)?n:_r(n),Tf(t,e,o)},setTransformIndex:function(n){Tf(t,e,n)}}}function Xs(t,e,r){var n=Ro(e),o=n.startTransforms;Tf(t,e,cr(o,function(i){return i.indexOf("".concat(r,"("))===0}))}function Tf(t,e,r){var n=Ro(e),o=e.datas;if(o.transformIndex=r,r!==-1){var i=n.startTransforms[r];if(i){var a=t.state,s=So([i],{"x%":function(c){return c/100*a.offsetWidth},"y%":function(c){return c/100*a.offsetHeight}});o.startValue=s[0].functionValue}}}function Df(t,e){var r=Ro(t);r.nextTransforms=_r(e)}function Ro(t){return t.originalDatas.beforeRenderable}function qs(t){var e=t.originalDatas.beforeRenderable;return e.nextTransforms}function Ks(t){return(qs(t)||[]).join(" ")}function Zs(t){return Ro(t).nextStyle}function Cy(t,e,r,n,o){Df(o,e);var i=ve.drag(t,Ki(o,t.state,r,n)),a=i?i.transform:e;return j(j({transform:e,drag:i},ge({transform:a},o)),{afterTransform:a})}function Rf(t,e,r,n,o,i){var a=yP(t.state,o,e,i),s=SP(t,r,n,a);return s}function Ey(t,e,r,n,o,i,a){var s=Rf(t,e,r,o,i,a),c=t.state,l=c.left,u=c.top,f=t.props.groupable,d=f?l:0,p=f?u:0,g=lt(n,s);return lt(g,[d,p])}function bP(t,e,r,n,o,i,a){var s=Ey(t,e,r,n,o,i,a);return s}function wP(t,e,r){return[e?-1+t[0]/(e/2):0,r?-1+t[1]/(r/2):0]}function SP(t,e,r,n){n===void 0&&(n=t.state.allMatrix);var o=t.state,i=o.width,a=o.height,s=o.is3d,c=s?4:3,l=[i/2*(1+e[0])+r[0],a/2*(1+e[1])+r[1]];return Gt(n,l,c)}function CP(t,e,r){var n=r.fixedDirection,o=r.fixedPosition,i=r.fixedOffset;return Ey(t,"rotate(".concat(e,"deg)"),n,o,i,r)}function EP(t,e,r,n,o,i){var a=t.props.groupable,s=t.state,c=s.transformOrigin,l=s.offsetMatrix,u=s.is3d,f=s.width,d=s.height,p=s.left,g=s.top,h=i.fixedDirection,m=i.nextTargetMatrix||s.targetMatrix,y=u?4:3,x=vP(o,e,r,f,d,c),b=a?p:0,w=a?g:0,_=Zi(l,m,x,y),E=mP(n,_,e,r,y,h);return lt(E,[b,w])}function _P(t,e){return ee($e(t.state),e)}function TP(t,e){var r=t.targetGesto,n=t.controlGesto,o;return r?.isFlag()&&(o=r.getEventData()[e]),!o&&n?.isFlag()&&(o=n.getEventData()[e]),o||{}}function DP(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function RP(t){var e=t("scale"),r=t("rotate"),n=t("translate"),o=[];return n&&n!=="0px"&&n!=="none"&&o.push("translate(".concat(n.split(/\s+/).join(","),")")),r&&r!=="1"&&r!=="none"&&o.push("rotate(".concat(r,")")),e&&e!=="1"&&e!=="none"&&o.push("scale(".concat(e.split(/\s+/).join(","),")")),o}function _y(t,e,r){for(var n=t,o=[],i=Wc(t)||Ar(t),a=!r&&t===e||t===i,s=a,c=!1,l=3,u,f,d,p=!1,g=ra(e,e,!0).offsetParent,h=1;n&&!s;){s=a;var m=we(n),y=m("position"),x=f1(n),b=y==="fixed",w=RP(m),_=CM(_O(x)),E=void 0,C=!1,T=!1,D=0,R=0,N=0,M=0,O={hasTransform:!1,fixedContainer:null};b&&(p=!0,O=PO(n),g=O.fixedContainer);var k=_.length;!c&&(k===16||w.length)&&(c=!0,l=4,Hf(o),d&&(d=er(d,3,4))),c&&k===9&&(_=er(_,3,4));var F=MO(n,t),$=F.tagName,V=F.hasOffset,L=F.isSVG,z=F.origin,A=F.targetOrigin,B=F.offset,Y=I(B,2),J=Y[0],X=Y[1];$==="svg"&&!n.ownerSVGElement&&d&&(o.push({type:"target",target:n,matrix:OO(n,l)}),o.push({type:"offset",target:n,matrix:It(l)}));var H=parseFloat(m("zoom"))||1;if(b)E=O.fixedContainer,C=!0;else{var tt=ra(n,e,!1,!0,m),W=tt.offsetZoom;if(E=tt.offsetParent,C=tt.isEnd,T=tt.isStatic,h*=W,(tt.isCustomElement||W!==1)&&T)J-=E.offsetLeft,X-=E.offsetTop;else if(iP||oP){var q=tt.parentSlotElement;if(q){for(var it=E,ot=0,U=0;it&&DP(it);)ot+=it.offsetLeft,U+=it.offsetTop,it=it.offsetParent;J-=ot,X-=U}}}if(py&&!aP&&V&&!L&&T&&(y==="relative"||y==="static")&&(J-=E.offsetLeft,X-=E.offsetTop,a=a||C),b)V&&O.hasTransform&&(N=E.clientLeft,M=E.clientTop);else if(V&&g!==E&&(D=E.clientLeft,R=E.clientTop),V&&E===i){var rt=d1(n,!1);J+=rt[0],X+=rt[1]}if(o.push({type:"target",target:n,matrix:ea(_,l,z)}),w.length&&(o.push({type:"offset",target:n,matrix:It(l)}),o.push({type:"target",target:n,matrix:ea(bo(w),l,z)})),V){var pt=n===t,ut=pt?0:n.scrollLeft,dt=pt?0:n.scrollTop;o.push({type:"offset",target:n,matrix:_n([J-ut+D-N,X-dt+R-M],l)})}else o.push({type:"offset",target:n,origin:z});if(H!==1&&o.push({type:"zoom",target:n,matrix:ea(nf([H,H],l),l,[0,0])}),d||(d=_),u||(u=z),f||(f=A),s||b)break;n=E,a=C,(!r||n===i)&&(s=a)}return d||(d=It(l)),u||(u=[0,0]),f||(f=[0,0]),{zoom:h,offsetContainer:g,matrixes:o,targetMatrix:d,transformOrigin:u,targetOrigin:f,is3d:c,hasFixed:p}}var Rn=null,Mn=null,Mo=null;function Po(t){t?(window.Map&&(Rn=new Map,Mn=new Map),Mo=[]):(Rn=null,Mo=null,Mn=null)}function MP(t){var e=Mn?.get(t);if(e)return e;var r=oa(t,!0);return Mn&&Mn.set(t,r),r}function PP(t,e){if(Mo){var r=xe(Mo,function(o){return o[0][0]==t&&o[0][1]==e});if(r)return r[1]}var n=_y(t,e,!0);return Mo&&Mo.push([[t,e],n]),n}function we(t){var e=Rn?.get(t);if(!e){var r=Ee(t).getComputedStyle(t);if(!Rn)return function(i){return r[i]};e={style:r,cached:{}},Rn.set(t,e)}var n=e.cached,o=e.style;return function(i){return i in n||(n[i]=o[i]),n[i]}}function rr(t,e,r){var n=r.originalDatas;n.groupable=n.groupable||{};var o=n.groupable;o.childDatas=o.childDatas||[];var i=o.childDatas;return t.moveables.map(function(a,s){return i[s]=i[s]||{},i[s][e]=i[s][e]||{},j(j({},r),{isRequestChild:!0,datas:i[s][e],originalDatas:i[s]})})}function Mf(t,e,r,n,o,i,a){var s=!!r.match(/Start$/g),c=!!r.match(/End$/g),l=o.isPinch,u=o.datas,f=rr(t,e.name,o),d=t.moveables,p=[],g=f.map(function(h,m){var y=d[m],x=y.state,b=x.gestos,w=h;if(s)w=new To(a).dragStart(n,h),p.push(w);else{if(b[a]||(b[a]=u.childGestos[m]),!b[a])return;w=Ki(h,x,n,l,i,a),p.push(w)}var _=e[r](y,j(j({},w),{parentFlag:!0}));return c&&(b[a]=null),_});return s&&(u.childGestos=d.map(function(h){return h.state.gestos[a]})),{eventParams:g,childEvents:p}}function Nr(t,e,r,n,o,i){o===void 0&&(o=function(u,f){return f});var a=!!r.match(/End$/g),s=rr(t,e.name,n),c=t.moveables,l=s.map(function(u,f){var d=c[f],p=u;p=o(d,u);var g=e[r](d,j(j({},p),{parentFlag:!0}));return a&&(d.state.gestos={}),g});return l}function Js(t,e,r,n){var o=r.fixedDirection,i=r.fixedPosition,a=n.datas.startPositions||$e(e.state),s=ee(a,o),c=I(fe(Wi(-t.rotation/180*Math.PI,3),[s[0]-i[0],s[1]-i[1],1],3),2),l=c[0],u=c[1];return n.datas.originalX=l,n.datas.originalY=u,n}function Ty(t,e,r,n){var o=t.getState(),i=o.renderPoses,a=o.rotation,s=o.direction,c=On(t.props,e).zoom,l=ta(a/Math.PI*180),u={},f=t.renderState;f.renderDirectionMap||(f.renderDirectionMap={});var d=f.renderDirectionMap;r.forEach(function(g){var h=g.dir;u[h]=!0});var p=me(s);return r.map(function(g){var h=g.data,m=g.classNames,y=g.dir,x=Ef[y];if(!x||!u[y])return null;d[y]=!0;var b=(ht(l,15)+p*yy[y]+720)%180,w={};return ke(h).forEach(function(_){w["data-".concat(_)]=h[_]}),n.createElement("div",j({className:ct.apply(void 0,et(["control","direction",y,e],I(m),!1)),"data-rotation":b,"data-direction":y},w,{key:"direction-".concat(y),style:cc.apply(void 0,et([a,c],I(x.map(function(_){return i[_]})),!1))}))})}function Dy(t,e,r,n){var o=On(t.props,r),i=o.renderDirections,a=i===void 0?e:i,s=o.displayAroundControls;if(!a)return[];var c=a===!0?bf:a;return et(et([],I(s?Oy(t,n,r,c):[]),!1),I(Ty(t,r,c.map(function(l){return{data:{},classNames:[],dir:l}}),n)),!1)}function Ji(t,e,r,n,o,i){for(var a=[],s=6;s<arguments.length;s++)a[s-6]=arguments[s];var c=Ht(r,n),l=e?ht(c/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(i),className:ct.apply(void 0,et(["line","direction",e?"edge":"",e],I(a),!1)),"data-rotation":l,"data-line-key":i,"data-direction":e,style:na(r,n,o,c)})}function Ry(t,e,r,n,o){var i=r===!0?JM:r;return i.map(function(a,s){var c=I(Ef[a],2),l=c[0],u=c[1];if(u!=null)return Ji(t,a,n[l],n[u],o,"".concat(e,"Edge").concat(s),e)}).filter(Boolean)}function My(t){return function(e,r){var n=On(e.props,t).edge;return n&&(n===!0||n.length)?et(et([],I(Ry(r,t,n,e.getState().renderPoses,e.props.zoom)),!1),I(OP(e,t,r)),!1):Py(e,t,r)}}function Py(t,e,r){return Dy(t,bf,e,r)}function OP(t,e,r){return Dy(t,["nw","ne","sw","se"],e,r)}function Oy(t,e,r,n){var o=t.renderState;o.renderDirectionMap||(o.renderDirectionMap={});var i=t.getState(),a=i.renderPoses,s=i.rotation,c=i.direction,l=o.renderDirectionMap,u=t.props.zoom,f=me(c),d=s/Math.PI*180;return(n||ke(l)).map(function(p){var g=Ef[p];if(!g)return null;var h=(ht(d,15)+f*yy[p]+720)%180,m=["around-control"];return r&&m.push("direction",r),e.createElement("div",{className:ct.apply(void 0,et([],I(m),!1)),"data-rotation":h,"data-direction":p,key:"direction-around-".concat(p),style:cc.apply(void 0,et([s,u],I(g.map(function(y){return a[y]})),!1))})})}function Pf(t,e,r){var n=t||{},o=n.position,i=o===void 0?"client":o,a=n.left,s=a===void 0?-1/0:a,c=n.top,l=c===void 0?-1/0:c,u=n.right,f=u===void 0?1/0:u,d=n.bottom,p=d===void 0?1/0:d,g={position:i,left:s,top:l,right:f,bottom:p};return{vertical:Ny(g,e,!0),horizontal:Ny(g,r,!1)}}function Qs(t,e){var r=t.state,n=r.containerClientRect,o=n.clientHeight,i=n.clientWidth,a=n.clientLeft,s=n.clientTop,c=r.snapOffset,l=c.left,u=c.top,f=c.right,d=c.bottom,p=e||t.props.bounds||{},g=p.position||"client",h=g==="css",m=p.left,y=m===void 0?-1/0:m,x=p.top,b=x===void 0?-1/0:x,w=p.right,_=w===void 0?h?-1/0:1/0:w,E=p.bottom,C=E===void 0?h?-1/0:1/0:E;return h&&(_=i+f-l-_,C=o+d-u-C),{left:y+l-a,right:_+l-a,top:b+u-s,bottom:C+u-s}}function NP(t,e,r){var n=Qs(t),o=n.left,i=n.top,a=n.right,s=n.bottom,c=I(r,2),l=c[0],u=c[1],f=I(lt(r,e),2),d=f[0],p=f[1];Z(d)<he&&(d=0),Z(p)<he&&(p=0);var g=p>0,h=d>0,m={isBound:!1,offset:0,pos:0},y={isBound:!1,offset:0,pos:0};if(d===0&&p===0)return{vertical:m,horizontal:y};if(d===0)g?s<u&&(y.pos=s,y.offset=u-s):i>u&&(y.pos=i,y.offset=u-i);else if(p===0)h?a<l&&(m.pos=a,m.offset=l-a):o>l&&(m.pos=o,m.offset=l-o);else{var x=p/d,b=r[1]-x*l,w=0,_=0,E=!1;h&&a<=l?(w=x*a+b,_=a,E=!0):!h&&l<=o&&(w=x*o+b,_=o,E=!0),E&&(w<i||w>s)&&(E=!1),E||(g&&s<=u?(w=s,_=(w-b)/x,E=!0):!g&&u<=i&&(w=i,_=(w-b)/x,E=!0)),E&&(m.isBound=!0,m.pos=_,m.offset=l-_,y.isBound=!0,y.pos=w,y.offset=u-w)}return{vertical:m,horizontal:y}}function Ny(t,e,r){var n=t[r?"left":"top"],o=t[r?"right":"bottom"],i=Math.min.apply(Math,et([],I(e),!1)),a=Math.max.apply(Math,et([],I(e),!1)),s=[];return n+1>i&&s.push({direction:"start",isBound:!0,offset:i-n,pos:n}),o-1<a&&s.push({direction:"end",isBound:!0,offset:a-o,pos:o}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort(function(c,l){return Z(l.offset)-Z(c.offset)})}function ky(t,e,r){var n=r?t.map(function(o){return Vi(o,r)}):t;return n.some(function(o){return o[0]<e.left&&Z(o[0]-e.left)>.1||o[0]>e.right&&Z(o[0]-e.right)>.1||o[1]<e.top&&Z(o[1]-e.top)>.1||o[1]>e.bottom&&Z(o[1]-e.bottom)>.1})}function kP(t,e,r){var n=Ge(t),o=Math.sqrt(n*n-e*e)||0;return[o,-o].sort(function(i,a){return Z(i-t[r?0:1])-Z(a-t[r?0:1])}).map(function(i){return Ht([0,0],r?[i,e]:[e,i])})}function jP(t,e,r,n,o){if(!t.props.bounds)return[];var i=o*Math.PI/180,a=Qs(t),s=a.left,c=a.top,l=a.right,u=a.bottom,f=s-n[0],d=l-n[0],p=c-n[1],g=u-n[1],h={left:f,top:p,right:d,bottom:g};if(!ky(r,h,0))return[];var m=[];return[[f,0],[d,0],[p,1],[g,1]].forEach(function(y){var x=I(y,2),b=x[0],w=x[1];r.forEach(function(_){var E=Ht([0,0],_);m.push.apply(m,et([],I(kP(_,b,w).map(function(C){return i+C-E}).filter(function(C){return!ky(e,h,C)}).map(function(C){return ht(C*180/Math.PI,he)})),!1))})}),m}var AP=["left","right","center"],IP=["top","bottom","middle"],jy={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},nn={start:"left",end:"right",center:"center"},on={start:"top",end:"bottom",center:"middle"};function Oo(){return{left:!1,top:!1,right:!1,bottom:!1}}function No(t,e){var r=t.props,n=r.snappable,o=r.bounds,i=r.innerBounds,a=r.verticalGuidelines,s=r.horizontalGuidelines,c=r.snapGridWidth,l=r.snapGridHeight,u=t.state,f=u.guidelines,d=u.enableSnap;return!n||!d||e&&n!==!0&&n.indexOf(e)<0?!1:!!(c||l||o||i||f&&f.length||a&&a.length||s&&s.length)}function Of(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function FP(t,e){var r=Of(t),n={};for(var o in r)o in e&&r[o]&&(n[o]=e[o]);return n}function Nf(t,e){var r=FP(t,e),n=IP.filter(function(i){return i in r}),o=AP.filter(function(i){return i in r});return{horizontalNames:n,verticalNames:o,horizontal:n.map(function(i){return r[i]}),vertical:o.map(function(i){return r[i]})}}function BP(t,e,r){var n=Gt(t,[e.clientLeft,e.clientTop],r);return[e.left+n[0],e.top+n[1]]}function LP(t){var e=I(t,2),r=e[0],n=e[1],o=n[0]-r[0],i=n[1]-r[1];Math.abs(o)<Xt&&(o=0),Math.abs(i)<Xt&&(i=0);var a=0,s=0,c=0;return o?i?(a=-i/o,s=1,c=a*r[0]-r[1]):(s=1,c=-r[1]):(a=-1,c=r[0]),[a,s,c].map(function(l){return ht(l,Xt)})}var Ay="snapRotationThreshold",Iy="snapRotationDegrees",Fy="snapHorizontalThreshold",By="snapVerticalThreshold";function tc(t,e,r,n,o,i,a){var s;n===void 0&&(n=[]),o===void 0&&(o=[]);var c=t.props,l=((s=t.state.snapThresholdInfo)===null||s===void 0?void 0:s.multiples)||[1,1],u=w1(a,c[Fy],5),f=w1(i,c[By],5);return Ly(t.state.guidelines,e,r,n,o,u,f,l)}function Ly(t,e,r,n,o,i,a,s){return{vertical:Gy(t,"vertical",e,a*s[0],n),horizontal:Gy(t,"horizontal",r,i*s[1],o)}}function zP(t,e,r){var n=I(r,2),o=n[0],i=n[1],a=I(e,2),s=a[0],c=a[1],l=I(lt(r,e),2),u=l[0],f=l[1],d=f>0,p=u>0;u=dc(u),f=dc(f);var g={isSnap:!1,offset:0,pos:0},h={isSnap:!1,offset:0,pos:0};if(u===0&&f===0)return{vertical:g,horizontal:h};var m=tc(t,u?[o]:[],f?[i]:[],[],[],void 0,void 0),y=m.vertical,x=m.horizontal;y.posInfos.filter(function($){var V=$.pos;return p?V>=s:V<=s}),x.posInfos.filter(function($){var V=$.pos;return d?V>=c:V<=c}),y.isSnap=y.posInfos.length>0,x.isSnap=x.posInfos.length>0;var b=kf(y),w=b.isSnap,_=b.guideline,E=kf(x),C=E.isSnap,T=E.guideline,D=C?T.pos[1]:0,R=w?_.pos[0]:0;if(u===0)C&&(h.isSnap=!0,h.pos=T.pos[1],h.offset=i-h.pos);else if(f===0)w&&(g.isSnap=!0,g.pos=R,g.offset=o-R);else{var N=f/u,M=r[1]-N*o,O=0,k=0,F=!1;w?(k=R,O=N*k+M,F=!0):C&&(O=D,k=(O-M)/N,F=!0),F&&(g.isSnap=!0,g.pos=k,g.offset=o-k,h.isSnap=!0,h.pos=O,h.offset=i-O)}return{vertical:g,horizontal:h}}function an(t){var e="";return t===-1||t==="top"||t==="left"?e="start":t===0||t==="center"||t==="middle"?e="center":(t===1||t==="right"||t==="bottom")&&(e="end"),e}function zy(t,e,r,n){var o=Nf(t.props.snapDirections,e),i=tc(t,o.vertical,o.horizontal,o.verticalNames.map(function(c){return an(c)}),o.horizontalNames.map(function(c){return an(c)}),r,n),a=an(o.horizontalNames[i.horizontal.index]),s=an(o.verticalNames[i.vertical.index]);return{vertical:j(j({},i.vertical),{direction:s}),horizontal:j(j({},i.horizontal),{direction:a})}}function kf(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=t.posInfos[0],n=r.guidelineInfos[0],o=n.offset,i=n.dist,a=n.guideline;return{isSnap:e,offset:o,dist:i,pos:r.pos,guideline:a}}function Gy(t,e,r,n,o){var i,a;if(o===void 0&&(o=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var s=e==="vertical",c=s?0:1,l=r.map(function(f,d){var p=o[d]||"",g=t.map(function(h){var m=h.pos,y=f-m[c];return{offset:y,dist:Z(y),guideline:h,direction:p}}).filter(function(h){var m=h.guideline,y=h.dist,x=m.type;return!(x!==e||y>n)}).sort(function(h,m){return h.dist-m.dist});return{pos:f,index:d,guidelineInfos:g,direction:p}}).filter(function(f){return f.guidelineInfos.length>0}).sort(function(f,d){return f.guidelineInfos[0].dist-d.guidelineInfos[0].dist}),u=l.length>0;return{isSnap:u,index:u?l[0].index:-1,direction:(a=(i=l[0])===null||i===void 0?void 0:i.direction)!==null&&a!==void 0?a:"",posInfos:l}}function GP(t,e,r,n,o){var i=[];r[0]&&r[1]?i=[r,[-r[0],r[1]],[r[0],-r[1]]]:!r[0]&&!r[1]?[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(d,p,g){var h=g[p+1]||g[0];i.push(d),i.push([(d[0]+h[0])/2,(d[1]+h[1])/2])}):t.props.keepRatio?i.push([-1,-1],[-1,1],[1,-1],[1,1],r):(i.push.apply(i,et([],I(gP([[-1,-1],[1,-1],[-1,-1],[1,1]],r)),!1)),i.length>1&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]));var a=i.map(function(d){return ee(e,d)}),s=a.map(function(d){return d[0]}),c=a.map(function(d){return d[1]}),l=tc(t,s,c,i.map(function(d){return an(d[0])}),i.map(function(d){return an(d[1])}),n,o),u=an(i.map(function(d){return d[0]})[l.vertical.index]),f=an(i.map(function(d){return d[1]})[l.horizontal.index]);return{vertical:j(j({},l.vertical),{direction:u}),horizontal:j(j({},l.horizontal),{direction:f})}}function $y(t,e){var r=Z(t.offset),n=Z(e.offset);return t.isBound&&e.isBound?n-r:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?n-r:t.isSnap?-1:e.isSnap||r<he?1:n<he?-1:r-n}function ec(t,e){return t.slice().sort(function(r,n){var o=r.sign[e],i=n.sign[e],a=r.offset[e],s=n.offset[e];if(o){if(!i)return-1}else return 1;return $y({isBound:r.isBound,isSnap:r.isSnap,offset:a},{isBound:n.isBound,isSnap:n.isSnap,offset:s})})[0]}function $P(t,e,r){var n=[];if(r)Z(e[0])!==1||Z(e[1])!==1?n.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):n.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),n.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var o=t[0]?t:[1,1];[1,-1].forEach(function(a){[1,-1].forEach(function(s){var c=[a*o[0],s*o[1]];e[0]===c[0]&&e[1]===c[1]||n.push([e,c])})})}else if(t[0]){var i=Z(e[0])===1?[1]:[1,-1];i.forEach(function(a){n.push([[e[0],-1],[a*t[0],-1]],[[e[0],0],[a*t[0],0]],[[e[0],1],[a*t[0],1]])})}else if(t[1]){var i=Z(e[1])===1?[1]:[1,-1];i.forEach(function(s){n.push([[-1,e[1]],[-1,s*t[1]]],[[0,e[1]],[0,s*t[1]]],[[1,e[1]],[1,s*t[1]]])})}return n}function Vy(t,e){var r=Vc([e[0][0],e[1][0]]),n=Vc([e[0][1],e[1][1]]);return{vertical:r<=t[0],horizontal:n<=t[1]}}function jf(t,e){var r=I(e,2),n=r[0],o=r[1],i=o[0]-n[0],a=o[1]-n[1];Z(i)<he&&(i=0),Z(a)<he&&(a=0);var s,c;if(!i)s=n[0],c=t[0];else if(!a)s=n[1],c=t[1];else{var l=a/i;s=l*(t[0]-n[0])+n[1],c=t[1]}return s-c}function Wy(t,e,r,n){return n===void 0&&(n=he),t.every(function(o){var i=jf(o,e),a=i<=0;return a===r||Z(i)<=n})}function Hy(t,e,r,n,o){return o===void 0&&(o=0),n&&e-o<=t||!n&&t<=r+o?{isBound:!0,offset:n?e-t:r-t}:{isBound:!1,offset:0}}function VP(t,e){var r=e.line,n=e.centerSign,o=e.verticalSign,i=e.horizontalSign,a=e.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var c=s.left,l=s.top,u=s.width,f=s.height,d=[[c,l],[c,l+f]],p=[[c,l],[c+u,l]],g=[[c+u,l],[c+u,l+f]],h=[[c,l+f],[c+u,l+f]];if(Wy([[c,l],[c+u,l],[c,l+f],[c+u,l+f]],r,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var m=sn(r,a,p,o),y=sn(r,a,h,o),x=sn(r,a,d,i),b=sn(r,a,g,i),w=m.isBound&&y.isBound,_=m.isBound||y.isBound,E=x.isBound&&b.isBound,C=x.isBound||b.isBound,T=jo(m.offset,y.offset),D=jo(x.offset,b.offset),R=[0,0],N=!1,M=!1;return Z(D)<Z(T)?(R=[T,0],N=_,M=w):(R=[0,D],N=C,M=E),{isAllBound:M,isVerticalBound:_,isHorizontalBound:C,isBound:N,offset:R}}function sn(t,e,r,n,o,i){var a=I(e,2),s=a[0],c=a[1],l=t[0],u=r[0],f=r[1],d=dc(f[1]-u[1]),p=dc(f[0]-u[0]),g=c,h=s,m=-s/c;if(p){if(!d){if(i&&!g)return{isBound:!1,offset:0};if(h){var w=(u[1]-l[1])/m+l[0];return Hy(w,u[0],f[0],n,o)}else{var x=u[1]-l[1],b=Z(x)<=(o||0);return{isBound:b,offset:b?x:0}}}}else{if(i&&!h)return{isBound:!1,offset:0};if(g){var y=m*(u[0]-l[0])+l[1];return Hy(y,u[1],f[1],n,o)}else{var x=u[0]-l[0],b=Z(x)<=(o||0);return{isBound:b,offset:b?x:0}}}return{isBound:!1,offset:0}}function Yy(t,e,r){return e.map(function(n){var o=VP(t,n),i=o.isBound,a=o.offset,s=o.isVerticalBound,c=o.isHorizontalBound,l=n.multiple,u=wr({datas:r,distX:a[0],distY:a[1]}).map(function(f,d){return f*(l[d]?2/l[d]:0)});return{sign:l,isBound:i,isVerticalBound:s,isHorizontalBound:c,isSnap:!1,offset:u}})}function WP(t,e,r){var n,o=Af(t,e,[0,0],!1).map(function(d){return j(j({},d),{multiple:d.multiple.map(function(p){return Z(p)*2})})}),i=Yy(t,o,r),a=ec(i,0),s=ec(i,1),c=0,l=0,u=a.isVerticalBound||s.isVerticalBound,f=a.isHorizontalBound||s.isHorizontalBound;return(u||f)&&(n=I(hP({datas:r,distX:-a.offset[0],distY:-s.offset[1]}),2),c=n[0],l=n[1]),{vertical:{isBound:u,offset:c},horizontal:{isBound:f,offset:l}}}function HP(t,e){var r=[],n=t[0],o=t[1];return n&&o?r.push([[0,o*2],t,[-n,o]],[[n*2,0],t,[n,-o]]):n?(r.push([[n*2,0],[n,1],[n,-1]]),e&&r.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):o?(r.push([[0,o*2],[1,o],[-1,o]]),e&&r.push([[-1,0],[-1,o],[-1,-o]],[[1,0],[1,o],[1,-o]])):r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}function Af(t,e,r,n){var o=t.state,i=o.allMatrix,a=o.is3d,s=Pn(i,100,100,a?4:3),c=ee(s,[0,0]);return HP(r,n).map(function(l){var u=I(l,3),f=u[0],d=u[1],p=u[2],g=[ee(s,d),ee(s,p)],h=LP(g),m=Vy(c,g),y=m.vertical,x=m.horizontal,b=jf(c,g)<=0;return{multiple:f,centerSign:b,verticalSign:y,horizontalSign:x,lineConstants:h,line:[ee(e,d),ee(e,p)]}})}function Uy(t,e,r,n){var o=n?t.map(function(i){return Vi(i,n)}):t;return[[o[0],o[1]],[o[1],o[3]],[o[3],o[2]],[o[2],o[0]]].some(function(i){var a=jf(r,i)<=0;return!Wy(e,i,a)})}function YP(t){var e=I(t,2),r=e[0],n=e[1],o=n[0]-r[0],i=n[1]-r[1];if(!o)return Z(r[0]);if(!i)return Z(r[1]);var a=i/o;return Z((-a*r[0]+r[1])/Math.sqrt(Math.pow(a,2)+1))}function UP(t){var e=I(t,2),r=e[0],n=e[1],o=n[0]-r[0],i=n[1]-r[1];if(!o)return[r[0],0];if(!i)return[0,r[1]];var a=i/o,s=-a*r[0]+r[1];return[-s/(a+1/a),s/(a*a+1)]}function XP(t,e,r,n,o){var i=t.props.innerBounds,a=o*Math.PI/180;if(!i)return[];var s=i.left,c=i.top,l=i.width,u=i.height,f=s-n[0],d=s+l-n[0],p=c-n[1],g=c+u-n[1],h=[[f,p],[d,p],[f,g],[d,g]],m=ee(r,[0,0]);if(!Uy(r,h,m,0))return[];var y=[],x=h.map(function(b){return[Ge(b),Ht([0,0],b)]});return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].forEach(function(b){var w=Ht([0,0],UP(b)),_=YP(b);y.push.apply(y,et([],I(x.filter(function(E){var C=I(E,1),T=C[0];return T&&_<=T}).map(function(E){var C=I(E,2),T=C[0],D=C[1],R=Math.acos(T?_/T:0),N=D+R,M=D-R;return[a+N-w,a+M-w]}).reduce(function(E,C){return E.push.apply(E,et([],I(C),!1)),E},[]).filter(function(E){return!Uy(e,h,m,E)}).map(function(E){return ht(E*180/Math.PI,he)})),!1))}),y}function qP(t){var e=t.props.innerBounds,r=Oo();if(!e)return{boundMap:r,vertical:[],horizontal:[]};var n=t.getRect(),o=n.pos1,i=n.pos2,a=n.pos3,s=n.pos4,c=[o,i,a,s],l=ee(c,[0,0]),u=e.left,f=e.top,d=e.width,p=e.height,g=[[u,f],[u,f+p]],h=[[u,f],[u+d,f]],m=[[u+d,f],[u+d,f+p]],y=[[u,f+p],[u+d,f+p]],x=Af(t,c,[0,0],!1),b=[],w=[];return x.forEach(function(_){var E=_.line,C=_.lineConstants,T=Vy(l,E),D=T.horizontal,R=T.vertical,N=sn(E,C,h,R,1,!0),M=sn(E,C,y,R,1,!0),O=sn(E,C,g,D,1,!0),k=sn(E,C,m,D,1,!0);N.isBound&&!r.top&&(b.push(f),r.top=!0),M.isBound&&!r.bottom&&(b.push(f+p),r.bottom=!0),O.isBound&&!r.left&&(w.push(u),r.left=!0),k.isBound&&!r.right&&(w.push(u+d),r.right=!0)}),{boundMap:r,horizontal:b,vertical:w}}function KP(t,e,r,n){var o=e[0]-t[0],i=e[1]-t[1];if(Z(o)<Xt&&(o=0),Z(i)<Xt&&(i=0),!o)return n?[0,0]:[0,r];if(!i)return n?[r,0]:[0,0];var a=i/o,s=t[1]-a*t[0];if(n){var c=a*(e[0]+r)+s;return[r,c-e[1]]}else{var l=(e[1]+r-s)/a;return[l-e[0],r]}}function If(t,e,r,n,o){var i=KP(t,e,r,n);if(!i)return{isOutside:!1,offset:[0,0]};var a=lr(t,e),s=lr(i,t),c=lr(i,e),l=s>a||c>a,u=I(wr({datas:o,distX:i[0],distY:i[1]}),2),f=u[0],d=u[1];return{offset:[f,d],isOutside:l}}function rc(t,e){return t.isBound?t.offset:e.isSnap?kf(e).offset:0}function ZP(t,e,r,n,o){var i=I(e,2),a=i[0],s=i[1],c=I(r,2),l=c[0],u=c[1],f=I(n,2),d=f[0],p=f[1],g=I(o,2),h=g[0],m=g[1],y=-h,x=-m;if(t&&a&&s){y=0,x=0;var b=[];if(l&&u?b.push([0,m],[h,0]):l?b.push([h,0]):u?b.push([0,m]):d&&p?b.push([0,m],[h,0]):d?b.push([h,0]):p&&b.push([0,m]),b.length){b.sort(function(C,T){return Ge(lt([a,s],C))-Ge(lt([a,s],T))});var w=b[0];if(w[0]&&Z(a)>Xt)y=-w[0],x=s*Z(a+y)/Z(a)-s;else if(w[1]&&Z(s)>Xt){var _=s;x=-w[1],y=a*Z(s+x)/Z(_)-a}if(t&&u&&l)if(Z(y)>Xt&&Z(y)<Z(h)){var E=Z(h)/Z(y);y*=E,x*=E}else if(Z(x)>Xt&&Z(x)<Z(m)){var E=Z(m)/Z(x);y*=E,x*=E}else y=jo(-h,y),x=jo(-m,x)}}else y=a||l?-h:0,x=s||u?-m:0;return[y,x]}function JP(t,e,r,n,o,i){if(!No(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var a=Xf(i.absolutePoses,[e,r]),s=ze(a),c=s.left,l=s.right,u=s.top,f=s.bottom,d={horizontal:a.map(function(k){return k[1]}),vertical:a.map(function(k){return k[0]})},p=Of(t.props.snapDirections),g=Nf(p,{left:c,right:l,top:u,bottom:f,center:(c+l)/2,middle:(u+f)/2}),h=nc(t,o,g,d),m=h.vertical,y=h.horizontal,x=WP(t,a,i),b=x.vertical,w=x.horizontal,_=m.isSnap,E=y.isSnap,C=m.isBound||b.isBound,T=y.isBound||w.isBound,D=jo(m.offset,b.offset),R=jo(y.offset,w.offset),N=I(ZP(n,[e,r],[C,T],[_,E],[D,R]),2),M=N[0],O=N[1];return[{isBound:C,isSnap:_,offset:M},{isBound:T,isSnap:E,offset:O}]}function nc(t,e,r,n){n===void 0&&(n=r);var o=Pf(Qs(t),n.vertical,n.horizontal),i=o.horizontal,a=o.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:tc(t,r.vertical,r.horizontal,void 0,void 0,void 0,void 0),c=s.horizontal,l=s.vertical,u=rc(i[0],c),f=rc(a[0],l),d=Z(u),p=Z(f);return{horizontal:{isBound:i[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:u,dist:d,bounds:i,snap:c},vertical:{isBound:a[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:f,dist:p,bounds:a,snap:l}}}function Xy(t,e,r,n,o,i,a){a===void 0&&(a=[1,1]);var s=Pf(e,r,n),c=s.horizontal,l=s.vertical,u=Ly(t,r,n,[],[],o,i,a),f=u.horizontal,d=u.vertical,p=rc(c[0],f),g=rc(l[0],d),h=Z(p),m=Z(g);return{horizontal:{isBound:c[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:p,dist:h,bounds:c,snap:f},vertical:{isBound:l[0].isBound,isSnap:d.isSnap,snapIndex:d.index,offset:g,dist:m,bounds:l,snap:d}}}function QP(t,e,r,n){var o=Ht(t,e)/Math.PI*180,i=r.vertical,a=i.isBound,s=i.isSnap,c=i.dist,l=r.horizontal,u=l.isBound,f=l.isSnap,d=l.dist,p=o%180,g=p<3||p>177,h=p>87&&p<93;return d<c&&(a||s&&!h&&(!n||!g))?"vertical":u||f&&!g&&(!n||!h)?"horizontal":""}function tO(t,e,r,n,o,i){return r.map(function(a){var s=I(a,2),c=s[0],l=s[1],u=ee(e,c),f=ee(e,l),d=n?eO(t,u,f,o):nc(t,o,{vertical:[f[0]],horizontal:[f[1]]}),p=d.horizontal,g=p.offset,h=p.isBound,m=p.isSnap,y=d.vertical,x=y.offset,b=y.isBound,w=y.isSnap,_=lt(l,c);if(!x&&!g)return{isBound:b||h,isSnap:w||m,sign:_,offset:[0,0]};var E=QP(u,f,d,n);if(!E)return{sign:_,isBound:!1,isSnap:!1,offset:[0,0]};var C=E==="vertical",T=[0,0];return!n&&Z(l[0])===1&&Z(l[1])===1&&c[0]!==l[0]&&c[1]!==l[1]?T=wr({datas:i,distX:-x,distY:-g}):T=If(u,f,-(C?x:g),C,i).offset,T=T.map(function(D,R){return D*(_[R]?2/_[R]:0)}),{sign:_,isBound:C?b:h,isSnap:C?w:m,offset:T}})}function qy(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function eO(t,e,r,n){var o=NP(t,e,r),i=o.horizontal,a=o.vertical,s=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:zP(t,e,r),c=s.horizontal,l=s.vertical,u=qy(i,c),f=qy(a,l),d=Z(u),p=Z(f);return{horizontal:{isBound:i.isBound,isSnap:c.isSnap,offset:u,dist:d},vertical:{isBound:a.isBound,isSnap:l.isSnap,offset:f,dist:p}}}function rO(t,e,r,n,o){var i=[-r[0],-r[1]],a=t.state,s=a.width,c=a.height,l=t.props.bounds,u=1/0,f=1/0;if(l){var d=[[r[0],-r[1]],[-r[0],r[1]]],p=l.left,g=p===void 0?-1/0:p,h=l.top,m=h===void 0?-1/0:h,y=l.right,x=y===void 0?1/0:y,b=l.bottom,w=b===void 0?1/0:b;d.forEach(function(_){var E=_[0]!==i[0],C=_[1]!==i[1],T=ee(e,_),D=Ht(n,T)*360/Math.PI;if(C){var R=T.slice();(Z(D-360)<2||Z(D-180)<2)&&(R[1]=n[1]);var N=If(n,R,(n[1]<T[1]?w:m)-T[1],!1,o),M=I(N.offset,2),O=M[1],k=N.isOutside;isNaN(O)||(f=c+(k?1:-1)*Z(O))}if(E){var R=T.slice();(Z(D-90)<2||Z(D-270)<2)&&(R[0]=n[0]);var F=If(n,R,(n[0]<T[0]?x:g)-T[0],!0,o),$=I(F.offset,1),V=$[0],L=F.isOutside;isNaN(V)||(u=s+(L?1:-1)*Z(V))}})}return{maxWidth:u,maxHeight:f}}var ve={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var r=t.props,n=r.hideThrottleDragRotateLine,o=r.throttleDragRotate,i=r.zoom,a=t.getState(),s=a.dragInfo,c=a.beforeOrigin;if(n||!o||!s)return[];var l=s.dist;if(!l[0]&&!l[1])return[];var u=Ge(l),f=Ht(l,[0,0]);return[e.createElement("div",{className:ct("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(u,"px"),transform:"translate(".concat(c[0],"px, ").concat(c[1],"px) rotate(").concat(f,"rad) scaleY(").concat(i,")")}})]},dragStart:function(t,e){var r=e.datas,n=e.parentEvent,o=e.parentGesto,i=t.state,a=i.gestos,s=i.style;if(a.draggable)return!1;a.draggable=o||t.targetGesto,r.datas={},r.left=parseFloat(s.left||"")||0,r.top=parseFloat(s.top||"")||0,r.bottom=parseFloat(s.bottom||"")||0,r.right=parseFloat(s.right||"")||0,r.startValue=[0,0],Dn(t,e),Xs(t,e,"translate"),wO(t,r),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,r.deltaOffset=[0,0];var c=mt(t,e,j({set:function(u){r.startValue=u}},Us(t,e))),l=n||at(t,"onDragStart",c);return l!==!1?(r.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(a.draggable=null,r.isPinch=!1),r.isDrag?c:!1},drag:function(t,e){if(e){Hs(t,e,"translate");var r=e.datas,n=e.parentEvent,o=e.parentFlag,i=e.isPinch,a=e.deltaOffset,s=e.useSnap,c=e.isRequest,l=e.isGroup,u=e.parentThrottleDrag,f=e.distX,d=e.distY,p=r.isDrag,g=r.prevDist,h=r.prevBeforeDist,m=r.startValue;if(p){a&&(f+=a[0],d+=a[1]);var y=t.props,x=y.parentMoveable,b=l?0:y.throttleDrag||u||0,w=n?0:y.throttleDragRotate||0,_=0,E=!1,C=!1,T=!1,D=!1;if(!n&&w>0&&(f||d)){var R=y.startDragRotate||0,N=ht(R+Ht([0,0],[f,d])*180/Math.PI,w)-R,M=d*Math.abs(Math.cos((N-90)/180*Math.PI)),O=f*Math.abs(Math.cos(N/180*Math.PI)),k=Ge([O,M]);_=N*Math.PI/180,f=k*Math.cos(_),d=k*Math.sin(_)}if(!i&&!n&&!o){var F=I(JP(t,f,d,w,!s&&c||a,r),2),$=F[0],V=F[1];E=$.isSnap,C=$.isBound,T=V.isSnap,D=V.isBound;var L=$.offset,z=V.offset;f+=L,d+=z}var A=_t(wy({datas:r,distX:f,distY:d}),m),B=_t(pP({datas:r,distX:f,distY:d}),m);op(B,he),op(A,he),w||(!E&&!C&&(B[0]=ht(B[0],b),A[0]=ht(A[0],b)),!T&&!D&&(B[1]=ht(B[1],b),A[1]=ht(A[1],b)));var Y=lt(A,m),J=lt(B,m),X=lt(J,g),H=lt(Y,h);r.prevDist=J,r.prevBeforeDist=Y,r.passDelta=X,r.passDist=J;var tt=r.left+Y[0],W=r.top+Y[1],q=r.right-Y[0],it=r.bottom-Y[1],ot=Ys(r,"translate(".concat(B[0],"px, ").concat(B[1],"px)"),"translate(".concat(J[0],"px, ").concat(J[1],"px)"));if(Df(e,ot),t.state.dragInfo.dist=n?[0,0]:J,!(!n&&!x&&X.every(function(dt){return!dt})&&H.some(function(dt){return!dt}))){var U=t.state,rt=U.width,pt=U.height,ut=mt(t,e,j({transform:ot,dist:J,delta:X,translate:B,beforeDist:Y,beforeDelta:H,beforeTranslate:A,left:tt,top:W,right:q,bottom:it,width:rt,height:pt,isPinch:i},ge({transform:ot},e)));return!n&&at(t,"onDrag",ut),ut}}}},dragAfter:function(t,e){var r=e.datas,n=r.deltaOffset;return n[0]||n[1]?(r.deltaOffset=[0,0],this.drag(t,j(j({},e),{deltaOffset:n}))):!1},dragEnd:function(t,e){var r=e.parentEvent,n=e.datas;if(t.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var o=Me(t,e,{});return!r&&at(t,"onDragEnd",o),o}},dragGroupStart:function(t,e){var r,n,o=e.datas,i=e.clientX,a=e.clientY,s=this.dragStart(t,e);if(!s)return!1;var c=Mf(t,this,"dragStart",[i||0,a||0],e,!1,"draggable"),l=c.childEvents,u=c.eventParams,f=j(j({},s),{targets:t.props.targets,events:u}),d=at(t,"onDragGroupStart",f);o.isDrag=d!==!1;var p=(n=(r=l[0])===null||r===void 0?void 0:r.datas.startValue)!==null&&n!==void 0?n:[0,0];return o.throttleOffset=[p[0]%1,p[1]%1],o.isDrag?s:!1},dragGroup:function(t,e){var r=e.datas;if(r.isDrag){var n=this.drag(t,j(j({},e),{parentThrottleDrag:t.props.throttleDrag})),o=e.datas.passDelta,i=Mf(t,this,"drag",o,e,!1,"draggable").eventParams;if(n){var a=j({targets:t.props.targets,events:i},n);return at(t,"onDragGroup",a),a}}},dragGroupEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isDrag){this.dragEnd(t,e);var o=Mf(t,this,"dragEnd",[0,0],e,!1,"draggable").eventParams;return at(t,"onDragGroupEnd",Me(t,e,{targets:t.props.targets,events:o})),r}},request:function(t){var e={},r=t.getRect(),n=0,o=0,i=!1;return{isControl:!1,requestStart:function(a){return i=a.useSnap,{datas:e,useSnap:i}},request:function(a){return"x"in a?n=a.x-r.left:"deltaX"in a&&(n+=a.deltaX),"y"in a?o=a.y-r.top:"deltaY"in a&&(o+=a.deltaY),{datas:e,distX:n,distY:o,useSnap:i}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:i}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function Ky(t,e){var r=ee(t,e),n=[0,0];return{fixedPosition:r,fixedDirection:e,fixedOffset:n}}function nO(t,e){var r=t.allMatrix,n=t.is3d,o=t.width,i=t.height,a=n?4:3,s=[o/2*(1+e[0]),i/2*(1+e[1])],c=Gt(r,s,a),l=[0,0];return{fixedPosition:c,fixedDirection:e,fixedOffset:l}}function Zy(t,e){var r=t.allMatrix,n=t.is3d,o=t.width,i=t.height,a=n?4:3,s=wP(e,o,i),c=Gt(r,e,a),l=[o?0:e[0],i?0:e[1]];return{fixedPosition:c,fixedDirection:s,fixedOffset:l}}var Jy=Qf("resizable"),Ff={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:My("resizable"),dragControlCondition:Jy,viewClassName:Jf("resizable"),dragControlStart:function(t,e){var r,n=e.inputEvent,o=e.isPinch,i=e.isGroup,a=e.parentDirection,s=e.parentGesto,c=e.datas,l=e.parentFixedDirection,u=e.parentEvent,f=y1(a,o,n,c),d=t.state,p=d.target,g=d.width,h=d.height,m=d.gestos;if(!f||!p||m.resizable)return!1;m.resizable=s||t.controlGesto,!o&&Dn(t,e),c.datas={},c.direction=f,c.startOffsetWidth=g,c.startOffsetHeight=h,c.prevWidth=0,c.prevHeight=0,c.minSize=[0,0],c.startWidth=d.inlineCSSWidth||d.cssWidth,c.startHeight=d.inlineCSSHeight||d.cssHeight,c.maxSize=[1/0,1/0],i||(c.minSize=[d.minOffsetWidth,d.minOffsetHeight],c.maxSize=[d.maxOffsetWidth,d.maxOffsetHeight]);var y=t.props.transformOrigin||"% %";c.transformOrigin=Bt(y)?y.split(" "):y,c.startOffsetMatrix=d.offsetMatrix,c.startTransformOrigin=d.transformOrigin,c.isWidth=(r=e?.parentIsWidth)!==null&&r!==void 0?r:!f[0]&&!f[1]||f[0]||!f[1];function x(D){c.ratio=D&&isFinite(D)?D:0}c.startPositions=$e(t.state);function b(D){var R=Ky(c.startPositions,D);c.fixedDirection=R.fixedDirection,c.fixedPosition=R.fixedPosition,c.fixedOffset=R.fixedOffset}function w(D){var R=Zy(t.state,D);c.fixedDirection=R.fixedDirection,c.fixedPosition=R.fixedPosition,c.fixedOffset=R.fixedOffset}function _(D){c.minSize=[Pt("".concat(D[0]),0)||0,Pt("".concat(D[1]),0)||0]}function E(D){var R=[D[0]||1/0,D[1]||1/0];(!Ko(R[0])||isFinite(R[0]))&&(R[0]=Pt("".concat(R[0]),0)||1/0),(!Ko(R[1])||isFinite(R[1]))&&(R[1]=Pt("".concat(R[1]),0)||1/0),c.maxSize=R}x(g/h),b(l||[-f[0],-f[1]]),c.setFixedDirection=b,c.setFixedPosition=w,c.setMin=_,c.setMax=E;var C=mt(t,e,{direction:f,startRatio:c.ratio,set:function(D){var R=I(D,2),N=R[0],M=R[1];c.startWidth=N,c.startHeight=M},setMin:_,setMax:E,setRatio:x,setFixedDirection:b,setFixedPosition:w,setOrigin:function(D){c.transformOrigin=D},dragStart:ve.dragStart(t,new To().dragStart([0,0],e))}),T=u||at(t,"onResizeStart",C);return c.startFixedDirection=c.fixedDirection,c.startFixedPosition=c.fixedPosition,T!==!1&&(c.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:f}),c.isResize?C:!1},dragControl:function(t,e){var r,n=e.datas,o=e.parentFlag,i=e.isPinch,a=e.parentKeepRatio,s=e.dragClient,c=e.parentDist,l=e.useSnap,u=e.isRequest,f=e.isGroup,d=e.parentEvent,p=e.resolveMatrix,g=n.isResize,h=n.transformOrigin,m=n.startWidth,y=n.startHeight,x=n.prevWidth,b=n.prevHeight,w=n.minSize,_=n.maxSize,E=n.ratio,C=n.startOffsetWidth,T=n.startOffsetHeight,D=n.isWidth;if(!g)return;if(p){var R=t.state.is3d,N=n.startOffsetMatrix,M=n.startTransformOrigin,O=R?4:3,k=bo(qs(e)),F=Math.sqrt(k.length);O!==F&&(k=er(k,F,O));var $=Zi(N,k,M,O),V=Pn($,C,T,O);n.startPositions=V,n.nextTargetMatrix=k,n.nextAllMatrix=$}var L=On(t.props,"resizable"),z=L.resizeFormat,A=L.throttleResize,B=A===void 0?o?0:1:A,Y=L.parentMoveable,J=L.keepRatioFinally,X=n.direction,H=X,tt=0,W=0;!X[0]&&!X[1]&&(H=[1,1]);var q=E&&(a??L.keepRatio)||!1;function it(){var Vt=n.fixedDirection,Ut=T1(H,q,n,e);tt=Ut.distWidth,W=Ut.distHeight;var Cr=H[0]-Vt[0]||q?Math.max(C+tt,he):C,Pe=H[1]-Vt[1]||q?Math.max(T+W,he):T;return q&&C&&T&&(D?Pe=Cr/E:Cr=Pe*E),[Cr,Pe]}var ot=I(it(),2),U=ot[0],rt=ot[1];d||(n.setFixedDirection(n.fixedDirection),at(t,"onBeforeResize",mt(t,e,{startFixedDirection:n.startFixedDirection,startFixedPosition:n.startFixedPosition,setFixedDirection:function(Vt){var Ut;return n.setFixedDirection(Vt),Ut=I(it(),2),U=Ut[0],rt=Ut[1],[U,rt]},setFixedPosition:function(Vt){var Ut;return n.setFixedPosition(Vt),Ut=I(it(),2),U=Ut[0],rt=Ut[1],[U,rt]},boundingWidth:U,boundingHeight:rt,setSize:function(Vt){var Ut;Ut=I(Vt,2),U=Ut[0],rt=Ut[1]}},!0)));var pt=s;s||(!o&&i?pt=_P(t,[0,0]):pt=n.fixedPosition);var ut=[0,0];i||(ut=xO(t,U,rt,X,pt,!l&&u,n)),c&&(!c[0]&&(ut[0]=0),!c[1]&&(ut[1]=0));function dt(){var Vt;z&&(Vt=I(z([U,rt]),2),U=Vt[0],rt=Vt[1]),U=ht(U,B),rt=ht(rt,B)}if(q){H[0]&&H[1]&&ut[0]&&ut[1]&&(Z(ut[0])>Z(ut[1])?ut[1]=0:ut[0]=0);var vt=!ut[0]&&!ut[1];vt&&dt(),H[0]&&!H[1]||ut[0]&&!ut[1]||vt&&D?(U+=ut[0],rt=U/E):(!H[0]&&H[1]||!ut[0]&&ut[1]||vt&&!D)&&(rt+=ut[1],U=rt*E)}else U+=ut[0],rt+=ut[1],U=Math.max(0,U),rt=Math.max(0,rt);r=I($c([U,rt],w,_,q?E:!1),2),U=r[0],rt=r[1],dt(),q&&(f||J)&&(D?rt=U/E:U=rt*E),tt=U-C,W=rt-T;var Et=[tt-x,W-b];n.prevWidth=tt,n.prevHeight=W;var Rt=EP(t,U,rt,pt,h,n);if(!(!Y&&Et.every(function(Vt){return!Vt})&&Rt.every(function(Vt){return!Vt}))){var wt=ve.drag(t,Ki(e,t.state,Rt,!!i,!1,"draggable")),Tt=wt.transform,Qt=m+tt,ce=y+W,ne=mt(t,e,j({width:Qt,height:ce,offsetWidth:Math.round(U),offsetHeight:Math.round(rt),startRatio:E,boundingWidth:U,boundingHeight:rt,direction:X,dist:[tt,W],delta:Et,isPinch:!!i,drag:wt},b1({style:{width:"".concat(Qt,"px"),height:"".concat(ce,"px")},transform:Tt},wt,e)));return!d&&at(t,"onResize",ne),ne}},dragControlAfter:function(t,e){var r=e.datas,n=r.isResize,o=r.startOffsetWidth,i=r.startOffsetHeight,a=r.prevWidth,s=r.prevHeight;if(!(!n||t.props.checkResizableError===!1)){var c=t.state,l=c.width,u=c.height,f=l-(o+a),d=u-(i+s),p=Z(f)>3,g=Z(d)>3;if(p&&(r.startWidth+=f,r.startOffsetWidth+=f,r.prevWidth+=f),g&&(r.startHeight+=d,r.startOffsetHeight+=d,r.prevHeight+=d),p||g)return this.dragControl(t,e)}},dragControlEnd:function(t,e){var r=e.datas,n=e.parentEvent;if(r.isResize){r.isResize=!1;var o=Me(t,e,{});return!n&&at(t,"onResizeEnd",o),o}},dragGroupControlCondition:Jy,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,j(j({},e),{isGroup:!0}));if(!n)return!1;var o=rr(t,"resizable",e),i=r.startOffsetWidth,a=r.startOffsetHeight;function s(){var p=r.minSize;o.forEach(function(g){var h=g.datas,m=h.minSize,y=h.startOffsetWidth,x=h.startOffsetHeight,b=i*(y?m[0]/y:0),w=a*(x?m[1]/x:0);p[0]=Math.max(p[0],b),p[1]=Math.max(p[1],w)})}function c(){var p=r.maxSize;o.forEach(function(g){var h=g.datas,m=h.maxSize,y=h.startOffsetWidth,x=h.startOffsetHeight,b=i*(y?m[0]/y:0),w=a*(x?m[1]/x:0);p[0]=Math.min(p[0],b),p[1]=Math.min(p[1],w)})}var l=Nr(t,this,"dragControlStart",e,function(p,g){return Js(t,p,r,g)});s(),c();var u=function(p){n.setFixedDirection(p),l.forEach(function(g,h){g.setFixedDirection(p),Js(t,g.moveable,r,o[h])})};r.setFixedDirection=u;var f=j(j({},n),{targets:t.props.targets,events:l.map(function(p){return j(j({},p),{setMin:function(g){p.setMin(g),s()},setMax:function(g){p.setMax(g),c()}})}),setFixedDirection:u,setMin:function(p){n.setMin(p),s()},setMax:function(p){n.setMax(p),c()}}),d=at(t,"onResizeGroupStart",f);return r.isResize=d!==!1,r.isResize?n:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isResize){var n=On(t.props,"resizable");uc(t,"onBeforeResize",function(p){at(t,"onBeforeResizeGroup",mt(t,e,j(j({},p),{targets:n.targets}),!0))});var o=this.dragControl(t,j(j({},e),{isGroup:!0}));if(o){var i=o.boundingWidth,a=o.boundingHeight,s=o.dist,c=n.keepRatio,l=[i/(i-s[0]),a/(a-s[1])],u=r.fixedPosition,f=Nr(t,this,"dragControl",e,function(p,g){var h=I(fe(Wi(t.rotation/180*Math.PI,3),[g.datas.originalX*l[0],g.datas.originalY*l[1],1],3),2),m=h[0],y=h[1];return j(j({},g),{parentDist:null,parentScale:l,dragClient:_t(u,[m,y]),parentKeepRatio:c})}),d=j({targets:n.targets,events:f},o);return at(t,"onResizeGroup",d),d}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isResize){this.dragControlEnd(t,e);var o=Nr(t,this,"dragControlEnd",e),i=Me(t,e,{targets:t.props.targets,events:o});return at(t,"onResizeGroupEnd",i),r}},request:function(t){var e={},r=0,n=0,o=!1,i=t.getRect();return{isControl:!0,requestStart:function(a){var s;return o=a.useSnap,{datas:e,parentDirection:a.direction||[1,1],parentIsWidth:(s=a?.horizontal)!==null&&s!==void 0?s:!0,useSnap:o}},request:function(a){return"offsetWidth"in a?r=a.offsetWidth-i.offsetWidth:"deltaWidth"in a&&(r+=a.deltaWidth),"offsetHeight"in a?n=a.offsetHeight-i.offsetHeight:"deltaHeight"in a&&(n+=a.deltaHeight),{datas:e,parentDist:[r,n],parentKeepRatio:a.keepRatio,useSnap:o}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:o}}}},unset:function(t){t.state.gestos.resizable=null}};function Bf(t,e,r,n,o){var i=t.props.groupable,a=t.state,s=a.is3d?4:3,c=e.origin,l=Gt(t.state.rootMatrix,lt([c[0],c[1]],i?[0,0]:[a.left,a.top]),s),u=_t([o.left,o.top],l);e.startAbsoluteOrigin=u,e.prevDeg=Ht(u,[r,n])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=lr(u,[r,n])}function oc(t,e,r){var n=r.defaultDeg,o=r.prevDeg,i=o%360,a=Math.floor(o/360);i<0&&(i+=360),i>t&&i>270&&t<90?++a:i<t&&i<90&&t>270&&--a;var s=e*(a*360+t-n);return r.prevDeg=n+s,s}function Lf(t,e,r,n){return oc(Ht(n.startAbsoluteOrigin,[t,e])/Math.PI*180,r,n)}function zf(t,e,r,n,o,i){var a=t.props.throttleRotate,s=a===void 0?0:a,c=r.prevSnapDeg,l=0,u=!1;if(i){var f=yO(t,e,n,o+n);u=f.isSnap,l=o+f.dist}u||(l=ht(o+n,s));var d=l-o;return r.prevSnapDeg=d,[d-c,d,l]}function Qy(t,e,r){var n=I(e,4),o=n[0],i=n[1],a=n[2],s=n[3];if(t==="none")return[];if(Dt(t))return t.map(function(m){return Qy(m,[o,i,a,s],r)[0]});var c=I((t||"top").split("-"),2),l=c[0],u=c[1],f=[o,i];l==="left"?f=[a,o]:l==="right"?f=[i,s]:l==="bottom"&&(f=[s,a]);var d=[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2],p=g1(f,r);if(u){var g=u==="top"||u==="left",h=l==="bottom"||l==="left";d=f[g&&!h||!g&&h?0:1]}return[[d,p]]}function Gf(t,e){if(e.isRequest)return e.requestAble==="rotatable";var r=e.inputEvent.target;if(Yt(r,ct("rotation-control"))||t.props.rotateAroundControls&&Yt(r,ct("around-control"))||Yt(r,ct("control"))&&Yt(r,ct("rotatable")))return!0;var n=t.props.rotationTarget;return n?td(n,!0).some(function(o){return o?r===o||r.contains(o):!1}):!1}var oO=`.rotation {
position: absolute;
height: 40px;
width: 1px;
transform-origin: 50% 100%;
height: calc(40px * var(--zoom));
top: auto;
left: 0;
bottom: 100%;
will-change: transform;
}
.rotation .rotation-line {
display: block;
width: 100%;
height: 100%;
transform-origin: 50% 50%;
}
.rotation .rotation-control {
border-color: #4af;
border-color: var(--moveable-color);
background:#fff;
cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
cursor: alias;
}
.rotatable.direction.control.move {
cursor: move;
}
`,iO={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[oO],viewClassName:function(t){return t.isDragging("rotatable")?ct("view-rotation-dragging"):""},render:function(t,e){var r=On(t.props,"rotatable"),n=r.rotatable,o=r.rotationPosition,i=r.zoom,a=r.renderDirections,s=r.rotateAroundControls,c=r.resolveAblesWithRotatable,l=t.getState(),u=l.renderPoses,f=l.direction;if(!n)return null;var d=Qy(o,u,f),p=[];if(d.forEach(function(y,x){var b=I(y,2),w=b[0],_=b[1];p.push(e.createElement("div",{key:"rotation".concat(x),className:ct("rotation"),style:{transform:"translate(-50%) translate(".concat(w[0],"px, ").concat(w[1],"px) rotate(").concat(_,"rad)")}},e.createElement("div",{className:ct("line rotation-line"),style:{transform:"scaleX(".concat(i,")")}}),e.createElement("div",{className:ct("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(i,")")}})))}),a){var g=ke(c||{}),h={};g.forEach(function(y){c[y].forEach(function(x){h[x]=y})});var m=[];Dt(a)&&(m=a.map(function(y){var x=h[y];return{data:x?{resolve:x}:{},classNames:x?["move"]:[],dir:y}})),p.push.apply(p,et([],I(Ty(t,"rotatable",m,e)),!1))}return s&&p.push.apply(p,et([],I(Oy(t,e)),!1)),p},dragControlCondition:Gf,dragControlStart:function(t,e){var r,n,o=e.datas,i=e.clientX,a=e.clientY,s=e.parentRotate,c=e.parentFlag,l=e.isPinch,u=e.isRequest,f=t.state,d=f.target,p=f.left,g=f.top,h=f.direction,m=f.beforeDirection,y=f.targetTransform,x=f.moveableClientRect,b=f.offsetMatrix,w=f.targetMatrix,_=f.allMatrix,E=f.width,C=f.height;if(!u&&!d)return!1;var T=t.getRect();o.rect=T,o.transform=y,o.left=p,o.top=g;var D=function(H){var tt=Zy(t.state,H);o.fixedDirection=tt.fixedDirection,o.fixedOffset=tt.fixedOffset,o.fixedPosition=tt.fixedPosition,B&&B.setFixedPosition(H)},R=function(H){var tt=nO(t.state,H);o.fixedDirection=tt.fixedDirection,o.fixedOffset=tt.fixedOffset,o.fixedPosition=tt.fixedPosition,B&&B.setFixedDirection(H)},N=i,M=a;if(u||l||c){var O=s||0;o.beforeInfo={origin:T.beforeOrigin,prevDeg:O,defaultDeg:O,prevSnapDeg:0,startDist:0},o.afterInfo=j(j({},o.beforeInfo),{origin:T.origin}),o.absoluteInfo=j(j({},o.beforeInfo),{origin:T.origin,startValue:O})}else{var k=(n=e.inputEvent)===null||n===void 0?void 0:n.target;if(k){var F=k.getAttribute("data-direction")||"",$=uP[F];if($){o.isControl=!0,o.isAroundControl=Yt(k,ct("around-control")),o.controlDirection=$;var V=k.getAttribute("data-resolve");V&&(o.resolveAble=V);var L=jO(f.rootMatrix,f.renderPoses,x);r=I(ee(L,$),2),N=r[0],M=r[1]}}o.beforeInfo={origin:T.beforeOrigin},o.afterInfo={origin:T.origin},o.absoluteInfo={origin:T.origin,startValue:T.rotation};var z=D;D=function(H){var tt=f.is3d?4:3,W=I(_t(ey(w,tt),H),2),q=W[0],it=W[1],ot=fe(b,En([q,it],tt)),U=fe(_,En([H[0],H[1]],tt));z(H);var rt=f.posDelta;o.beforeInfo.origin=lt(ot,rt),o.afterInfo.origin=lt(U,rt),o.absoluteInfo.origin=lt(U,rt),Bf(t,o.beforeInfo,N,M,x),Bf(t,o.afterInfo,N,M,x),Bf(t,o.absoluteInfo,N,M,x)},R=function(H){var tt=ee([[0,0],[E,0],[0,C],[E,C]],H);D(tt)}}o.startClientX=N,o.startClientY=M,o.direction=h,o.beforeDirection=m,o.startValue=0,o.datas={},Xs(t,e,"rotate");var A=!1,B=!1;if(o.isControl&&o.resolveAble){var Y=o.resolveAble;Y==="resizable"&&(B=Ff.dragControlStart(t,j(j({},new To("resizable").dragStart([0,0],e)),{parentPosition:o.controlPosition,parentFixedPosition:o.fixedPosition})))}B||(A=ve.dragStart(t,new To().dragStart([0,0],e))),D(AO(t));var J=mt(t,e,j(j({set:function(H){o.startValue=H*Math.PI/180},setFixedDirection:R,setFixedPosition:D},Us(t,e)),{dragStart:A,resizeStart:B})),X=at(t,"onRotateStart",J);return o.isRotate=X!==!1,f.snapRenderInfo={request:e.isRequest},o.isRotate?J:!1},dragControl:function(t,e){var r,n,o,i=e.datas,a=e.clientDistX,s=e.clientDistY,c=e.parentRotate,l=e.parentFlag,u=e.isPinch,f=e.groupDelta,d=e.resolveMatrix,p=i.beforeDirection,g=i.beforeInfo,h=i.afterInfo,m=i.absoluteInfo,y=i.isRotate,x=i.startValue,b=i.rect,w=i.startClientX,_=i.startClientY;if(y){Hs(t,e,"rotate");var E=dP(e),C=p*E,T=t.props.parentMoveable,D=0,R,N,M=0,O,k,F=0,$,V,L=180/Math.PI*x,z=m.startValue,A=!1,B=w+a,Y=_+s;if(!l&&"parentDist"in e){var J=e.parentDist;R=J,O=J,$=J}else u||l?(R=oc(c,p,g),O=oc(c,C,h),$=oc(c,C,m)):(R=Lf(B,Y,p,g),O=Lf(B,Y,C,h),$=Lf(B,Y,C,m),A=!0);if(N=L+R,k=L+O,V=z+$,at(t,"onBeforeRotate",mt(t,e,{beforeRotation:N,rotation:k,absoluteRotation:V,setRotation:function(pt){O=pt-L,R=O,$=O}},!0)),r=I(zf(t,b,g,R,L,A),3),D=r[0],R=r[1],N=r[2],n=I(zf(t,b,h,O,L,A),3),M=n[0],O=n[1],k=n[2],o=I(zf(t,b,m,$,z,A),3),F=o[0],$=o[1],V=o[2],!(!F&&!M&&!D&&!T&&!d)){var X=Ys(i,"rotate(".concat(k,"deg)"),"rotate(".concat(O,"deg)"));d&&(i.fixedPosition=Rf(t,i.targetAllTransform,i.fixedDirection,i.fixedOffset,i));var H=CP(t,O,i),tt=lt(_t(f||[0,0],H),i.prevInverseDist||[0,0]);i.prevInverseDist=H,i.requestValue=null;var W=Cy(t,X,tt,u,e),q=W,it=lr([B,Y],m.startAbsoluteOrigin)-m.startDist,ot=void 0;if(i.resolveAble==="resizable"){var U=Ff.dragControl(t,j(j({},Ki(e,t.state,[e.deltaX,e.deltaY],!!u,!1,"resizable")),{resolveMatrix:!0,parentDistance:it}));U&&(ot=U,q=b1(q,U,e))}var rt=mt(t,e,j(j({delta:M,dist:O,rotate:k,rotation:k,beforeDist:R,beforeDelta:D,beforeRotate:N,beforeRotation:N,absoluteDist:$,absoluteDelta:F,absoluteRotate:V,absoluteRotation:V,isPinch:!!u,resize:ot},W),q));return at(t,"onRotate",rt),rt}}},dragControlEnd:function(t,e){var r=e.datas;if(r.isRotate){r.isRotate=!1;var n=Me(t,e,{});return at(t,"onRotateEnd",n),n}},dragGroupControlCondition:Gf,dragGroupControlStart:function(t,e){var r=e.datas,n=t.state,o=n.left,i=n.top,a=n.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(r.beforeDirection*t.rotation);var c=Nr(t,this,"dragControlStart",e,function(f,d){var p=f.state,g=p.left,h=p.top,m=p.beforeOrigin,y=_t(lt([g,h],[o,i]),lt(m,a));return d.datas.startGroupClient=y,d.datas.groupClient=y,j(j({},d),{parentRotate:0})}),l=j(j({},s),{targets:t.props.targets,events:c}),u=at(t,"onRotateGroupStart",l);return r.isRotate=u!==!1,r.isRotate?s:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isRotate){uc(t,"onBeforeRotate",function(l){at(t,"onBeforeRotateGroup",mt(t,e,j(j({},l),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(n){var o=r.beforeDirection,i=n.beforeDist,a=i/180*Math.PI,s=Nr(t,this,"dragControl",e,function(l,u){var f=u.datas.startGroupClient,d=I(u.datas.groupClient,2),p=d[0],g=d[1],h=I(Vi(f,a*o),2),m=h[0],y=h[1],x=[m-p,y-g];return u.datas.groupClient=[m,y],j(j({},u),{parentRotate:i,groupDelta:x})});t.rotation=o*n.beforeRotation;var c=j({targets:t.props.targets,events:s,set:function(l){t.rotation=l},setGroupRotation:function(l){t.rotation=l}},n);return at(t,"onRotateGroup",c),c}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isRotate){this.dragControlEnd(t,e);var o=Nr(t,this,"dragControlEnd",e),i=Me(t,e,{targets:t.props.targets,events:o});return at(t,"onRotateGroupEnd",i),r}},request:function(t){var e={},r=0,n=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(o){return"deltaRotate"in o?r+=o.deltaRotate:"rotate"in o&&(r=o.rotate-n),{datas:e,parentDist:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function aO(t,e){var r,n=t.direction,o=t.classNames,i=t.size,a=t.pos,s=t.zoom,c=t.key,l=n==="horizontal",u=l?"Y":"X";return e.createElement("div",{key:c,className:o.join(" "),style:(r={},r[l?"width":"height"]="".concat(i),r.transform="translate(".concat(a[0],", ").concat(a[1],") translate").concat(u,"(-50%) scale").concat(u,"(").concat(s,")"),r)})}function $f(t,e){return aO(j(j({},t),{classNames:et([ct("line","guideline",t.direction)],I(t.classNames),!1).filter(function(r){return r}),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map(function(r){return"".concat(ht(r,.1),"px")})}),e)}function t1(t,e,r,n,o,i,a,s){var c=t.props.zoom;return r.map(function(l,u){var f=l.type,d=l.pos,p=[0,0];return p[a]=n,p[a?0:1]=-o+d,$f({key:"".concat(e,"TargetGuideline").concat(u),classNames:[ct("target","bold",f)],posValue:p,sizeValue:i,zoom:c,direction:e},s)})}function e1(t,e,r,n,o,i){var a=t.props,s=a.zoom,c=a.isDisplayInnerSnapDigit,l=e==="horizontal"?nn:on,u=o[l.start],f=o[l.end];return r.filter(function(d){var p=d.hide,g=d.elementRect;if(p)return!1;if(c&&g){var h=g.rect;if(h[l.start]<=u&&f<=h[l.end])return!1}return!0}).map(function(d,p){var g=d.pos,h=d.size,m=d.element,y=d.className,x=[-n[0]+g[0],-n[1]+g[1]];return $f({key:"".concat(e,"-default-guideline-").concat(p),classNames:m?[ct("bold"),y]:[ct("normal"),y],direction:e,posValue:x,sizeValue:h,zoom:s},i)})}function Qi(t,e,r,n,o,i,a,s){var c,l=t.props,u=l.snapDigit,f=u===void 0?0:u,d=l.isDisplaySnapDigit,p=d===void 0?!0:d,g=l.snapDistFormat,h=g===void 0?function(_,E){return _}:g,m=l.zoom,y=e==="horizontal"?"X":"Y",x=e==="vertical"?"height":"width",b=Math.abs(o),w=p?parseFloat(b.toFixed(f)):0;return s.createElement("div",{key:"".concat(e,"-").concat(r,"-guideline-").concat(n),className:ct("guideline-group",e),style:(c={left:"".concat(i[0],"px"),top:"".concat(i[1],"px")},c[x]="".concat(b,"px"),c)},$f({direction:e,classNames:[ct(r),a],size:"100%",posValue:[0,0],sizeValue:b,zoom:m},s),s.createElement("div",{className:ct("size-value","gap"),style:{transform:"translate".concat(y,"(-50%) scale(").concat(m,")")}},w>0?h(w,e):""))}function sO(t,e,r,n){var o=t==="vertical"?0:1,i=t==="vertical"?1:0,a=o?nn:on,s=r[a.start],c=r[a.end];return S1(e,function(l){return l.pos[o]}).map(function(l){var u=[],f=[],d=[];return l.forEach(function(p){var g,h,m=p.element,y=p.elementRect.rect;if(y[a.end]<s)u.push(p);else if(c<y[a.start])f.push(p);else if(y[a.start]<=s&&c<=y[a.end]&&n){var x=p.pos,b={element:m,rect:j(j({},y),(g={},g[a.end]=y[a.start],g))},w={element:m,rect:j(j({},y),(h={},h[a.start]=y[a.end],h))},_=[0,0],E=[0,0];_[o]=x[o],_[i]=x[i],E[o]=x[o],E[i]=x[i]+p.size,u.push({type:t,pos:_,size:0,elementRect:b,direction:"",elementDirection:"end"}),f.push({type:t,pos:E,size:0,elementRect:w,direction:"",elementDirection:"start"})}}),u.sort(function(p,g){return g.pos[i]-p.pos[i]}),f.sort(function(p,g){return p.pos[i]-g.pos[i]}),{total:l,start:u,end:f,inner:d}})}function cO(t,e,r,n,o){var i=t.props.isDisplayInnerSnapDigit,a=[];return["vertical","horizontal"].forEach(function(s){var c=e.filter(function(m){return m.type===s}),l=s==="vertical"?1:0,u=l?0:1,f=sO(s,c,n,i),d=l?on:nn,p=l?nn:on,g=n[d.start],h=n[d.end];f.forEach(function(m){var y=m.total,x=m.start,b=m.end,w=m.inner,_=r[u]+y[0].pos[u]-n[p.start],E=n;x.forEach(function(C){var T=C.elementRect.rect,D=E[d.start]-T[d.end];if(D>0){var R=[0,0];R[l]=r[l]+E[d.start]-g-D,R[u]=_,a.push(Qi(t,s,"dashed",a.length,D,R,C.className,o))}E=T}),E=n,b.forEach(function(C){var T=C.elementRect.rect,D=T[d.start]-E[d.end];if(D>0){var R=[0,0];R[l]=r[l]+E[d.end]-g,R[u]=_,a.push(Qi(t,s,"dashed",a.length,D,R,C.className,o))}E=T}),w.forEach(function(C){var T=C.elementRect.rect,D=g-T[d.start],R=T[d.end]-h,N=[0,0],M=[0,0];N[l]=r[l]-D,N[u]=_,M[l]=r[l]+h-g,M[u]=_,a.push(Qi(t,s,"dashed",a.length,D,N,C.className,o)),a.push(Qi(t,s,"dashed",a.length,R,M,C.className,o))})})}),a}function lO(t,e,r,n,o){var i=[];return["horizontal","vertical"].forEach(function(a){var s=e.filter(function(m){return m.type===a}).slice(0,1),c=a==="vertical"?0:1,l=c?0:1,u=c?on:nn,f=c?nn:on,d=n[u.start],p=n[u.end],g=n[f.start],h=n[f.end];s.forEach(function(m){var y=m.gap,x=m.gapRects,b=Math.max.apply(Math,et([g],I(x.map(function(E){var C=E.rect;return C[f.start]})),!1)),w=Math.min.apply(Math,et([h],I(x.map(function(E){var C=E.rect;return C[f.end]})),!1)),_=(b+w)/2;b===w||_===(g+h)/2||x.forEach(function(E){var C=E.rect,T=E.className,D=[r[0],r[1]];if(C[u.end]<d)D[c]+=C[u.end]-d;else if(p<C[u.start])D[c]+=C[u.start]-d-y;else return;D[l]+=_-g,i.push(Qi(t,c?"vertical":"horizontal","gap",i.length,y,D,T,o))})})}),i}function Vf(t){var e,r,n=t.state,o=n.containerClientRect,i=n.hasFixed,a=o.overflow,s=o.scrollHeight,c=o.scrollWidth,l=o.clientHeight,u=o.clientWidth,f=o.clientLeft,d=o.clientTop,p=t.props,g=p.snapGap,h=g===void 0?!0:g,m=p.verticalGuidelines,y=p.horizontalGuidelines,x=p.snapThreshold,b=x===void 0?5:x,w=p.maxSnapElementGuidelineDistance,_=w===void 0?1/0:w,E=p.isDisplayGridGuidelines,C=ze($e(t.state)),T=C.top,D=C.left,R=C.bottom,N=C.right,M={top:T,left:D,bottom:R,right:N,center:(D+N)/2,middle:(T+R)/2},O=pO(t),k=et([],I(O),!1),F=((r=(e=n.snapThresholdInfo)===null||e===void 0?void 0:e.multiples)!==null&&r!==void 0?r:[1,1]).map(function(z){return z*b});h&&k.push.apply(k,et([],I(uO(t,M,F)),!1));var $=j({},n.snapOffset||{left:0,top:0,bottom:0,right:0});if(k.push.apply(k,et([],I(dO(t,a?c:u,a?s:l,f,d,$,E)),!1)),i){var V=o.left,L=o.top;$.left+=V,$.top+=L,$.right+=V,$.bottom+=L}return k.push.apply(k,et([],I(o1(y||!1,m||!1,a?c:u,a?s:l,f,d,$)),!1)),k=k.filter(function(z){var A=z.element,B=z.elementRect,Y=z.type;if(!A||!B)return!0;var J=B.rect;return r1(M,J,Y,_)}),k}function uO(t,e,r){var n=t.props,o=n.maxSnapElementGuidelineDistance,i=o===void 0?1/0:o,a=n.maxSnapElementGapDistance,s=a===void 0?1/0:a,c=t.state.elementRects,l=[];return[["vertical",nn,on],["horizontal",on,nn]].forEach(function(u){var f=I(u,3),d=f[0],p=f[1],g=f[2],h=e[p.start],m=e[p.end],y=e[p.center],x=e[g.start],b=e[g.end],w={left:r[0],top:r[1]};function _(T){var D=T.rect,R=w[p.start];return D[p.end]<h+R?h-D[p.end]:m-R<D[p.start]?D[p.start]-m:-1}var E=c.filter(function(T){var D=T.rect;return D[g.start]>b||D[g.end]<x?!1:_(T)>0}).sort(function(T,D){return _(T)-_(D)}),C=[];E.forEach(function(T){E.forEach(function(D){if(T!==D){var R=T.rect,N=D.rect,M=R[g.start],O=R[g.end],k=N[g.start],F=N[g.end];M>F||k>O||C.push([T,D])}})}),C.forEach(function(T){var D=I(T,2),R=D[0],N=D[1],M=R.rect,O=N.rect,k=M[p.start],F=M[p.end],$=O[p.start],V=O[p.end],L=w[p.start],z=0,A=0,B=!1,Y=!1,J=!1;if(F<=h&&m<=$){if(Y=!0,z=($-F-(m-h))/2,A=F+z+(m-h)/2,Z(A-y)>L)return}else if(F<$&&V<h+L){if(B=!0,z=$-F,A=V+z,Z(A-h)>L)return}else if(F<$&&m-L<k){if(J=!0,z=$-F,A=k-z,Z(A-m)>L)return}else return;z&&r1(e,O,d,i)&&(z>s||l.push({type:d,pos:d==="vertical"?[A,0]:[0,A],element:N.element,size:0,className:N.className,isStart:B,isCenter:Y,isEnd:J,gap:z,hide:!0,gapRects:[R,N],direction:"",elementDirection:""}))})}),l}function fO(t,e,r,n){var o,i,a=t.props,s=t.state,c=a.snapGridAll,l=a.snapGridWidth,u=l===void 0?0:l,f=a.snapGridHeight,d=f===void 0?0:f,p=s.snapRenderInfo,g=p&&(((o=p.direction)===null||o===void 0?void 0:o[0])||((i=p.direction)===null||i===void 0?void 0:i[1])),h=t.moveables;if(c&&h&&g&&(u||d)){if(s.snapThresholdInfo)return;s.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var m=t.getRect(),y=m.children,x=p.direction;if(y){var b=x.map(function(_,E){var C=E===0?{snapSize:u,posName:"left",sizeName:"width",clientOffset:n.left-e}:{snapSize:d,posName:"top",sizeName:"height",clientOffset:n.top-r},T=C.snapSize,D=C.posName,R=C.sizeName,N=C.clientOffset;if(!T)return{dir:_,multiple:1,snapSize:T,snapOffset:0};var M=m[R],O=m[D],k=xb(y.map(function(B){return[B[D]-O,B[R],M-B[R]-B[D]+O]})).filter(function(B){return B}).sort(function(B,Y){return B-Y}),F=k[0],$=k.map(function(B){return ht(B/F,.1)*T}),V=1,L=ht(M/F,.1);for(V=1;V<=10&&!$.every(function(B){return B*V%1===0});++V);var z=(-_+1)/2,A=Vn(O-N,O-N+M,z,1-z);return{multiple:L*V,dir:_,snapSize:T,snapOffset:Math.round(A/T)}}),w=b.map(function(_){return _.multiple||1});s.snapThresholdInfo.multiples=w,s.snapThresholdInfo.offset=b.map(function(_){return _.snapOffset}),b.forEach(function(_,E){_.snapSize})}}else s.snapThresholdInfo=null}function dO(t,e,r,n,o,i,a){n===void 0&&(n=0),o===void 0&&(o=0);var s=t.props,c=t.state,l=s.snapGridWidth,u=l===void 0?0:l,f=s.snapGridHeight,d=f===void 0?0:f,p=[],g=i.left,h=i.top,m=[0,0];fO(t,n,o,i);var y=c.snapThresholdInfo,x=u,b=d;if(y&&(u*=y.multiples[0]||1,d*=y.multiples[1]||1,m=y.offset),d){for(var w=function(E){p.push({type:"horizontal",pos:[g,ht(m[1]*b+E-o+h,.1)],className:ct("grid-guideline"),size:e,hide:!a,direction:"",grid:!0})},_=0;_<=r*2;_+=d)w(_);for(var _=-d;_>=-r;_-=d)w(_)}if(u){for(var w=function(C){p.push({type:"vertical",pos:[ht(m[0]*x+C-n+g,.1),h],className:ct("grid-guideline"),size:r,hide:!a,direction:"",grid:!0})},_=0;_<=e*2;_+=u)w(_);for(var _=-u;_>=-e;_-=u)w(_)}return p}function r1(t,e,r,n){return r==="horizontal"?Z(t.right-e.left)<=n||Z(t.left-e.right)<=n||t.left<=e.right&&e.left<=t.right:r==="vertical"?Z(t.bottom-e.top)<=n||Z(t.top-e.bottom)<=n||t.top<=e.bottom&&e.top<=t.bottom:!0}function pO(t){var e=t.state,r=t.props.elementGuidelines,n=r===void 0?[]:r;if(!n.length)return e.elementRects=[],[];var o=(e.elementRects||[]).filter(function(d){return!d.refresh}),i=n.map(function(d){return zt(d)&&"element"in d?j(j({},d),{element:Sr(d.element,!0)}):{element:Sr(d,!0)}}).filter(function(d){return d.element}),a=Co(o.map(function(d){return d.element}),i.map(function(d){return d.element})),s=a.maintained,c=a.added,l=[];s.forEach(function(d){var p=I(d,2),g=p[0],h=p[1];l[h]=o[g]}),hO(t,c.map(function(d){return i[d]})).map(function(d,p){l[c[p]]=d}),e.elementRects=l;var u=Of(t.props.elementSnapDirections),f=[];return l.forEach(function(d){var p=d.element,g=d.top,h=g===void 0?u.top:g,m=d.left,y=m===void 0?u.left:m,x=d.right,b=x===void 0?u.right:x,w=d.bottom,_=w===void 0?u.bottom:w,E=d.center,C=E===void 0?u.center:E,T=d.middle,D=T===void 0?u.middle:T,R=d.className,N=d.rect,M=Nf({top:h,right:b,left:y,bottom:_,center:C,middle:D},N),O=M.horizontal,k=M.vertical,F=M.horizontalNames,$=M.verticalNames,V=N.top,L=N.left,z=N.right-L,A=N.bottom-V,B=[z,A];k.forEach(function(Y,J){f.push({type:"vertical",element:p,pos:[ht(Y,.1),V],size:A,sizes:B,className:R,elementRect:d,elementDirection:jy[$[J]]||$[J],direction:""})}),O.forEach(function(Y,J){f.push({type:"horizontal",element:p,pos:[L,ht(Y,.1)],size:z,sizes:B,className:R,elementRect:d,elementDirection:jy[F[J]]||F[J],direction:""})})}),f}function n1(t,e){return t?t.map(function(r){var n=zt(r)?r:{pos:r},o=n.pos;return Ko(o)?n:j(j({},n),{pos:Pt(o,e)})}):[]}function o1(t,e,r,n,o,i,a){o===void 0&&(o=0),i===void 0&&(i=0),a===void 0&&(a={left:0,top:0,right:0,bottom:0});var s=[],c=a.left,l=a.top,u=a.bottom,f=a.right,d=r+f-c,p=n+u-l;return n1(t,p).forEach(function(g){s.push({type:"horizontal",pos:[c,ht(g.pos-i+l,.1)],size:d,className:g.className,direction:""})}),n1(e,d).forEach(function(g){s.push({type:"vertical",pos:[ht(g.pos-o+c,.1),l],size:p,className:g.className,direction:""})}),s}function hO(t,e){if(!e.length)return[];var r=t.props.groupable,n=t.state,o=n.containerClientRect,i=n.rootMatrix,a=n.is3d,s=n.offsetDelta,c=a?4:3,l=I(BP(i,o,c),2),u=l[0],f=l[1],d=r?0:s[0],p=r?0:s[1];return e.map(function(g){var h=g.element.getBoundingClientRect(),m=h.left-u-d,y=h.top-f-p,x=y+h.height,b=m+h.width,w=I(Ao(i,[m,y],c),2),_=w[0],E=w[1],C=I(Ao(i,[b,x],c),2),T=C[0],D=C[1];return j(j({},g),{rect:{left:_,right:T,top:E,bottom:D,center:(_+T)/2,middle:(E+D)/2}})})}function ic(t){var e=t.state,r=e.container,n=t.props.snapContainer||r;if(e.snapContainer===n&&e.guidelines&&e.guidelines.length)return!1;var o=e.containerClientRect,i={left:0,top:0,bottom:0,right:0};if(r!==n){var a=Sr(n,!0);if(a){var s=oa(a),c=E1(e,[s.left-o.left,s.top-o.top]),l=E1(e,[s.right-o.right,s.bottom-o.bottom]);i.left=ht(c[0],1e-5),i.top=ht(c[1],1e-5),i.right=ht(l[0],1e-5),i.bottom=ht(l[1],1e-5)}}return e.snapContainer=n,e.snapOffset=i,e.guidelines=Vf(t),e.enableSnap=!0,!0}function i1(t,e,r,n,o,i){var a=Pn(t,e,r,i?4:3),s=ee(a,n);return Xf(a,lt(o,s))}function a1(t){return t?t/Z(t):0}function vO(t,e,r,n,o,i){var a=i.fixedDirection,s=$P(r,a,n),c=Af(t,e,r,n),l=et(et([],I(tO(t,e,s,n,o,i)),!1),I(Yy(t,c,i)),!1),u=ec(l,0),f=ec(l,1);return{width:{isBound:u.isBound,offset:u.offset[0]},height:{isBound:f.isBound,offset:f.offset[1]}}}function gO(t,e,r,n,o,i,a,s,c){var l=ee(e,a),u=nc(t,s,{vertical:[l[0]],horizontal:[l[1]]}),f=u.horizontal.offset,d=u.vertical.offset;if(ht(d,Sf)||ht(f,Sf)){var p=I(wr({datas:c,distX:-d,distY:-f}),2),g=p[0],h=p[1],m=Math.min(o||1/0,r+a[0]*g),y=Math.min(i||1/0,n+a[1]*h);return[m-r,y-n]}return[0,0]}function s1(t,e,r,n,o,i,a,s){for(var c=$e(t.state),l=t.props.keepRatio,u=0,f=0,d=0;d<2;++d){var p=e(u,f),g=vO(t,p,o,l,a,s),h=g.width,m=g.height,y=h.isBound,x=m.isBound,b=h.offset,w=m.offset;if(d===1&&(y||(b=0),x||(w=0)),d===0&&a&&!y&&!x)return[0,0];if(l){var _=Z(b)*(r?1/r:1),E=Z(w)*(n?1/n:1),C=y&&x?_<E:x||!y&&_<E;C?b=r*w/n:w=n*b/r}u+=b,f+=w}if(!l&&o[0]&&o[1]){var T=rO(t,c,o,i,s),D=T.maxWidth,R=T.maxHeight,N=I(gO(t,e(u,f).map(function(k){return k.map(function(F){return ht(F,Sf)})}),r+u,n+f,D,R,o,a,s),2),b=N[0],w=N[1];u+=b,f+=w}return[u,f]}function ta(t){return t<0&&(t=t%360+360),t%=360,t}function mO(t,e){e=ta(e);var r=Math.floor(t/360),n=r*360+360-e,o=r*360+e;return Z(t-n)<Z(t-o)?n:o}function Wf(t,e){t=ta(t),e=ta(e);var r=ta(t-e);return Math.min(r,360-r)}function yO(t,e,r,n){var o,i=t.props,a=(o=i[Ay])!==null&&o!==void 0?o:5,s=i[Iy];if(No(t,"rotatable")){var c=e.pos1,l=e.pos2,u=e.pos3,f=e.pos4,d=e.origin,p=r*Math.PI/180,g=[c,l,u,f].map(function(w){return lt(w,d)}),h=g.map(function(w){return Vi(w,p)}),m=et(et([],I(jP(t,g,h,d,r)),!1),I(XP(t,g,h,d,r)),!1);m.sort(function(w,_){return Z(w-r)-Z(_-r)});var y=m.length>0;if(y)return{isSnap:y,dist:y?m[0]:r}}if(s?.length&&a){var x=s.slice().sort(function(w,_){return Wf(w,n)-Wf(_,n)}),b=x[0];if(Wf(b,n)<=a)return{isSnap:!0,dist:r+mO(n,b)-n}}return{isSnap:!1,dist:r}}function xO(t,e,r,n,o,i,a){if(!No(t,"resizable"))return[0,0];var s=a.fixedDirection,c=a.nextAllMatrix,l=t.state,u=l.allMatrix,f=l.is3d;return s1(t,function(d,p){return i1(c||u,e+d,r+p,s,o,f)},e,r,n,o,i,a)}function bO(t,e,r,n,o){if(!No(t,"scalable"))return[0,0];var i=o.startOffsetWidth,a=o.startOffsetHeight,s=o.fixedPosition,c=o.fixedDirection,l=o.is3d,u=s1(t,function(f,d){return i1(xP(o,_t(e,[f/i,d/a])),i,a,c,s,l)},i,a,r,s,n,o);return[u[0]/i,u[1]/a]}function wO(t,e){e.absolutePoses=$e(t.state)}function c1(t){var e=[];return t.forEach(function(r){r.guidelineInfos.forEach(function(n){var o=n.guideline;xe(e,function(i){return i.guideline===o})||(o.direction="",e.push({guideline:o,posInfo:r}))})}),e.map(function(r){var n=r.guideline,o=r.posInfo;return j(j({},n),{direction:o.direction})})}function l1(t,e,r,n,o,i){var a=Pf(Qs(t,i),e,r),s=a.vertical,c=a.horizontal,l=Oo();s.forEach(function(g){g.isBound&&(g.direction==="start"&&(l.left=!0),g.direction==="end"&&(l.right=!0),n.push({type:"bounds",pos:g.pos}))}),c.forEach(function(g){g.isBound&&(g.direction==="start"&&(l.top=!0),g.direction==="end"&&(l.bottom=!0),o.push({type:"bounds",pos:g.pos}))});var u=qP(t),f=u.boundMap,d=u.vertical,p=u.horizontal;return d.forEach(function(g){cr(n,function(h){var m=h.type,y=h.pos;return m==="bounds"&&y===g})>=0||n.push({type:"bounds",pos:g})}),p.forEach(function(g){cr(o,function(h){var m=h.type,y=h.pos;return m==="bounds"&&y===g})>=0||o.push({type:"bounds",pos:g})}),{boundMap:l,innerBoundMap:f}}var SO=Qf("",["resizable","scalable"]),CO={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",Ay,Iy,Fy,By,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[`:host {
--bounds-color: #d66;
}
.guideline {
pointer-events: none;
z-index: 2;
}
.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}
.guideline-group {
position: absolute;
top: 0;
left: 0;
}
.guideline-group .size-value {
position: absolute;
color: #f55;
font-size: 12px;
font-size: calc(12px * var(--zoom));
font-weight: bold;
}
.guideline-group.horizontal .size-value {
transform-origin: 50% 100%;
transform: translateX(-50%);
left: 50%;
bottom: 5px;
bottom: calc(2px + 3px * var(--zoom));
}
.guideline-group.vertical .size-value {
transform-origin: 0% 50%;
top: 50%;
transform: translateY(-50%);
left: 5px;
left: calc(2px + 3px * var(--zoom));
}
.guideline.gap {
background: #f55;
}
.size-value.gap {
color: #f55;
}
`],render:function(t,e){var r=t.state,n=r.top,o=r.left,i=r.pos1,a=r.pos2,s=r.pos3,c=r.pos4,l=r.snapRenderInfo,u=t.props.snapRenderThreshold,f=u===void 0?1:u;if(!l||!l.render||!No(t,""))return Io(t,"boundMap",Oo(),function(X){return JSON.stringify(X)}),Io(t,"innerBoundMap",Oo(),function(X){return JSON.stringify(X)}),[];r.guidelines=Vf(t);var d=Math.min(i[0],a[0],s[0],c[0]),p=Math.min(i[1],a[1],s[1],c[1]),g=l.externalPoses||[],h=$e(t.state),m=[],y=[],x=[],b=[],w=[],_=ze(h),E=_.width,C=_.height,T=_.top,D=_.left,R=_.bottom,N=_.right,M={left:D,right:N,top:T,bottom:R,center:(D+N)/2,middle:(T+R)/2},O=g.length>0,k=O?ze(g):{};if(!l.request){if(l.direction&&w.push(GP(t,h,l.direction,f,f)),l.snap){var F=ze(h);l.center&&(F.middle=(F.top+F.bottom)/2,F.center=(F.left+F.right)/2),w.push(zy(t,F,f,f))}O&&(l.center&&(k.middle=(k.top+k.bottom)/2,k.center=(k.left+k.right)/2),w.push(zy(t,k,f,f))),w.forEach(function(X){var H=X.vertical.posInfos,tt=X.horizontal.posInfos;m.push.apply(m,et([],I(H.filter(function(W){var q=W.guidelineInfos;return q.some(function(it){var ot=it.guideline;return!ot.hide})}).map(function(W){return{type:"snap",pos:W.pos}})),!1)),y.push.apply(y,et([],I(tt.filter(function(W){var q=W.guidelineInfos;return q.some(function(it){var ot=it.guideline;return!ot.hide})}).map(function(W){return{type:"snap",pos:W.pos}})),!1)),x.push.apply(x,et([],I(c1(H)),!1)),b.push.apply(b,et([],I(c1(tt)),!1))})}var $=l1(t,[D,N],[T,R],m,y),V=$.boundMap,L=$.innerBoundMap;O&&l1(t,[k.left,k.right],[k.top,k.bottom],m,y,l.externalBounds);var z=et(et([],I(x),!1),I(b),!1),A=z.filter(function(X){return X.element&&!X.gapRects}),B=z.filter(function(X){return X.gapRects}).sort(function(X,H){return X.gap-H.gap});at(t,"onSnap",{guidelines:z.filter(function(X){var H=X.element;return!H}),elements:A,gaps:B},!0);var Y=Io(t,"boundMap",V,function(X){return JSON.stringify(X)},Oo()),J=Io(t,"innerBoundMap",L,function(X){return JSON.stringify(X)},Oo());return(V===Y||L===J)&&at(t,"onBound",{bounds:V,innerBounds:L},!0),et(et(et(et(et(et([],I(cO(t,A,[d,p],M,e)),!1),I(lO(t,B,[d,p],M,e)),!1),I(e1(t,"horizontal",b,[o,n],M,e)),!1),I(e1(t,"vertical",x,[o,n],M,e)),!1),I(t1(t,"horizontal",y,d,n,E,0,e)),!1),I(t1(t,"vertical",m,p,o,C,1,e)),!1)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},ic(t)},drag:function(t){var e=t.state;ic(t)||(e.guidelines=Vf(t)),e.snapRenderInfo&&(e.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){if(SO(t,e)||Gf(t,e))return!0;if(!e.isRequest&&e.inputEvent)return Yt(e.inputEvent.target,ct("snap-control"))},dragControlStart:function(t){t.state.snapRenderInfo=null,ic(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,ic(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function EO(t,e){return[t[0]*e[0],t[1]*e[1]]}function ct(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return vM.apply(void 0,et([wf],I(t),!1))}function u1(t){t()}function _O(t){return!t||t==="none"?[1,0,0,1,0,0]:zt(t)?t:bo(t)}function ea(t,e,r){return Fs(e,_n(r,e),t,_n(r.map(function(n){return-n}),e))}function TO(t,e,r){if(e==="%"){var n=Yf(t.ownerSVGElement);return n[r?"width":"height"]/100}return 1}function DO(t){var e=RO(Kf(t,":before"));return e.map(function(r,n){var o=sr(r),i=o.value,a=o.unit;return i*TO(t,a,n===0)})}function ac(t){return t?t.split(" "):["0","0"]}function RO(t){return ac(t.transformOrigin)}function f1(t){var e=we(t),r=e("transform");if(r&&r!=="none")return r;if("transform"in t){var n=t.transform,o=n.baseVal;if(!o)return"";var i=o.length;if(!i)return"";for(var a=[],s=function(l){var u=o[l].matrix;a.push("matrix(".concat(["a","b","c","d","e","f"].map(function(f){return u[f]}).join(", "),")"))},c=0;c<i;++c)s(c);return a.join(" ")}return""}function ra(t,e,r,n,o){var i,a,s=Wc(t)||Ar(t),c=!1,l,u;if(!t||r)l=t;else{var f=(i=t?.assignedSlot)===null||i===void 0?void 0:i.parentElement,d=t.parentElement;f?(c=!0,u=d,l=f):l=d}for(var p=!1,g=t===e||l===e,h="relative",m=1,y=parseFloat(o?.("zoom"))||1,x=o?.("position");l&&l!==s;){e===l&&(g=!0);var b=we(l),w=l.tagName.toLowerCase(),_=f1(l),E=b("willChange"),C=parseFloat(b("zoom"))||1;if(h=b("position"),n&&C!==1){m=C;break}if(!r&&n&&y!==1&&x&&x!=="absolute"||w==="svg"||w==="foreignobject"||h!=="static"||_&&_!=="none"||E==="transform")break;var T=(a=t?.assignedSlot)===null||a===void 0?void 0:a.parentNode,D=l.parentNode;T&&(c=!0,u=D);var R=D;if(R&&R.nodeType===11){l=R.host,p=!0,h=we(l)("position");break}l=R,h="relative"}return{offsetZoom:m,hasSlot:c,parentSlotElement:u,isCustomElement:p,isStatic:h==="static",isEnd:g||!l||l===s,offsetParent:l||s}}function MO(t,e){var r,n=t.tagName.toLowerCase(),o=t.offsetLeft,i=t.offsetTop,a=we(t),s=Ue(o),c=!s,l,u;return!c&&(n!=="svg"||t.ownerSVGElement)?(l=hy?DO(t):ac(a("transformOrigin")).map(function(f){return parseFloat(f)}),u=l.slice(),c=!0,n==="svg"?(o=0,i=0):(r=I(NO(t,l,t===e&&e.tagName.toLowerCase()==="g"),4),o=r[0],i=r[1],l[0]=r[2],l[1]=r[3])):(l=ac(a("transformOrigin")).map(function(f){return parseFloat(f)}),u=l.slice()),{tagName:n,isSVG:s,hasOffset:c,offset:[o||0,i||0],origin:l,targetOrigin:u}}function d1(t,e){var r=we(t),n=we(Ar(t)),o=n("position");if(!e&&(!o||o==="static"))return[0,0];var i=parseInt(n("marginLeft"),10),a=parseInt(n("marginTop"),10);return r("position")==="absolute"&&((r("top")!=="auto"||r("bottom")!=="auto")&&(a=0),(r("left")!=="auto"||r("right")!=="auto")&&(i=0)),[i,a]}function Hf(t){t.forEach(function(e){var r=e.matrix;r&&(e.matrix=er(r,3,4))})}function PO(t){for(var e=t.parentElement,r=!1,n=Ar(t);e;){var o=Kf(e).transform;if(o&&o!=="none"){r=!0;break}if(e===n)break;e=e.parentElement}return{fixedContainer:e||n,hasTransform:r}}function sc(t,e){return e===void 0&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(ry(t,!e).join(","),")")}function Yf(t){var e=t.clientWidth,r=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:r};var n=t.viewBox,o=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:o.x,y:o.y,width:o.width||e,height:o.height||r,clientWidth:e,clientHeight:r}}function OO(t,e){var r,n=Yf(t),o=n.width,i=n.height,a=n.clientWidth,s=n.clientHeight,c=a/o,l=s/i,u=t.preserveAspectRatio.baseVal,f=u.align,d=u.meetOrSlice,p=[0,0],g=[c,l],h=[0,0];if(f!==1){var m=(f-2)%3,y=Math.floor((f-2)/3);p[0]=o*m/2,p[1]=i*y/2;var x=d===2?Math.max(l,c):Math.min(c,l);g[0]=x,g[1]=x,h[0]=(a-o)/2*m,h[1]=(s-i)/2*y}var b=nf(g,e);return r=I(h,2),b[e*(e-1)]=r[0],b[e*(e-1)+1]=r[1],ea(b,e,p)}function NO(t,e,r){var n=t.tagName.toLowerCase();if(!t.getBBox||!r&&n==="g")return[0,0,0,0];var o=we(t),i=o("transform-box")==="fill-box",a=t.getBBox(),s=Yf(t.ownerSVGElement),c=a.x,l=a.y;n==="foreignobject"&&!c&&!l&&(c=parseFloat(t.getAttribute("x"))||0,l=parseFloat(t.getAttribute("y"))||0);var u=c-s.x,f=l-s.y,d=i?e[0]:e[0]-u,p=i?e[1]:e[1]-f;return[u,f,d,p]}function Gt(t,e,r){return fe(t,En(e,r),r)}function Pn(t,e,r,n){return[[0,0],[e,0],[0,r],[e,r]].map(function(o){return Gt(t,o,n)})}function ze(t){var e=t.map(function(l){return l[0]}),r=t.map(function(l){return l[1]}),n=Math.min.apply(Math,et([],I(e),!1)),o=Math.min.apply(Math,et([],I(r),!1)),i=Math.max.apply(Math,et([],I(e),!1)),a=Math.max.apply(Math,et([],I(r),!1)),s=i-n,c=a-o;return{left:n,top:o,right:i,bottom:a,width:s,height:c}}function p1(t,e,r,n){var o=Pn(t,e,r,n);return ze(o)}function kO(t,e,r,n,o){var i,a=t.target,s=t.origin,c=e.matrix,l=v1(a),u=l.offsetWidth,f=l.offsetHeight,d=r.getBoundingClientRect(),p=[0,0];r===Ar(r)&&(p=d1(a,!0));for(var g=a.getBoundingClientRect(),h=g.left-d.left+r.scrollLeft-(r.clientLeft||0)+p[0],m=g.top-d.top+r.scrollTop-(r.clientTop||0)+p[1],y=g.width,x=g.height,b=Fs(n,o,c),w=p1(b,u,f,n),_=w.left,E=w.top,C=w.width,T=w.height,D=Gt(b,s,n),R=lt(D,[_,E]),N=[h+R[0]*y/C,m+R[1]*x/T],M=[0,0],O=0;++O<10;){var k=tr(o,n);i=I(lt(Gt(k,N,n),Gt(k,D,n)),2),M[0]=i[0],M[1]=i[1];var F=Fs(n,o,_n(M,n),c),$=p1(F,u,f,n),V=$.left,L=$.top,z=V-h,A=L-m;if(Z(z)<2&&Z(A)<2)break;N[0]-=z,N[1]-=A}return M.map(function(B){return Math.round(B)})}function jO(t,e,r){var n=t.length===16,o=n?4:3,i=e.map(function(c){return Gt(t,c,o)}),a=r.left,s=r.top;return i.map(function(c){return[c[0]+a,c[1]+s]})}function Ge(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function h1(t,e){return Ge([e[0]-t[0],e[1]-t[1]])}function na(t,e,r,n){r===void 0&&(r=1),n===void 0&&(n=Ht(t,e));var o=h1(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(n,"rad) scaleY(").concat(r,")"),width:"".concat(o,"px")}}function cc(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=r.length,i=r.reduce(function(s,c){return s+c[0]},0)/o,a=r.reduce(function(s,c){return s+c[1]},0)/o;return{transform:"translateZ(0px) translate(".concat(i,"px, ").concat(a,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function On(t,e){var r=t[e];return zt(r)?j(j({},t),r):t}function v1(t){var e=t&&!Ue(t.offsetWidth),r=0,n=0,o=0,i=0,a=0,s=0,c=0,l=0,u=0,f=0,d=0,p=0,g=1/0,h=1/0,m=1/0,y=1/0,x=0,b=0,w=!1;if(t)if(!e&&t.ownerSVGElement){var _=t.getBBox();w=!0,r=_.width,n=_.height,a=r,s=n,c=r,l=n,o=r,i=n}else{var E=we(t),C=t.style,T=E("boxSizing")==="border-box",D=parseFloat(E("borderLeftWidth"))||0,R=parseFloat(E("borderRightWidth"))||0,N=parseFloat(E("borderTopWidth"))||0,M=parseFloat(E("borderBottomWidth"))||0,O=parseFloat(E("paddingLeft"))||0,k=parseFloat(E("paddingRight"))||0,F=parseFloat(E("paddingTop"))||0,$=parseFloat(E("paddingBottom"))||0,V=O+k,L=F+$,z=D+R,A=N+M,B=V+z,Y=L+A,J=E("position"),X=0,H=0;if("clientLeft"in t){var tt=null;if(J==="absolute"){var W=ra(t,Ar(t));tt=W.offsetParent}else tt=t.parentElement;if(tt){var q=we(tt);X=parseFloat(q("width")),H=parseFloat(q("height"))}}u=Math.max(V,Pt(E("minWidth"),X)||0),f=Math.max(L,Pt(E("minHeight"),H)||0),g=Pt(E("maxWidth"),X),h=Pt(E("maxHeight"),H),isNaN(g)&&(g=1/0),isNaN(h)&&(h=1/0),x=Pt(C.width,0)||0,b=Pt(C.height,0)||0,a=parseFloat(E("width"))||0,s=parseFloat(E("height"))||0,c=Z(a-x)<1?ti(u,x||a,g):a,l=Z(s-b)<1?ti(f,b||s,h):s,r=c,n=l,o=c,i=l,T?(m=g,y=h,d=u,p=f,c=r-B,l=n-Y):(m=g+B,y=h+Y,d=u+B,p=f+Y,r=c+B,n=l+Y),o=c+V,i=l+L}return{svg:w,offsetWidth:r,offsetHeight:n,clientWidth:o,clientHeight:i,contentWidth:c,contentHeight:l,inlineCSSWidth:x,inlineCSSHeight:b,cssWidth:a,cssHeight:s,minWidth:u,minHeight:f,maxWidth:g,maxHeight:h,minOffsetWidth:d,minOffsetHeight:p,maxOffsetWidth:m,maxOffsetHeight:y}}function g1(t,e){return Ht(e>0?t[0]:t[1],e>0?t[1]:t[0])}function lc(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function m1(t,e){var r=t===Ar(t)||t===Wc(t),n={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return r&&(n.clientHeight=Math.max(e.height,n.clientHeight),n.scrollHeight=Math.max(e.height,n.scrollHeight)),n.overflow=we(t)("overflow")!=="visible",j(j({},e),n)}function Uf(t,e,r,n){var o=t.left,i=t.right,a=t.top,s=t.bottom,c=e.top,l=e.left,u={left:l+o,top:c+a,right:l+i,bottom:c+s,width:i-o,height:s-a};return r&&n?m1(r,u):u}function oa(t,e){var r=0,n=0,o=0,i=0;if(t){var a=t.getBoundingClientRect();r=a.left,n=a.top,o=a.width,i=a.height}var s={left:r,top:n,width:o,height:i,right:r+o,bottom:n+i};return t&&e?m1(t,s):s}function AO(t){var e=t.props,r=e.groupable,n=e.svgOrigin,o=t.getState(),i=o.offsetWidth,a=o.offsetHeight,s=o.svg,c=o.transformOrigin;return!r&&s&&n?rd(n,i,a):c}function y1(t,e,r,n){var o;if(t)o=t;else if(e)o=[0,0];else{var i=r.target;o=x1(i,n)}return o}function x1(t,e){if(t){var r=t.getAttribute("data-rotation")||"",n=t.getAttribute("data-direction");if(e.deg=r,!!n){var o=[0,0];return n.indexOf("w")>-1&&(o[0]=-1),n.indexOf("e")>-1&&(o[0]=1),n.indexOf("n")>-1&&(o[1]=-1),n.indexOf("s")>-1&&(o[1]=1),o}}}function Xf(t,e){return[_t(e,t[0]),_t(e,t[1]),_t(e,t[2]),_t(e,t[3])]}function $e(t){var e=t.left,r=t.top,n=t.pos1,o=t.pos2,i=t.pos3,a=t.pos4;return Xf([n,o,i,a],[e,r])}function qf(t,e){t[e?"controlAbles":"targetAbles"].forEach(function(r){r.unset&&r.unset(t)})}function ko(t,e){var r=e?"controlGesto":"targetGesto",n=t[r];n?.isIdle()===!1&&qf(t,e),n?.unset(),t[r]=null}function ge(t,e){if(e){var r=Ro(e);r.nextStyle=j(j({},r.nextStyle),t)}return{style:t,cssText:ke(t).map(function(n){return"".concat(zc(n,"-"),": ").concat(t[n],";")}).join("")}}function b1(t,e,r){var n=e.afterTransform||e.transform;return j(j({},ge(j(j(j({},t.style),e.style),{transform:n}),r)),{afterTransform:n,transform:t.transform})}function mt(t,e,r,n){var o=e.datas;o.datas||(o.datas={});var i=j(j({},r),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:o.datas,isRequest:e.isRequest,isRequestChild:e.isRequestChild,isFirstDrag:!!e.isFirstDrag,isTrusted:e.isTrusted!==!1,stopAble:function(){o.isEventStart=!1},stopDrag:function(){var a;(a=e.stop)===null||a===void 0||a.call(e)}});return o.isStartEvent?n||(o.lastEvent=i):o.isStartEvent=!0,i}function Me(t,e,r){var n=e.datas,o="isDrag"in r?r.isDrag:e.isDrag;return n.datas||(n.datas={}),j(j({isDrag:o},r),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:e.isDouble,datas:n.datas,isFirstDrag:!!e.isFirstDrag})}function uc(t,e,r){t._emitter.on(e,r)}function at(t,e,r,n,o){return t.triggerEvent(e,r,n,o)}function Kf(t,e){return Ee(t).getComputedStyle(t,e)}function fc(t,e,r){var n={},o={};return t.filter(function(i){var a=i.name;if(n[a]||!e.some(function(s){return i[s]}))return!1;if(!r&&i.ableGroup){if(o[i.ableGroup])return!1;o[i.ableGroup]=!0}return n[a]=!0,!0})}function Zf(t,e){return t===e||t==null&&e==null}function w1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length-1,n=0;n<r;++n){var o=t[n];if(!Ue(o))return o}return t[r]}function S1(t,e){var r=[],n=[];return t.forEach(function(o,i){var a=e(o,i,t),s=n.indexOf(a),c=r[s]||[];s===-1&&(n.push(a),r.push(c)),c.push(o)}),r}function IO(t,e){var r=[],n={};return t.forEach(function(o,i){var a=e(o,i,t),s=n[a];s||(s=[],n[a]=s,r.push(s)),s.push(o)}),r}function C1(t){return t.reduce(function(e,r){return e.concat(r)},[])}function jo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort(function(r,n){return Z(n)-Z(r)}),t[0]}function Ao(t,e,r){return fe(tr(t,r),En(e,r),r)}function FO(t,e){var r,n=t.is3d,o=t.rootMatrix,i=n?4:3;return r=I(Ao(o,[e.distX,e.distY],i),2),e.distX=r[0],e.distY=r[1],e}function Ve(t,e,r,n){if(!r[0]&&!r[1])return e;var o=Gt(t,[a1(r[0]||1),0],n),i=Gt(t,[0,a1(r[1]||1)],n),a=Gt(t,[r[0]/Ge(o),r[1]/Ge(i)],n);return _t(e,a)}function nr(t,e,r){return r?"".concat(t/e*100,"%"):"".concat(t,"px")}function dc(t){return Z(t)<=he?0:t}function Jf(t){return function(e){if(!e.isDragging(t))return"";var r=TP(e,t),n=r.deg;return n?ct("view-control-rotation".concat(n)):""}}function Qf(t,e){return e===void 0&&(e=[t]),function(r,n){if(n.isRequest)return e.some(function(i){return n.requestAble===i})?n.parentDirection:!1;var o=n.inputEvent.target;return Yt(o,ct("direction"))&&(!t||Yt(o,ct(t)))}}function BO(t,e,r){var n,o=So(t,{"x%":function(_){return _/100*e.offsetWidth},"y%":function(_){return _/100*e.offsetHeight}}),i=t.slice(0,r<0?void 0:r),a=t.slice(0,r<0?void 0:r+1),s=t[r]||"",c=r<0?[]:t.slice(r),l=r<0?[]:t.slice(r+1),u=o.slice(0,r<0?void 0:r),f=o.slice(0,r<0?void 0:r+1),d=(n=o[r])!==null&&n!==void 0?n:So([""])[0],p=r<0?[]:o.slice(r),g=r<0?[]:o.slice(r+1),h=d?[d]:[],m=wo(u),y=wo(f),x=wo(p),b=wo(g),w=Ot(m,x,4);return{transforms:t,beforeFunctionMatrix:m,beforeFunctionMatrix2:y,targetFunctionMatrix:wo(h),afterFunctionMatrix:x,afterFunctionMatrix2:b,allFunctionMatrix:w,beforeFunctions:u,beforeFunctions2:f,targetFunction:h[0],afterFunctions:p,afterFunctions2:g,beforeFunctionTexts:i,beforeFunctionTexts2:a,targetFunctionText:s,afterFunctionTexts:c,afterFunctionTexts2:l}}function LO(t){return!t||!zt(t)||ri(t)?!1:Dt(t)||"length"in t}function Sr(t,e){return t?ri(t)?t:Bt(t)?e?document.querySelector(t):t:ye(t)?t():sp(t)?t:"current"in t?t.current:t:null}function td(t,e){if(!t)return[];var r=LO(t)?[].slice.call(t):[t];return r.reduce(function(n,o){return Bt(o)&&e?et(et([],I(n),!1),I([].slice.call(document.querySelectorAll(o))),!1):(Dt(o)?n.push(td(o,e)):n.push(Sr(o,e)),n)},[])}function zO(t,e,r){var n=Ht(t,e)/Math.PI*180;return n=r>=0?n:180-n,n=n>=0?n:360+n,n}function E1(t,e){var r=t.rootMatrix,n=t.is3d,o=n?4:3,i=tr(r,o);return n||(i=er(i,3,4)),i[12]=0,i[13]=0,i[14]=0,Ls(i,e)}function _1(t,e,r,n,o){var i=I(t,2),a=i[0],s=i[1],c=0,l=0;if(o&&a&&s){var u=Ht([0,0],e),f=Ht([0,0],n),d=Ge(e),p=Math.cos(u-f)*d;if(!n[0])l=p,c=l*r;else if(!n[1])c=p,l=c/r;else{var g=n[0]*a,h=n[1]*s,m=Math.atan2(g+e[0],h+e[1]),y=Math.atan2(g,h);m<0&&(m+=Math.PI*2),y<0&&(y+=Math.PI*2);var x=0;Z(m-y)<Math.PI/2||Z(m-y)>Math.PI/2*3||(y+=Math.PI),x=m-y,x>Math.PI*2?x-=Math.PI*2:x>Math.PI?x=2*Math.PI-x:x<-Math.PI&&(x=-2*Math.PI-x);var b=Ge([g+e[0],h+e[1]])*Math.cos(x);c=b*Math.sin(y)-g,l=b*Math.cos(y)-h,n[0]<0&&(c*=-1),n[1]<0&&(l*=-1)}}else c=n[0]*e[0],l=n[1]*e[1];return[c,l]}function T1(t,e,r,n){var o,i=r.ratio,a=r.startOffsetWidth,s=r.startOffsetHeight,c=0,l=0,u=n.distX,f=n.distY,d=n.pinchScale,p=n.parentDistance,g=n.parentDist,h=n.parentScale,m=r.fixedDirection,y=[0,1].map(function(C){return Z(t[C]-m[C])}),x=[0,1].map(function(C){var T=y[C];return T!==0&&(T=2/T),T});if(g)c=g[0],l=g[1],e&&(c?l||(l=c/i):c=l*i);else if(Ko(d))c=(d-1)*a,l=(d-1)*s;else if(h)c=(h[0]-1)*a,l=(h[1]-1)*s;else if(p){var b=a*y[0],w=s*y[1],_=Ge([b,w]);c=p/_*b*x[0],l=p/_*w*x[1]}else{var E=wr({datas:r,distX:u,distY:f});E=x.map(function(C,T){return E[T]*C}),o=I(_1([a,s],E,i,t,e),2),c=o[0],l=o[1]}return{distWidth:c,distHeight:l}}function ed(t,e){if(e){if(t==="left")return{x:"0%",y:"50%"};if(t==="top")return{x:"50%",y:"50%"};if(t==="center")return{x:"50%",y:"50%"};if(t==="right")return{x:"100%",y:"50%"};if(t==="bottom")return{x:"50%",y:"100%"};var r=I(t.split(" "),2),n=r[0],o=r[1],i=ed(n||""),a=ed(o||""),s=j(j({},i),a),c={x:"50%",y:"50%"};return s.x&&(c.x=s.x),s.y&&(c.y=s.y),s.value&&(s.x&&!s.y&&(c.y=s.value),!s.x&&s.y&&(c.x=s.value)),c}return t==="left"?{x:"0%"}:t==="right"?{x:"100%"}:t==="top"?{y:"0%"}:t==="bottom"?{y:"100%"}:t?t==="center"?{value:"50%"}:{value:t}:{}}function rd(t,e,r){var n=ed(t,!0),o=n.x,i=n.y;return[Pt(o,e)||0,Pt(i,r)||0]}function GO(t,e,r){var n=t.map(function(i){return lt(i,e)}),o=n.map(function(i){return Vi(i,r)});return{prev:n,next:o,result:o.map(function(i){return _t(i,e)})}}function D1(t,e){return t.length===e.length&&t.every(function(r,n){var o=e[n],i=Dt(r),a=Dt(o);return i&&a?D1(r,o):!i&&!a?r===o:!1})}function Io(t,e,r,n,o){var i=t._store,a=i[e];if(!(e in i))if(o!=null)i[e]=o,a=o;else return i[e]=r,r;return a===r||n(a)===n(r)?a:(i[e]=r,r)}function me(t){return t>=0?1:-1}function Z(t){return Math.abs(t)}function nd(t,e){return yb(t).map(function(r){return e(r)})}function R1(t){return Ko(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}var $O=qi("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,e){var r=e.datas,n=e.targets,o=e.angle,i=e.originalDatas,a=t.props,s=a.pinchable,c=a.ables;if(!s)return!1;var l="onPinch".concat(n?"Group":"","Start"),u="drag".concat(n?"Group":"","ControlStart"),f=(s===!0?t.controlAbles:c.filter(function(h){return s.indexOf(h.name)>-1})).filter(function(h){return h.canPinch&&h[u]}),d=mt(t,e,{});n&&(d.targets=n);var p=at(t,l,d);r.isPinch=p!==!1,r.ables=f;var g=r.isPinch;return g?(f.forEach(function(h){if(i[h.name]=i[h.name]||{},!!h[u]){var m=j(j({},e),{datas:i[h.name],parentRotate:o,isPinch:!0});h[u](t,m)}}),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},g):!1},pinch:function(t,e){var r=e.datas,n=e.scale,o=e.distance,i=e.originalDatas,a=e.inputEvent,s=e.targets,c=e.angle;if(r.isPinch){var l=o*(1-1/n),u=mt(t,e,{});s&&(u.targets=s);var f="onPinch".concat(s?"Group":"");at(t,f,u);var d=r.ables,p="drag".concat(s?"Group":"","Control");return d.forEach(function(g){g[p]&&g[p](t,j(j({},e),{datas:i[g.name],inputEvent:a,resolveMatrix:!0,pinchScale:n,parentDistance:l,parentRotate:c,isPinch:!0}))}),u}},pinchEnd:function(t,e){var r=e.datas,n=e.isPinch,o=e.inputEvent,i=e.targets,a=e.originalDatas;if(r.isPinch){var s="onPinch".concat(i?"Group":"","End"),c=Me(t,e,{isDrag:n});i&&(c.targets=i),at(t,s,c);var l=r.ables,u="drag".concat(i?"Group":"","ControlEnd");return l.forEach(function(f){f[u]&&f[u](t,j(j({},e),{isDrag:n,datas:a[f.name],inputEvent:o,isPinch:!0}))}),n}},pinchGroupStart:function(t,e){return this.pinchStart(t,j(j({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,j(j({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,j(j({},e),{targets:t.props.targets}))}}),M1=Qf("scalable"),VO={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:My("scalable"),dragControlCondition:M1,viewClassName:Jf("scalable"),dragControlStart:function(t,e){var r=e.datas,n=e.isPinch,o=e.inputEvent,i=e.parentDirection,a=y1(i,n,o,r),s=t.state,c=s.width,l=s.height,u=s.targetTransform,f=s.target,d=s.pos1,p=s.pos2,g=s.pos4;if(!a||!f)return!1;n||Dn(t,e),r.datas={},r.transform=u,r.prevDist=[1,1],r.direction=a,r.startOffsetWidth=c,r.startOffsetHeight=l,r.startValue=[1,1];var h=!a[0]&&!a[1]||a[0]||!a[1];Xs(t,e,"scale"),r.isWidth=h;function m(E){r.ratio=E&&isFinite(E)?E:0}r.startPositions=$e(t.state);function y(E){var C=Ky(r.startPositions,E);r.fixedDirection=C.fixedDirection,r.fixedPosition=C.fixedPosition,r.fixedOffset=C.fixedOffset}r.setFixedDirection=y,m(lr(d,p)/lr(p,g)),y([-a[0],-a[1]]);var x=function(E){r.minScaleSize=E},b=function(E){r.maxScaleSize=E};x([-1/0,-1/0]),b([1/0,1/0]);var w=mt(t,e,j(j({direction:a,set:function(E){r.startValue=E},setRatio:m,setFixedDirection:y,setMinScaleSize:x,setMaxScaleSize:b},Us(t,e)),{dragStart:ve.dragStart(t,new To().dragStart([0,0],e))})),_=at(t,"onScaleStart",w);return r.startFixedDirection=r.fixedDirection,_!==!1&&(r.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:a}),r.isScale?w:!1},dragControl:function(t,e){Hs(t,e,"scale");var r=e.datas,n=e.parentKeepRatio,o=e.parentFlag,i=e.isPinch,a=e.dragClient,s=e.isRequest,c=e.useSnap,l=e.resolveMatrix,u=r.prevDist,f=r.direction,d=r.startOffsetWidth,p=r.startOffsetHeight,g=r.isScale,h=r.startValue,m=r.isWidth,y=r.ratio;if(!g)return!1;var x=t.props,b=x.throttleScale,w=x.parentMoveable,_=f;!f[0]&&!f[1]&&(_=[1,1]);var E=y&&(n??x.keepRatio)||!1,C=t.state,T=[h[0],h[1]];function D(){var U=T1(_,E,r,e),rt=U.distWidth,pt=U.distHeight,ut=d?(d+rt)/d:1,dt=p?(p+pt)/p:1;h[0]||(T[0]=rt/d),h[1]||(T[1]=pt/p);var vt=(_[0]||E?ut:1)*T[0],Et=(_[1]||E?dt:1)*T[1];return vt===0&&(vt=me(u[0])*Ws),Et===0&&(Et=me(u[1])*Ws),[vt,Et]}var R=D();if(!i&&t.props.groupable){var N=C.snapRenderInfo||{},M=N.direction;Dt(M)&&(M[0]||M[1])&&(C.snapRenderInfo={direction:f,request:e.isRequest})}at(t,"onBeforeScale",mt(t,e,{scale:R,setFixedDirection:function(U){return r.setFixedDirection(U),R=D(),R},startFixedDirection:r.startFixedDirection,setScale:function(U){R=U}},!0));var O=[R[0]/T[0],R[1]/T[1]],k=a,F=[0,0],$=me(O[0]*O[1]),V=!a&&!o&&i;if(V||l?k=Rf(t,r.targetAllTransform,[0,0],[0,0],r):a||(k=r.fixedPosition),i||(F=bO(t,O,f,!c&&s,r)),E){_[0]&&_[1]&&F[0]&&F[1]&&(Math.abs(F[0]*d)>Math.abs(F[1]*p)?F[1]=0:F[0]=0);var L=!F[0]&&!F[1];if(L&&(m?O[0]=ht(O[0]*T[0],b)/T[0]:O[1]=ht(O[1]*T[1],b)/T[1]),_[0]&&!_[1]||F[0]&&!F[1]||L&&m){O[0]+=F[0];var z=d*O[0]*T[0]/y;O[1]=me($*O[0])*Z(z/p/T[1])}else if(!_[0]&&_[1]||!F[0]&&F[1]||L&&!m){O[1]+=F[1];var A=p*O[1]*T[1]*y;O[0]=me($*O[1])*Z(A/d/T[0])}}else O[0]+=F[0],O[1]+=F[1],F[0]||(O[0]=ht(O[0]*T[0],b)/T[0]),F[1]||(O[1]=ht(O[1]*T[1],b)/T[1]);O[0]===0&&(O[0]=me(u[0])*Ws),O[1]===0&&(O[1]=me(u[1])*Ws),R=EO(O,[T[0],T[1]]);var B=[d,p],Y=[d*R[0],p*R[1]];Y=$c(Y,r.minScaleSize,r.maxScaleSize,E?y:!1),R=nd(2,function(U){return B[U]?Y[U]/B[U]:Y[U]}),O=nd(2,function(U){return R[U]/T[U]});var J=nd(2,function(U){return u[U]?O[U]/u[U]:O[U]}),X="scale(".concat(O.join(", "),")"),H="scale(".concat(R.join(", "),")"),tt=Ys(r,H,X),W=!h[0]||!h[1],q=bP(t,W?H:X,r.fixedDirection,k,r.fixedOffset,r,W),it=V?q:lt(q,r.prevInverseDist||[0,0]);if(r.prevDist=O,r.prevInverseDist=q,R[0]===u[0]&&R[1]===u[1]&&it.every(function(U){return!U})&&!w&&!V)return!1;var ot=mt(t,e,j({offsetWidth:d,offsetHeight:p,direction:f,scale:R,dist:O,delta:J,isPinch:!!i},Cy(t,tt,it,i,e)));return at(t,"onScale",ot),ot},dragControlEnd:function(t,e){var r=e.datas;if(!r.isScale)return!1;r.isScale=!1;var n=Me(t,e,{});return at(t,"onScaleEnd",n),n},dragGroupControlCondition:M1,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,e);if(!n)return!1;var o=rr(t,"resizable",e);r.moveableScale=t.scale;var i=Nr(t,this,"dragControlStart",e,function(l,u){return Js(t,l,r,u)}),a=function(l){n.setFixedDirection(l),i.forEach(function(u,f){u.setFixedDirection(l),Js(t,u.moveable,r,o[f])})};r.setFixedDirection=a;var s=j(j({},n),{targets:t.props.targets,events:i,setFixedDirection:a}),c=at(t,"onScaleGroupStart",s);return r.isScale=c!==!1,r.isScale?s:!1},dragGroupControl:function(t,e){var r=e.datas;if(r.isScale){uc(t,"onBeforeScale",function(u){at(t,"onBeforeScaleGroup",mt(t,e,j(j({},u),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(n){var o=n.dist,i=r.moveableScale;t.scale=[o[0]*i[0],o[1]*i[1]];var a=t.props.keepRatio,s=r.fixedPosition,c=Nr(t,this,"dragControl",e,function(u,f){var d=I(fe(Wi(t.rotation/180*Math.PI,3),[f.datas.originalX*o[0],f.datas.originalY*o[1],1],3),2),p=d[0],g=d[1];return j(j({},f),{parentDist:null,parentScale:o,parentKeepRatio:a,dragClient:_t(s,[p,g])})}),l=j({targets:t.props.targets,events:c},n);return at(t,"onScaleGroup",l),l}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isScale){this.dragControlEnd(t,e);var o=Nr(t,this,"dragControlEnd",e),i=Me(t,e,{targets:t.props.targets,events:o});return at(t,"onScaleGroupEnd",i),r}},request:function(){var t={},e=0,r=0,n=!1;return{isControl:!0,requestStart:function(o){return n=o.useSnap,{datas:t,parentDirection:o.direction||[1,1],useSnap:n}},request:function(o){return e+=o.deltaWidth,r+=o.deltaHeight,{datas:t,parentDist:[e,r],parentKeepRatio:o.keepRatio,useSnap:n}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:n}}}}};function cn(t,e){return t.map(function(r,n){return Vn(r,e[n],1,2)})}function P1(t,e,r){var n=Ht(t,e),o=Ht(t,r),i=o-n;return i>=0?i:i+2*Math.PI}function WO(t,e){var r=P1(t[0],t[1],t[2]),n=P1(e[0],e[1],e[2]),o=Math.PI;return!(r>=o&&n<=o||r<=o&&n>=o)}var HO={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:Jf("warpable"),render:function(t,e){var r=t.props,n=r.resizable,o=r.scalable,i=r.warpable,a=r.zoom;if(n||o||!i)return[];var s=t.state,c=s.pos1,l=s.pos2,u=s.pos3,f=s.pos4,d=cn(c,l),p=cn(l,c),g=cn(c,u),h=cn(u,c),m=cn(u,f),y=cn(f,u),x=cn(l,f),b=cn(f,l);return et([e.createElement("div",{className:ct("line"),key:"middeLine1",style:na(d,m,a)}),e.createElement("div",{className:ct("line"),key:"middeLine2",style:na(p,y,a)}),e.createElement("div",{className:ct("line"),key:"middeLine3",style:na(g,x,a)}),e.createElement("div",{className:ct("line"),key:"middeLine4",style:na(h,b,a)})],I(Py(t,"warpable",e)),!1)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var r=e.inputEvent.target;return Yt(r,ct("direction"))&&Yt(r,ct("warpable"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,o=t.props.target,i=n.target,a=x1(i,r);if(!a||!o)return!1;var s=t.state,c=s.transformOrigin,l=s.is3d,u=s.targetTransform,f=s.targetMatrix,d=s.width,p=s.height,g=s.left,h=s.top;r.datas={},r.targetTransform=u,r.warpTargetMatrix=l?f:er(f,3,4),r.targetInverseMatrix=ty(tr(r.warpTargetMatrix,4),3,4),r.direction=a,r.left=g,r.top=h,r.poses=[[0,0],[d,0],[0,p],[d,p]].map(function(x){return lt(x,c)}),r.nextPoses=r.poses.map(function(x){var b=I(x,2),w=b[0],_=b[1];return fe(r.warpTargetMatrix,[w,_,0,1],4)}),r.startValue=It(4),r.prevMatrix=It(4),r.absolutePoses=$e(s),r.posIndexes=Sy(a),Dn(t,e),Xs(t,e,"matrix3d"),s.snapRenderInfo={request:e.isRequest,direction:a};var m=mt(t,e,j({set:function(x){r.startValue=x}},Us(t,e))),y=at(t,"onWarpStart",m);return y!==!1&&(r.isWarp=!0),r.isWarp},dragControl:function(t,e){var r=e.datas,n=e.isRequest,o=e.distX,i=e.distY,a=r.targetInverseMatrix,s=r.prevMatrix,c=r.isWarp,l=r.startValue,u=r.poses,f=r.posIndexes,d=r.absolutePoses;if(!c)return!1;if(Hs(t,e,"matrix3d"),No(t,"warpable")){var p=f.map(function(D){return d[D]});p.length>1&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var g=nc(t,n,{horizontal:p.map(function(D){return D[1]+i}),vertical:p.map(function(D){return D[0]+o})}),h=g.horizontal,m=g.vertical;i-=h.offset,o-=m.offset}var y=wr({datas:r,distX:o,distY:i},!0),x=r.nextPoses.slice();if(f.forEach(function(D){x[D]=_t(x[D],y)}),!lP.every(function(D){return WO(D.map(function(R){return u[R]}),D.map(function(R){return x[R]}))}))return!1;var b=of(u[0],u[2],u[1],u[3],x[0],x[2],x[1],x[3]);if(!b.length)return!1;var w=Ot(a,b,4),_=by(r,w,!0),E=Ot(tr(s,4),_,4);r.prevMatrix=_;var C=Ot(l,_,4),T=Ys(r,"matrix3d(".concat(C.join(", "),")"),"matrix3d(".concat(_.join(", "),")"));return Df(e,T),at(t,"onWarp",mt(t,e,j({delta:E,matrix:C,dist:_,multiply:Ot,transform:T},ge({transform:T},e)))),!0},dragControlEnd:function(t,e){var r=e.datas,n=e.isDrag;return r.isWarp?(r.isWarp=!1,at(t,"onWarpEnd",Me(t,e,{})),n):!1}},YO=ct("area-pieces"),pc=ct("area-piece"),O1=ct("avoid"),UO=ct("view-dragging");function od(t){var e=t.areaElement;if(e){var r=t.state,n=r.width,o=r.height;Hn(e,O1),e.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(o,"px")}}function N1(t){return t.createElement("div",{key:"area_pieces",className:YO},t.createElement("div",{className:pc}),t.createElement("div",{className:pc}),t.createElement("div",{className:pc}),t.createElement("div",{className:pc}))}var k1={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(t,e){var r=t.props,n=r.target,o=r.dragArea,i=r.groupable,a=r.passDragArea,s=t.getState(),c=s.width,l=s.height,u=s.renderPoses,f=a?ct("area","pass"):ct("area");if(i)return[e.createElement("div",{key:"area",ref:rn(t,"areaElement"),className:f}),N1(e)];if(!n||!o)return[];var d=of([0,0],[c,0],[0,l],[c,l],u[0],u[1],u[2],u[3]),p=d.length?sc(d,!0):"none";return[e.createElement("div",{key:"area",ref:rn(t,"areaElement"),className:f,style:{top:"0px",left:"0px",width:"".concat(c,"px"),height:"".concat(l,"px"),transformOrigin:"0 0",transform:p}}),N1(e)]},dragStart:function(t,e){var r=e.datas,n=e.clientX,o=e.clientY,i=e.inputEvent;if(!i)return!1;r.isDragArea=!1;var a=t.areaElement,s=t.state,c=s.moveableClientRect,l=s.renderPoses,u=s.rootMatrix,f=s.is3d,d=c.left,p=c.top,g=ze(l),h=g.left,m=g.top,y=g.width,x=g.height,b=f?4:3,w=I(Ao(u,[n-d,o-p],b),2),_=w[0],E=w[1];_-=h,E-=m;var C=[{left:h,top:m,width:y,height:E-10},{left:h,top:m,width:_-10,height:x},{left:h,top:m+E+10,width:y,height:x-E-10},{left:h+_+10,top:m,width:y-_-10,height:x}],T=[].slice.call(a.nextElementSibling.children);C.forEach(function(D,R){T[R].style.cssText="left: ".concat(D.left,"px;top: ").concat(D.top,"px; width: ").concat(D.width,"px; height: ").concat(D.height,"px;")}),ei(a,O1),s.disableNativeEvent=!0},drag:function(t,e){var r=e.datas,n=e.inputEvent;if(this.enableNativeEvent(t),!n)return!1;r.isDragArea||(r.isDragArea=!0,od(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var r=e.inputEvent,n=e.datas;if(!r)return!1;n.isDragArea||od(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){od(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&Ca(function(){e.disableNativeEvent=!1})}},XO=qi("origin",{props:["origin","svgOrigin"],render:function(t,e){var r=t.props,n=r.zoom,o=r.svgOrigin,i=r.groupable,a=t.getState(),s=a.beforeOrigin,c=a.rotation,l=a.svg,u=a.allMatrix,f=a.is3d,d=a.left,p=a.top,g=a.offsetWidth,h=a.offsetHeight,m;if(!i&&l&&o){var y=I(rd(o,g,h),2),x=y[0],b=y[1],w=f?4:3,_=Gt(u,[x,b],w);m=cc(c,n,lt(_,[d,p]))}else m=cc(c,n,s);return[e.createElement("div",{className:ct("control","origin"),style:m,key:"beforeOrigin"})]}});function qO(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var KO={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(t,e){var r=t.props,n=r.scrollContainer,o=n===void 0?t.getContainer():n,i=r.scrollOptions,a=new ay,s=Sr(o,!0);e.datas.dragScroll=a,t.state.dragScroll=a;var c=e.isControl?"controlGesto":"targetGesto",l=e.targets;a.on("scroll",function(u){var f=u.container,d=u.direction,p=mt(t,e,{scrollContainer:f,direction:d}),g=l?"onScrollGroup":"onScroll";l&&(p.targets=l),at(t,g,p)}).on("move",function(u){var f=u.offsetX,d=u.offsetY,p=u.inputEvent;t[c].scrollBy(f,d,p.inputEvent,!1)}).on("scrollDrag",function(u){var f=u.next;f(t[c].getCurrentEvent())}),a.dragStart(e,j({container:s},i))},checkScroll:function(t,e){var r=e.datas.dragScroll;if(r){var n=t.props,o=n.scrollContainer,i=o===void 0?t.getContainer():o,a=n.scrollThreshold,s=a===void 0?0:a,c=n.scrollThrottleTime,l=c===void 0?0:c,u=n.getScrollPosition,f=u===void 0?qO:u,d=n.scrollOptions;return r.drag(e,j({container:i,threshold:s,throttleTime:l,getScrollPosition:function(p){return f({scrollContainer:p.container,direction:p.direction})}},d)),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,j(j({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,j(j({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,j(j({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,j(j({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,j(j({},e),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,e){return this.drag(t,j(j({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,j(j({},e),{targets:t.props.targets}))},unset:function(t){var e,r=t.state;(e=r.dragScroll)===null||e===void 0||e.dragEnd(),r.dragScroll=null}},j1={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},ZO=qi("padding",{props:["padding"],render:function(t,e){var r=t.props;if(r.dragArea)return[];var n=R1(r.padding||{}),o=n.left,i=n.top,a=n.right,s=n.bottom,c=t.getState(),l=c.renderPoses,u=c.pos1,f=c.pos2,d=c.pos3,p=c.pos4,g=[u,f,d,p],h=[];return o>0&&h.push([0,2]),i>0&&h.push([0,1]),a>0&&h.push([1,3]),s>0&&h.push([2,3]),h.map(function(m,y){var x=I(m,2),b=x[0],w=x[1],_=g[b],E=g[w],C=l[b],T=l[w],D=of([0,0],[100,0],[0,100],[100,100],_,E,C,T);if(D.length)return e.createElement("div",{key:"padding".concat(y),className:ct("padding"),style:{transform:sc(D,!0)}})})}}),A1=["nw","ne","se","sw"];function hc(t,e){var r=t[0]+t[1],n=r>e?e/r:1;return t[0]*=n,t[1]=e-t[1]*n,t}var JO=[1,2,5,6],QO=[0,3,4,7],Nn=[1,-1,-1,1],kn=[1,1,-1,-1];function id(t,e,r,n,o,i,a,s){o===void 0&&(o=0),i===void 0&&(i=0),a===void 0&&(a=r),s===void 0&&(s=n);var c=[],l=!1,u=t.filter(function(d){return!d.virtual}),f=u.map(function(d){var p=d.horizontal,g=d.vertical,h=d.pos;if(g&&!l&&(l=!0,c.push("/")),l){var m=Math.max(0,g===1?h[1]-i:s-h[1]);return c.push(nr(m,n,e)),m}else{var m=Math.max(0,p===1?h[0]-o:a-h[0]);return c.push(nr(m,r,e)),m}});return{radiusPoses:u,styles:c,raws:f}}function I1(t){for(var e=[0,0],r=[0,0],n=t.length,o=0;o<n;++o){var i=t[o];i.sub&&(i.horizontal&&(e[1]===0&&(e[0]=o),e[1]=o-e[0]+1,r[0]=o+1),i.vertical&&(r[1]===0&&(r[0]=o),r[1]=o-r[0]+1))}return{horizontalRange:e,verticalRange:r}}function F1(t,e,r,n,o,i,a){var s,c,l,u;i===void 0&&(i=[0,0]),a===void 0&&(a=!1);var f=t.indexOf("/"),d=(f>-1?t.slice(0,f):t).length,p=t.slice(0,d),g=t.slice(d+1),h=p.length,m=g.length,y=m>0,x=I(p,4),b=x[0],w=b===void 0?"0px":b,_=x[1],E=_===void 0?w:_,C=x[2],T=C===void 0?w:C,D=x[3],R=D===void 0?E:D,N=I(g,4),M=N[0],O=M===void 0?w:M,k=N[1],F=k===void 0?y?O:E:k,$=N[2],V=$===void 0?y?O:T:$,L=N[3],z=L===void 0?y?F:R:L,A=[w,E,T,R].map(function(tt){return Pt(tt,e)}),B=[O,F,V,z].map(function(tt){return Pt(tt,r)}),Y=A.slice(),J=B.slice();s=I(hc([Y[0],Y[1]],e),2),Y[0]=s[0],Y[1]=s[1],c=I(hc([Y[3],Y[2]],e),2),Y[3]=c[0],Y[2]=c[1],l=I(hc([J[0],J[3]],r),2),J[0]=l[0],J[3]=l[1],u=I(hc([J[1],J[2]],r),2),J[1]=u[0],J[2]=u[1];var X=a?Y:Y.slice(0,Math.max(i[0],h)),H=a?J:J.slice(0,Math.max(i[1],m));return et(et([],I(X.map(function(tt,W){var q=A1[W];return{virtual:W>=h,horizontal:Nn[W],vertical:0,pos:[n+tt,o+(kn[W]===-1?r:0)],sub:!0,raw:A[W],direction:q}})),!1),I(H.map(function(tt,W){var q=A1[W];return{virtual:W>=m,horizontal:0,vertical:kn[W],pos:[n+(Nn[W]===-1?e:0),o+tt],sub:!0,raw:B[W],direction:q}})),!1)}function tN(t,e,r,n,o){o===void 0&&(o=e.length);var i=I1(t.slice(n)),a=i.horizontalRange,s=i.verticalRange,c=r-n,l=0;if(c===0)l=o;else if(c>0&&c<a[1])l=a[1]-c;else if(c>=s[0])l=s[0]+s[1]-c;else return;t.splice(r,l),e.splice(r,l)}function eN(t,e,r,n,o,i,a,s,c,l,u){l===void 0&&(l=0),u===void 0&&(u=0);var f=I1(t.slice(r)),d=f.horizontalRange,p=f.verticalRange;if(n>-1)for(var g=Nn[n]===1?i-l:s-i,h=d[1];h<=n;++h){var m=kn[h]===1?u:c,y=0;if(n===h?y=i:h===0?y=l+g:Nn[h]===-1&&(y=s-(e[r][0]-l)),t.splice(r+h,0,{horizontal:Nn[h],vertical:0,pos:[y,m]}),e.splice(r+h,0,[y,m]),h===0)break}else if(o>-1){var x=kn[o]===1?a-u:c-a;if(d[1]===0&&p[1]===0){var b=[l+x,u];t.push({horizontal:Nn[0],vertical:0,pos:b}),e.push(b)}for(var w=p[0],h=p[1];h<=o;++h){var y=Nn[h]===1?l:s,m=0;if(o===h?m=a:h===0?m=u+x:kn[h]===1?m=e[r+w][1]:kn[h]===-1&&(m=c-(e[r+w][1]-u)),t.push({horizontal:0,vertical:kn[h],pos:[y,m]}),e.push([y,m]),h===0)break}}}function rN(t,e){e===void 0&&(e=t.map(function(o){return o.raw}));var r=t.map(function(o,i){return o.horizontal?e[i]:null}).filter(function(o){return o!=null}),n=t.map(function(o,i){return o.vertical?e[i]:null}).filter(function(o){return o!=null});return{horizontals:r,verticals:n}}var nN=[[0,-1,"n"],[1,0,"e"]],oN=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function ad(t,e,r){var n=t.props.clipRelative,o=t.state,i=o.width,a=o.height,s=e,c=s.type,l=s.poses,u=c==="rect",f=c==="circle";if(c==="polygon")return r.map(function(E){return"".concat(nr(E[0],i,n)," ").concat(nr(E[1],a,n))});if(u||c==="inset"){var d=r[1][1],p=r[3][0],g=r[7][0],h=r[5][1];if(u)return[d,p,h,g].map(function(E){return"".concat(E,"px")});var m=[d,i-p,a-h,g].map(function(E,C){return nr(E,C%2?i:a,n)});if(r.length>8){var y=I(lt(r[4],r[0]),2),x=y[0],b=y[1];m.push.apply(m,et(["round"],I(id(l.slice(8).map(function(E,C){return j(j({},E),{pos:r[C]})}),n,x,b,g,d,p,h).styles),!1))}return m}else if(f||c==="ellipse"){var w=r[0],_=nr(Z(r[1][1]-w[1]),f?Math.sqrt((i*i+a*a)/2):a,n),m=f?[_]:[nr(Z(r[2][0]-w[0]),i,n),_];return m.push("at",nr(w[0],i,n),nr(w[1],a,n)),m}}function vc(t,e,r,n){var o=[n,(n+e)/2,e],i=[t,(t+r)/2,r];return oN.map(function(a){var s=I(a,3),c=s[0],l=s[1],u=s[2],f=o[c+1],d=i[l+1];return{vertical:Z(l),horizontal:Z(c),direction:u,pos:[f,d]}})}function B1(t){var e=[1/0,-1/0],r=[1/0,-1/0];return t.forEach(function(n){var o=n.pos;e[0]=Math.min(e[0],o[0]),e[1]=Math.max(e[1],o[0]),r[0]=Math.min(r[0],o[1]),r[1]=Math.max(r[1],o[1])}),[Z(e[1]-e[0]),Z(r[1]-r[0])]}function L1(t,e,r,n,o){var i,a,s,c,l,u,f,d,p;if(t){var g=o;if(!g){var h=we(t),m=h("clipPath");g=m!=="none"?m:h("clip")}if(!((!g||g==="none"||g==="auto")&&(g=n,!g))){var y=Sa(g),x=y.prefix,b=x===void 0?g:x,w=y.value,_=w===void 0?"":w,E=b==="circle",C=" ";if(b==="polygon"){var T=Ne(_||"0% 0%, 100% 0%, 100% 100%, 0% 100%");C=",";var D=T.map(function(Qt){var ce=I(Qt.split(" "),2),ne=ce[0],Vt=ce[1];return{vertical:1,horizontal:1,pos:[Pt(ne,e),Pt(Vt,r)]}}),R=Tn(D.map(function(Qt){return Qt.pos}));return{type:b,clipText:g,poses:D,splitter:C,left:R.minX,right:R.maxX,top:R.minY,bottom:R.maxY}}else if(E||b==="ellipse"){var N="",M="",O=0,k=0,T=_r(_);if(E){var F="";i=I(T,4),a=i[0],F=a===void 0?"50%":a,s=i[2],N=s===void 0?"50%":s,c=i[3],M=c===void 0?"50%":c,O=Pt(F,Math.sqrt((e*e+r*r)/2)),k=O}else{var $="",V="";l=I(T,5),u=l[0],$=u===void 0?"50%":u,f=l[1],V=f===void 0?"50%":f,d=l[3],N=d===void 0?"50%":d,p=l[4],M=p===void 0?"50%":p,O=Pt($,e),k=Pt(V,r)}var L=[Pt(N,e),Pt(M,r)],D=et([{vertical:1,horizontal:1,pos:L,direction:"nesw"}],I(nN.slice(0,E?1:2).map(function(ne){return{vertical:Z(ne[1]),horizontal:ne[0],direction:ne[2],sub:!0,pos:[L[0]+ne[0]*O,L[1]+ne[1]*k]}})),!1);return{type:b,clipText:g,radiusX:O,radiusY:k,left:L[0]-O,top:L[1]-k,right:L[0]+O,bottom:L[1]+k,poses:D,splitter:C}}else if(b==="inset"){var T=_r(_||"0 0 0 0"),z=T.indexOf("round"),A=(z>-1?T.slice(0,z):T).length,B=T.slice(A+1),Y=I(T.slice(0,A),4),J=Y[0],X=Y[1],H=X===void 0?J:X,tt=Y[2],W=tt===void 0?J:tt,q=Y[3],it=q===void 0?H:q,ot=I([J,W].map(function(ne){return Pt(ne,r)}),2),U=ot[0],rt=ot[1],pt=I([it,H].map(function(ne){return Pt(ne,e)}),2),ut=pt[0],dt=pt[1],vt=e-dt,Et=r-rt,Rt=F1(B,vt-ut,Et-U,ut,U),D=et(et([],I(vc(U,vt,Et,ut)),!1),I(Rt),!1);return{type:"inset",clipText:g,poses:D,top:U,left:ut,right:vt,bottom:Et,radius:B,splitter:C}}else if(b==="rect"){var T=Ne(_||"0px, ".concat(e,"px, ").concat(r,"px, 0px"));C=",";var wt=I(T.map(function(Cr){var Pe=sr(Cr).value;return Pe}),4),Tt=wt[0],dt=wt[1],rt=wt[2],ut=wt[3],D=vc(Tt,dt,rt,ut);return{type:"rect",clipText:g,poses:D,top:Tt,right:dt,bottom:rt,left:ut,values:T,splitter:C}}}}}function iN(t,e,r,n,o){var i=t[e],a=i.direction,s=i.sub,c=t.map(function(){return[0,0]}),l=a?a.split(""):[];if(n&&e<8){var u=l.filter(function(O){return O==="w"||O==="e"}),f=l.filter(function(O){return O==="n"||O==="s"}),d=u[0],p=f[0];c[e]=r;var g=I(B1(t),2),h=g[0],m=g[1],y=h&&m?h/m:0;if(y&&o){var x=(e+4)%8,b=t[x].pos,w=[0,0];a.indexOf("w")>-1?w[0]=-1:a.indexOf("e")>-1&&(w[0]=1),a.indexOf("n")>-1?w[1]=-1:a.indexOf("s")>-1&&(w[1]=1);var _=_1([h,m],r,y,w,!0),E=h+_[0],C=m+_[1],T=b[1],D=b[1],R=b[0],N=b[0];w[0]===-1?R=N-E:w[0]===1?N=R+E:(R=R-E/2,N=N+E/2),w[1]===-1?T=D-C:(w[1]===1||(T=D-C/2),D=T+C);var M=vc(T,N,D,R);t.forEach(function(O,k){c[k][0]=M[k].pos[0]-O.pos[0],c[k][1]=M[k].pos[1]-O.pos[1]})}else t.forEach(function(O,k){var F=O.direction;F&&(F.indexOf(d)>-1&&(c[k][0]=r[0]),F.indexOf(p)>-1&&(c[k][1]=r[1]))}),d&&(c[1][0]=r[0]/2,c[5][0]=r[0]/2),p&&(c[3][1]=r[1]/2,c[7][1]=r[1]/2)}else a&&!s?l.forEach(function(O){var k=O==="n"||O==="s";t.forEach(function(F,$){var V=F.direction,L=F.horizontal,z=F.vertical;!V||V.indexOf(O)===-1||(c[$]=[k||!L?0:r[0],!k||!z?0:r[1]])})}):c[e]=r;return c}function aN(t,e){var r=I(xy(t,e),2),n=r[0],o=r[1],i=e.datas,a=i.clipPath,s=i.clipIndex,c=a,l=c.type,u=c.poses,f=c.splitter,d=u.map(function(x){return x.pos});if(l==="polygon")d.splice(s,0,[n,o]);else if(l==="inset"){var p=JO.indexOf(s),g=QO.indexOf(s),h=u.length;if(eN(u,d,8,p,g,n,o,d[4][0],d[4][1],d[0][0],d[0][1]),h===u.length)return}else return;var m=ad(t,a,d),y="".concat(l,"(").concat(m.join(f),")");at(t,"onClip",mt(t,e,j({clipEventType:"added",clipType:l,poses:d,clipStyles:m,clipStyle:y,distX:0,distY:0},ge({clipPath:y},e))))}function sN(t,e){var r=e.datas,n=r.clipPath,o=r.clipIndex,i=n,a=i.type,s=i.poses,c=i.splitter,l=s.map(function(p){return p.pos}),u=l.length;if(a==="polygon")s.splice(o,1),l.splice(o,1);else if(a==="inset"){if(o<8||(tN(s,l,o,8,u),u===s.length))return}else return;var f=ad(t,n,l),d="".concat(a,"(").concat(f.join(c),")");at(t,"onClip",mt(t,e,j({clipEventType:"removed",clipType:a,poses:l,clipStyles:f,clipStyle:d,distX:0,distY:0},ge({clipPath:d},e))))}var cN={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[`.control.clip-control {
background: #6d6;
cursor: pointer;
}
.control.clip-control.clip-radius {
background: #d66;
}
.line.clip-line {
background: #6e6;
cursor: move;
z-index: 1;
}
.clip-area {
position: absolute;
top: 0;
left: 0;
}
.clip-ellipse {
position: absolute;
cursor: move;
border: 1px solid #6d6;
border: var(--zoompx) solid #6d6;
border-radius: 50%;
transform-origin: 0px 0px;
}`,`:host {
--bounds-color: #d66;
}`,`.guideline {
pointer-events: none;
z-index: 2;
}`,`.line.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}`],render:function(t,e){var r=t.props,n=r.customClipPath,o=r.defaultClipPath,i=r.clipArea,a=r.zoom,s=r.groupable,c=t.getState(),l=c.target,u=c.width,f=c.height,d=c.allMatrix,p=c.is3d,g=c.left,h=c.top,m=c.pos1,y=c.pos2,x=c.pos3,b=c.pos4,w=c.clipPathState,_=c.snapBoundInfos,E=c.rotation;if(!l||s)return[];var C=L1(l,u,f,o||"inset",w||n);if(!C)return[];var T=p?4:3,D=C.type,R=C.poses,N=R.map(function(dt){var vt=Gt(d,dt.pos,T);return[vt[0]-g,vt[1]-h]}),M=[],O=[],k=D==="rect",F=D==="inset",$=D==="polygon";if(k||F||$){var V=F?N.slice(0,8):N;O=V.map(function(dt,vt){var Et=vt===0?V[V.length-1]:V[vt-1],Rt=Ht(Et,dt),wt=h1(Et,dt);return e.createElement("div",{key:"clipLine".concat(vt),className:ct("line","clip-line","snap-control"),"data-clip-index":vt,style:{width:"".concat(wt,"px"),transform:"translate(".concat(Et[0],"px, ").concat(Et[1],"px) rotate(").concat(Rt,"rad) scaleY(").concat(a,")")}})})}if(M=N.map(function(dt,vt){return e.createElement("div",{key:"clipControl".concat(vt),className:ct("control","clip-control","snap-control"),"data-clip-index":vt,style:{transform:"translate(".concat(dt[0],"px, ").concat(dt[1],"px) rotate(").concat(E,"rad) scale(").concat(a,")")}})}),F&&M.push.apply(M,et([],I(N.slice(8).map(function(dt,vt){return e.createElement("div",{key:"clipRadiusControl".concat(vt),className:ct("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+vt,style:{transform:"translate(".concat(dt[0],"px, ").concat(dt[1],"px) rotate(").concat(E,"rad) scale(").concat(a,")")}})})),!1)),D==="circle"||D==="ellipse"){var L=C.left,z=C.top,A=C.radiusX,B=C.radiusY,Y=I(lt(Gt(d,[L,z],T),Gt(d,[0,0],T)),2),J=Y[0],X=Y[1],H="none";if(!i){for(var tt=Math.max(10,A/5,B/5),W=[],q=0;q<=tt;++q){var it=Math.PI*2/tt*q;W.push([A+(A-a)*Math.cos(it),B+(B-a)*Math.sin(it)])}W.push([A,-2]),W.push([-2,-2]),W.push([-2,B*2+2]),W.push([A*2+2,B*2+2]),W.push([A*2+2,-2]),W.push([A,-2]),H="polygon(".concat(W.map(function(dt){return"".concat(dt[0],"px ").concat(dt[1],"px")}).join(", "),")")}M.push(e.createElement("div",{key:"clipEllipse",className:ct("clip-ellipse","snap-control"),style:{width:"".concat(A*2,"px"),height:"".concat(B*2,"px"),clipPath:H,transform:"translate(".concat(-g+J,"px, ").concat(-h+X,"px) ").concat(sc(d))}}))}if(i){var ot=ze(et([m,y,x,b],I(N),!1)),U=ot.width,rt=ot.height,pt=ot.left,ut=ot.top;if($||k||F){var W=F?N.slice(0,8):N;M.push(e.createElement("div",{key:"clipArea",className:ct("clip-area","snap-control"),style:{width:"".concat(U,"px"),height:"".concat(rt,"px"),transform:"translate(".concat(pt,"px, ").concat(ut,"px)"),clipPath:"polygon(".concat(W.map(function(vt){return"".concat(vt[0]-pt,"px ").concat(vt[1]-ut,"px")}).join(", "),")")}}))}}return _&&["vertical","horizontal"].forEach(function(dt){var vt=_[dt],Et=dt==="horizontal";vt.isSnap&&O.push.apply(O,et([],I(vt.snap.posInfos.map(function(Rt,wt){var Tt=Rt.pos,Qt=lt(Gt(d,Et?[0,Tt]:[Tt,0],T),[g,h]),ce=lt(Gt(d,Et?[u,Tt]:[Tt,f],T),[g,h]);return Ji(e,"",Qt,ce,a,"clip".concat(dt,"snap").concat(wt),"guideline")})),!1)),vt.isBound&&O.push.apply(O,et([],I(vt.bounds.map(function(Rt,wt){var Tt=Rt.pos,Qt=lt(Gt(d,Et?[0,Tt]:[Tt,0],T),[g,h]),ce=lt(Gt(d,Et?[u,Tt]:[Tt,f],T),[g,h]);return Ji(e,"",Qt,ce,a,"clip".concat(dt,"bounds").concat(wt),"guideline","bounds","bold")})),!1))}),et(et([],I(M),!1),I(O),!1)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var r=t.props,n=r.dragWithClip,o=n===void 0?!0:n;return o?!1:this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,j(j({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var r=t.state,n=t.props,o=n.defaultClipPath,i=n.customClipPath,a=r.target,s=r.width,c=r.height,l=e.inputEvent?e.inputEvent.target:null,u=l&&l.getAttribute("class")||"",f=e.datas,d=L1(a,s,c,o||"inset",i);if(!d)return!1;var p=d.clipText,g=d.type,h=d.poses,m=at(t,"onClipStart",mt(t,e,{clipType:g,clipStyle:p,poses:h.map(function(y){return y.pos})}));return m===!1?(f.isClipStart=!1,!1):(f.isControl=u&&u.indexOf("clip-control")>-1,f.isLine=u.indexOf("clip-line")>-1,f.isArea=u.indexOf("clip-area")>-1||u.indexOf("clip-ellipse")>-1,f.clipIndex=l?parseInt(l.getAttribute("data-clip-index"),10):-1,f.clipPath=d,f.isClipStart=!0,r.clipPathState=p,Dn(t,e),!0)},dragControl:function(t,e){var r,n,o,i=e.datas,a=e.originalDatas,s=e.isDragTarget;if(!i.isClipStart)return!1;var c=i,l=c.isControl,u=c.isLine,f=c.isArea,d=c.clipIndex,p=c.clipPath;if(!p)return!1;var g=On(t.props,"clippable"),h=g.keepRatio,m=0,y=0,x=a.draggable,b=wr(e);s&&x?(r=I(x.prevBeforeDist,2),m=r[0],y=r[1]):(n=I(b,2),m=n[0],y=n[1]);var w=[m,y],_=t.state,E=_.width,C=_.height,T=!f&&!l&&!u,D=p.type,R=p.poses,N=p.splitter,M=R.map(function(Mt){return Mt.pos});T&&(m=-m,y=-y);var O=!l||R[d].direction==="nesw",k=D==="inset"||D==="rect",F=R.map(function(){return[0,0]});if(l&&!O){var $=R[d],V=$.horizontal,L=$.vertical,z=[m*Z(V),y*Z(L)];F=iN(R,d,z,k,h)}else O&&(F=M.map(function(){return[m,y]}));var A=M.map(function(Mt,le){return _t(Mt,F[le])}),B=et([],I(A),!1);_.snapBoundInfos=null;var Y=p.type==="circle",J=p.type==="ellipse";if(Y||J){var X=ze(A),H=Z(X.bottom-X.top),tt=Z(J?X.right-X.left:H),W=A[0][1]+H,q=A[0][0]-tt,it=A[0][0]+tt;Y&&(B.push([it,X.bottom]),F.push([1,0])),B.push([X.left,W]),F.push([0,1]),B.push([q,X.bottom]),F.push([1,0])}var ot=o1((g.clipHorizontalGuidelines||[]).map(function(Mt){return Pt("".concat(Mt),C)}),(g.clipVerticalGuidelines||[]).map(function(Mt){return Pt("".concat(Mt),E)}),E,C),U=[],rt=[];if(Y||J)U=[B[4][0],B[2][0]],rt=[B[1][1],B[3][1]];else if(k){var pt=[B[0],B[2],B[4],B[6]],ut=[F[0],F[2],F[4],F[6]];U=pt.filter(function(Mt,le){return ut[le][0]}).map(function(Mt){return Mt[0]}),rt=pt.filter(function(Mt,le){return ut[le][1]}).map(function(Mt){return Mt[1]})}else U=B.filter(function(Mt,le){return F[le][0]}).map(function(Mt){return Mt[0]}),rt=B.filter(function(Mt,le){return F[le][1]}).map(function(Mt){return Mt[1]});var dt=[0,0],vt=Xy(ot,g.clipTargetBounds&&{left:0,top:0,right:E,bottom:C},U,rt,5,5),Et=vt.horizontal,Rt=vt.vertical,wt=Et.offset,Tt=Rt.offset;if(Et.isBound&&(dt[1]+=wt),Rt.isBound&&(dt[0]+=Tt),(J||Y)&&F[0][0]===0&&F[0][1]===0){var X=ze(A),Qt=X.bottom-X.top,ce=J?X.right-X.left:Qt,ne=Rt.isBound?Z(Tt):Rt.snapIndex===0?-Tt:Tt,Vt=Et.isBound?Z(wt):Et.snapIndex===0?-wt:wt;ce-=ne,Qt-=Vt,Y&&(Qt=$y(Rt,Et)>0?Qt:ce,ce=Qt);var Ut=B[0];B[1][1]=Ut[1]-Qt,B[2][0]=Ut[0]+ce,B[3][1]=Ut[1]+Qt,B[4][0]=Ut[0]-ce}else if(k&&h&&l){var Cr=I(B1(R),2),Pe=Cr[0],zo=Cr[1],ua=Pe&&zo?Pe/zo:0,We=R[d],An=We.direction||"",Go=B[1][1],W=B[5][1],q=B[7][0],it=B[3][0];Z(wt)<=Z(Tt)?wt=me(wt)*Z(Tt)/ua:Tt=me(Tt)*Z(wt)*ua,An.indexOf("w")>-1?q-=Tt:An.indexOf("e")>-1?it-=Tt:(q+=Tt/2,it-=Tt/2),An.indexOf("n")>-1?Go-=wt:An.indexOf("s")>-1?W-=wt:(Go+=wt/2,W-=wt/2);var _d=vc(Go,it,W,q);B.forEach(function($o,In){var Fn;Fn=I(_d[In].pos,2),$o[0]=Fn[0],$o[1]=Fn[1]})}else B.forEach(function(Mt,le){var Cc=F[le];Cc[0]&&(Mt[0]-=Tt),Cc[1]&&(Mt[1]-=wt)});var fa=ad(t,p,A),ln="".concat(D,"(").concat(fa.join(N),")");if(_.clipPathState=ln,Y||J)U=[B[4][0],B[2][0]],rt=[B[1][1],B[3][1]];else if(k){var pt=[B[0],B[2],B[4],B[6]];U=pt.map(function(le){return le[0]}),rt=pt.map(function(le){return le[1]})}else U=B.map(function(Mt){return Mt[0]}),rt=B.map(function(Mt){return Mt[1]});if(_.snapBoundInfos=Xy(ot,g.clipTargetBounds&&{left:0,top:0,right:E,bottom:C},U,rt,1,1),x){var wc=_.is3d,Sc=_.allMatrix,Td=wc?4:3,or=dt;s&&(or=[w[0]+dt[0]-b[0],w[1]+dt[1]-b[1]]),x.deltaOffset=Ot(Sc,[or[0],or[1],0,0],Td)}return at(t,"onClip",mt(t,e,j({clipEventType:"changed",clipType:D,poses:A,clipStyle:ln,clipStyles:fa,distX:m,distY:y},ge((o={},o[D==="rect"?"clip":"clipPath"]=ln,o),e)))),!0},dragControlEnd:function(t,e){this.unset(t);var r=e.isDrag,n=e.datas,o=e.isDouble,i=n.isLine,a=n.isClipStart,s=n.isControl;return a?(at(t,"onClipEnd",Me(t,e,{})),o&&(s?sN(t,e):i&&aN(t,e)),o||r):!1},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},lN={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[`:host[data-able-origindraggable] .control.origin {
pointer-events: auto;
}`],dragControlCondition:function(t,e){return e.isRequest?e.requestAble==="originDraggable":Yt(e.inputEvent.target,ct("origin"))},dragControlStart:function(t,e){var r=e.datas;Dn(t,e);var n=mt(t,e,{dragStart:ve.dragStart(t,new To().dragStart([0,0],e))}),o=at(t,"onDragOriginStart",n);return r.startOrigin=t.state.transformOrigin,r.startTargetOrigin=t.state.targetOrigin,r.prevOrigin=[0,0],r.isDragOrigin=!0,o===!1?(r.isDragOrigin=!1,!1):n},dragControl:function(t,e){var r=e.datas,n=e.isPinch,o=e.isRequest;if(!r.isDragOrigin)return!1;var i=I(wr(e),2),a=i[0],s=i[1],c=t.state,l=c.width,u=c.height,f=c.offsetMatrix,d=c.targetMatrix,p=c.is3d,g=t.props.originRelative,h=g===void 0?!0:g,m=p?4:3,y=[a,s];if(o){var x=e.distOrigin;(x[0]||x[1])&&(y=x)}var b=_t(r.startOrigin,y),w=_t(r.startTargetOrigin,y),_=lt(y,r.prevOrigin),E=Zi(f,d,b,m),C=t.getRect(),T=ze(Pn(E,l,u,m)),D=[C.left-T.left,C.top-T.top];r.prevOrigin=y;var R=[nr(w[0],l,h),nr(w[1],u,h)].join(" "),N=ve.drag(t,Ki(e,t.state,D,!!n)),M=mt(t,e,j(j({width:l,height:u,origin:b,dist:y,delta:_,transformOrigin:R,drag:N},ge({transformOrigin:R,transform:N.transform},e)),{afterTransform:N.transform}));return at(t,"onDragOrigin",M),M},dragControlEnd:function(t,e){var r=e.datas;return r.isDragOrigin?(at(t,"onDragOriginEnd",Me(t,e,{})),!0):!1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);return!!r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);return r?(t.transformOrigin=r.transformOrigin,!0):!1},request:function(t){var e={},r=t.getRect(),n=0,o=0,i=r.transformOrigin,a=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(s){return"deltaOrigin"in s?(a[0]+=s.deltaOrigin[0],a[1]+=s.deltaOrigin[1]):"origin"in s?(a[0]=s.origin[0]-i[0],a[1]=s.origin[1]-i[1]):("x"in s?n=s.x-r.left:"deltaX"in s&&(n+=s.deltaX),"y"in s?o=s.y-r.top:"deltaY"in s&&(o+=s.deltaY)),{datas:e,distX:n,distY:o,distOrigin:a}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function uN(t,e,r,n){var o=t.filter(function(c){var l=c.virtual,u=c.horizontal;return u&&!l}).length,i=t.filter(function(c){var l=c.virtual,u=c.vertical;return u&&!l}).length,a=-1;if(e===0&&(o===0?a=0:o===1&&(a=1)),e===2&&(o<=2?a=2:o<=3&&(a=3)),e===3&&(i===0?a=4:i<4&&(a=7)),e===1&&(i<=1?a=5:i<=2&&(a=6)),!(a===-1||!t[a].virtual)){var s=t[a];fN(t,a),a<4?s.pos[0]=r:s.pos[1]=n}}function fN(t,e){e<4?t.slice(0,e+1).forEach(function(r){r.virtual=!1}):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach(function(r){r.virtual=!1}))}function dN(t,e){e<4?t.slice(e,4).forEach(function(r){r.virtual=!0}):t.slice(e).forEach(function(r){r.virtual=!0})}function z1(t,e,r,n,o){n===void 0&&(n=[0,0]);var i=[];return!t||t==="0px"?i=[]:i=_r(t),F1(i,e,r,0,0,n,o)}function G1(t,e,r,n,o){var i=t.state,a=i.width,s=i.height,c=id(o,t.props.roundRelative,a,s),l=c.raws,u=c.styles,f=c.radiusPoses,d=rN(f,l),p=d.horizontals,g=d.verticals,h=u.join(" ");i.borderRadiusState=h;var m=mt(t,e,j({horizontals:p,verticals:g,borderRadius:h,width:a,height:s,delta:n,dist:r},ge({borderRadius:h},e)));return at(t,"onRound",m),m}function $1(t){var e,r,n=t.getState().style,o=n.borderRadius||"";if(!o&&t.props.groupable){var i=t.moveables[0],a=t.getTargets()[0];a&&(i?.props.target===a?(o=(r=(e=t.moveables[0])===null||e===void 0?void 0:e.state.style.borderRadius)!==null&&r!==void 0?r:"",n.borderRadius=o):(o=Kf(a).borderRadius,n.borderRadius=o))}return o}var pN={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[`.control.border-radius {
background: #d66;
cursor: pointer;
z-index: 3;
}`,`.control.border-radius.vertical {
background: #d6d;
z-index: 2;
}`,`.control.border-radius.virtual {
opacity: 0.5;
z-index: 1;
}`,`:host.round-line-clickable .line.direction {
cursor: pointer;
}`],className:function(t){var e=t.props.roundClickable;return e===!0||e==="line"?ct("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(t,e){var r=t.getState(),n=r.target,o=r.width,i=r.height,a=r.allMatrix,s=r.is3d,c=r.left,l=r.top,u=r.borderRadiusState,f=t.props,d=f.minRoundControls,p=d===void 0?[0,0]:d,g=f.maxRoundControls,h=g===void 0?[4,4]:g,m=f.zoom,y=f.roundPadding,x=y===void 0?0:y,b=f.isDisplayShadowRoundControls,w=f.groupable;if(!n)return null;var _=u||$1(t),E=s?4:3,C=z1(_,o,i,p,!0);if(!C)return null;var T=0,D=0,R=w?[0,0]:[c,l];return C.map(function(N,M){var O=N.horizontal,k=N.vertical,F=N.direction||"",$=et([],I(N.pos),!1);D+=Math.abs(O),T+=Math.abs(k),O&&F.indexOf("n")>-1&&($[1]-=x),k&&F.indexOf("w")>-1&&($[0]-=x),O&&F.indexOf("s")>-1&&($[1]+=x),k&&F.indexOf("e")>-1&&($[0]+=x);var V=lt(Gt(a,$,E),R),L=b&&b!=="horizontal",z=N.vertical?T<=h[1]&&(L||!N.virtual):D<=h[0]&&(b||!N.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(M),className:ct("control","border-radius",N.vertical?"vertical":"",N.virtual?"virtual":""),"data-radius-index":M,style:{display:z?"block":"none",transform:"translate(".concat(V[0],"px, ").concat(V[1],"px) scale(").concat(m,")")}})})},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var r=e.inputEvent.target.getAttribute("class")||"";return r.indexOf("border-radius")>-1||r.indexOf("moveable-line")>-1&&r.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragControlStart:function(t,e){var r=e.inputEvent,n=e.datas,o=r.target,i=o.getAttribute("class")||"",a=i.indexOf("border-radius")>-1,s=i.indexOf("moveable-line")>-1&&i.indexOf("moveable-direction")>-1,c=a?parseInt(o.getAttribute("data-radius-index"),10):-1,l=-1;if(s){var u=o.getAttribute("data-line-key")||"";u&&(l=parseInt(u.replace(/render-line-/g,""),10),isNaN(l)&&(l=-1))}if(!a&&!s)return!1;var f=mt(t,e,{}),d=at(t,"onRoundStart",f);if(d===!1)return!1;n.lineIndex=l,n.controlIndex=c,n.isControl=a,n.isLine=s,Dn(t,e);var p=t.props,g=p.roundRelative,h=p.minRoundControls,m=h===void 0?[0,0]:h,y=t.state,x=y.width,b=y.height;n.isRound=!0,n.prevDist=[0,0];var w=$1(t),_=z1(w||"",x,b,m,!0)||[];return n.controlPoses=_,y.borderRadiusState=id(_,g,x,b).styles.join(" "),f},dragControl:function(t,e){var r=e.datas,n=r.controlPoses;if(!r.isRound||!r.isControl||!n.length)return!1;var o=r.controlIndex,i=I(wr(e),2),a=i[0],s=i[1],c=[a,s],l=lt(c,r.prevDist),u=t.props.maxRoundControls,f=u===void 0?[4,4]:u,d=t.state,p=d.width,g=d.height,h=n[o],m=h.vertical,y=h.horizontal,x=n.map(function(w){var _=w.horizontal,E=w.vertical,C=[_*y*c[0],E*m*c[1]];if(_){if(f[0]===1)return C;if(f[0]<4&&_!==y)return C}else{if(f[1]===0)return C[1]=E*y*c[0]/p*g,C;if(m){if(f[1]===1)return C;if(f[1]<4&&E!==m)return C}}return[0,0]});x[o]=c;var b=n.map(function(w,_){return j(j({},w),{pos:_t(w.pos,x[_])})});return o<4?b.slice(0,o+1).forEach(function(w){w.virtual=!1}):b.slice(4,o+1).forEach(function(w){w.virtual=!1}),r.prevDist=[a,s],G1(t,e,c,l,b)},dragControlEnd:function(t,e){var r=t.state;r.borderRadiusState="";var n=e.datas,o=e.isDouble;if(!n.isRound)return!1;var i=n.isControl,a=n.controlIndex,s=n.isLine,c=n.lineIndex,l=n.controlPoses,u=l.filter(function(y){var x=y.virtual;return x}).length,f=t.props.roundClickable,d=f===void 0?!0:f;if(o&&d){if(i&&(d===!0||d==="control"))dN(l,a);else if(s&&(d===!0||d==="line")){var p=I(xy(t,e),2),g=p[0],h=p[1];uN(l,c,g,h)}u!==l.filter(function(y){var x=y.virtual;return x}).length&&G1(t,e,[0,0],[0,0],l)}var m=Me(t,e,{});return at(t,"onRoundEnd",m),r.borderRadiusState="",m},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);if(!r)return!1;var n=t.moveables,o=t.props.targets,i=rr(t,"roundable",e),a=j({targets:t.props.targets,events:i.map(function(s,c){return j(j({},s),{target:o[c],moveable:n[c],currentTarget:n[c]})})},r);return at(t,"onRoundGroupStart",a),r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);if(!r)return!1;var n=t.moveables,o=t.props.targets,i=rr(t,"roundable",e),a=j({targets:t.props.targets,events:i.map(function(s,c){return j(j(j({},s),{target:o[c],moveable:n[c],currentTarget:n[c]}),ge({borderRadius:r.borderRadius},s))})},r);return at(t,"onRoundGroup",a),a},dragGroupControlEnd:function(t,e){var r=t.moveables,n=t.props.targets,o=rr(t,"roundable",e);uc(t,"onRound",function(s){var c=j({targets:t.props.targets,events:o.map(function(l,u){return j(j(j({},l),{target:n[u],moveable:r[u],currentTarget:r[u]}),ge({borderRadius:s.borderRadius},l))})},s);at(t,"onRoundGroup",c)});var i=this.dragControlEnd(t,e);if(!i)return!1;var a=j({targets:t.props.targets,events:o.map(function(s,c){var l;return j(j({},s),{target:n[c],moveable:r[c],currentTarget:r[c],lastEvent:(l=s.datas)===null||l===void 0?void 0:l.lastEvent})})},i);return at(t,"onRoundGroupEnd",a),a},unset:function(t){t.state.borderRadiusState=""}};function hN(t,e){var r=e?4:3,n=It(r),o="matrix".concat(e?"3d":"","(").concat(n.join(","),")");return t===o||t==="matrix(1,0,0,1,0,0)"}var V1={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(t,e){var r=t.state,n=r.is3d,o=r.targetMatrix,i=r.inlineTransform,a=n?"matrix3d(".concat(o.join(","),")"):"matrix(".concat(ry(o,!0),")"),s=!i||i==="none"?a:i;e.datas.startTransforms=hN(s,n)?[]:_r(s)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return mt(t,e,{setTransform:function(r){e.datas.startTransforms=Dt(r)?r:_r(r)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return mt(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),at(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){e.datas.startTransforms||this.setTransform(t,e),this.resetStyle(e),at(t,"onBeforeRender",mt(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){e.datas.startTransforms||(this.setTransform(t,e),this.resetStyle(e)),at(t,"onBeforeRenderEnd",mt(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var r=this;this.dragStart(t,e);var n=rr(t,"beforeRenderable",e),o=t.moveables,i=n.map(function(a,s){var c=o[s];return r.setTransform(c,a),r.resetStyle(a),r.fillDragStartParams(c,a)});at(t,"onBeforeRenderGroupStart",mt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:i}))},dragGroup:function(t,e){var r=this;this.drag(t,e);var n=rr(t,"beforeRenderable",e),o=t.moveables,i=n.map(function(a,s){var c=o[s];return r.resetStyle(a),r.fillDragParams(c,a)});at(t,"onBeforeRenderGroup",mt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:i}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),at(t,"onBeforeRenderGroupEnd",mt(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},W1={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(t,e){at(t,"onRenderStart",mt(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){at(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){return this.drag(t,e)},dragEnd:function(t,e){at(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){at(t,"onRenderGroupStart",mt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var r=this,n=rr(t,"beforeRenderable",e),o=t.moveables,i=n.map(function(a,s){var c=o[s];return r.fillDragParams(c,a)});at(t,"onRenderGroup",mt(t,e,j(j({isPinch:!!e.isPinch,targets:t.props.targets,transform:Ks(e),transformObject:{}},ge(Zs(e))),{events:i})))},dragGroupEnd:function(t,e){var r=this,n=rr(t,"beforeRenderable",e),o=t.moveables,i=n.map(function(a,s){var c=o[s];return r.fillDragEndParams(c,a)});at(t,"onRenderGroupEnd",mt(t,e,j({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:i,transformObject:{},transform:Ks(e)},ge(Zs(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){var r={};return So(qs(e)||[]).forEach(function(n){r[n.name]=n.functionValue}),mt(t,e,j({isPinch:!!e.isPinch,transformObject:r,transform:Ks(e)},ge(Zs(e))))},fillDragEndParams:function(t,e){var r={};return So(qs(e)||[]).forEach(function(n){r[n.name]=n.functionValue}),mt(t,e,j({isPinch:!!e.isPinch,isDrag:e.isDrag,transformObject:r,transform:Ks(e)},ge(Zs(e))))}};function ia(t,e,r,n,o,i,a){i.clientDistX=i.distX,i.clientDistY=i.distY;var s=o==="Start",c=o==="End",l=o==="After",u=t.state.target,f=i.isRequest,d=n.indexOf("Control")>-1;if(!u||s&&d&&!f&&t.areaElement===i.inputEvent.target)return!1;var p=et([],I(e),!1);if(f){var g=i.requestAble;p.some(function(M){return M.name===g})||p.push.apply(p,et([],I(t.props.ables.filter(function(M){return M.name===g})),!1))}if(!p.length||p.every(function(M){return M.dragRelation}))return!1;var h=i.inputEvent,m;c&&h&&(m=document.elementFromPoint(i.clientX,i.clientY)||h.target);var y=!1,x=function(){var M;y=!0,(M=i.stop)===null||M===void 0||M.call(i)},b=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());b&&t.updateRect(o,!0,!1);var w=i.datas,_=d?"controlGesto":"targetGesto",E=t[_],C=function(M,O,k){if(!(O in M)||E!==t[_])return!1;var F=M.name,$=w[F]||(w[F]={});if(s&&($.isEventStart=!k||!M[k]||M[k](t,i)),!$.isEventStart)return!1;var V=M[O](t,j(j({},i),{stop:x,datas:$,originalDatas:w,inputTarget:m}));return t._emitter.off(),s&&V===!1&&($.isEventStart=!1),V};b&&p.forEach(function(M){M.unset&&M.unset(t)}),C(V1,"drag".concat(n).concat(o));var T=0,D=0;r.forEach(function(M){if(y)return!1;var O="".concat(M).concat(n).concat(o),k="".concat(M).concat(n,"Condition");o===""&&!f&&FO(t.state,i);var F=p.filter(function(L){return L[O]});F=F.filter(function(L,z){return L.name&&F.indexOf(L)===z});var $=F.filter(function(L){return C(L,O,k)}),V=$.length;y&&++T,V&&++D,!y&&s&&F.length&&!V&&(T+=F.filter(function(L){var z=L.name,A=w[z];return A.isEventStart?L.dragRelation!=="strong":!1}).length?1:0)}),(!l||D)&&C(W1,"drag".concat(n).concat(o));var R=E!==t[_]||T===r.length;if((c||y||R)&&(t.state.gestos={},t.moveables&&t.moveables.forEach(function(M){M.state.gestos={}}),p.forEach(function(M){M.unset&&M.unset(t)})),s&&!R&&!f&&D&&t.props.preventDefault&&i?.preventDefault(),t.isUnmounted||R)return!1;if(!s&&D&&!a||c){var N=t.props.flushSync||u1;N(function(){t.updateRect(c?o:"",!0,!1),t.forceUpdate()})}return!s&&!c&&!l&&D&&!a&&ia(t,e,r,n,o+"After",i),!0}function sd(t,e){return function(r,n){var o;n===void 0&&(n=r.inputEvent.target);var i=n,a=t.areaElement,s=t._dragTarget;return!s||!e&&(!((o=t.controlGesto)===null||o===void 0)&&o.isFlag())?!1:i===s||s.contains(i)||i===a||!t.isMoveableElement(i)&&!t.controlBox.contains(i)||Yt(i,"moveable-area")||Yt(i,"moveable-padding")||Yt(i,"moveable-edgeDraggable")}}function H1(t,e,r){var n=t.controlBox,o=[],i=t.props,a=i.dragArea,s=t.state.target,c=i.dragTarget;o.push(n),(!a||c)&&o.push(e),!a&&c&&s&&e!==s&&i.dragTargetSelf&&o.push(s);var l=sd(t);return U1(t,o,"targetAbles",r,{dragStart:l,pinchStart:l})}function Y1(t,e){var r=t.controlBox,n=[];n.push(r);var o=sd(t,!0),i=function(a,s){if(s===void 0&&(s=a.inputEvent.target),s===r)return!0;var c=o(a,s);return!c};return U1(t,n,"controlAbles",e,{dragStart:i,pinchStart:i})}function U1(t,e,r,n,o){o===void 0&&(o={});var i=r==="targetAbles",a=t.props,s=a.pinchOutside,c=a.pinchThreshold,l=a.preventClickEventOnDrag,u=a.preventClickDefault,f=a.checkInput,d=a.dragFocusedInput,p=a.preventDefault,g=p===void 0?!0:p,h=a.preventRightClick,m=h===void 0?!0:h,y=a.preventWheelClick,x=y===void 0?!0:y,b=a.dragContainer,w=Sr(b,!0),_={preventDefault:g,preventRightClick:m,preventWheelClick:x,container:w||Ee(t.getControlBoxElement()),pinchThreshold:c,pinchOutside:s,preventClickEventOnDrag:i?l:!1,preventClickEventOnDragStart:i?u:!1,preventClickEventByCondition:i?null:function(T){return t.controlBox.contains(T.target)},checkInput:i?f:!1,dragFocusedInput:d},E=new fy(e,_),C=n==="Control";return["drag","pinch"].forEach(function(T){["Start","","End"].forEach(function(D){E.on("".concat(T).concat(D),function(R){var N,M=R.eventType,O=T==="drag"&&R.isPinch;if(o[M]&&!o[M](R)){R.stop();return}if(!O){var k=T==="drag"?[T]:["drag",T],F=et([],I(t[r]),!1),$=ia(t,F,k,n,D,R);$?(t.props.stopPropagation||D==="Start"&&C)&&((N=R?.inputEvent)===null||N===void 0||N.stopPropagation()):R.stop()}})})}),E}var vN=function(){function t(e,r,n){var o=this;this.target=e,this.moveable=r,this.eventName=n,this.ables=[],this._onEvent=function(i){var a=o.eventName,s=o.moveable;s.state.disableNativeEvent||o.ables.forEach(function(c){c[a](s,{inputEvent:i})})},e.addEventListener(n.toLowerCase(),this._onEvent)}return t.prototype.setAbles=function(e){this.ables=e},t.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function gN(t,e,r,n){var o;r===void 0&&(r=e);var i=_y(t,e),a=i.matrixes,s=i.is3d,c=i.targetMatrix,l=i.transformOrigin,u=i.targetOrigin,f=i.offsetContainer,d=i.hasFixed,p=i.zoom,g=PP(f,r),h=g.matrixes,m=g.is3d,y=g.offsetContainer,x=g.zoom,b=n,w=4,_=t.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in t,E=c,C=It(w),T=It(w),D=It(w),R=It(w),N=a.length,M=h.map(function(z){return j(j({},z),{matrix:z.matrix?et([],I(z.matrix),!1):void 0})}).reverse();a.reverse(),!s&&b&&(E=er(E,3,4),Hf(a)),!m&&b&&Hf(M),M.forEach(function(z){T=Ot(T,z.matrix,w)});var O=r||Ar(t),k=((o=M[0])===null||o===void 0?void 0:o.target)||ra(O,O,!0).offsetParent,F=M.slice(1).reduce(function(z,A){return Ot(z,A.matrix,w)},It(w));a.forEach(function(z,A){if(N-2===A&&(D=C.slice()),N-1===A&&(R=C.slice()),!z.matrix){var B=a[A+1],Y=kO(z,B,k,w,Ot(F,C,w));z.matrix=_n(Y,w)}C=Ot(C,z.matrix,w)});var $=!_&&s;E||(E=It($?4:3));var V=sc(_&&E.length===16?er(E,4,3):E,$),L=T;return T=ty(T,w,w),{hasZoom:p!==1||x!==1,hasFixed:d,matrixes:a,rootMatrix:T,originalRootMatrix:L,beforeMatrix:D,offsetMatrix:R,allMatrix:C,targetMatrix:E,targetTransform:V,inlineTransform:t.style.transform,transformOrigin:l,targetOrigin:u,is3d:b,offsetContainer:f,offsetRootContainer:y}}function X1(t,e,r,n){r===void 0&&(r=e);var o=0,i=0,a=0,s={},c=v1(t);if(t&&(o=c.offsetWidth,i=c.offsetHeight),t){var l=gN(t,e,r,n),u=Do(l.allMatrix,l.transformOrigin,o,i);s=j(j({},l),u);var f=Do(l.allMatrix,[50,50],100,100);a=g1([f.pos1,f.pos2],f.direction)}var d=4;return j(j(j({hasZoom:!1,width:o,height:i,rotation:a},c),{originalRootMatrix:It(d),rootMatrix:It(d),beforeMatrix:It(d),offsetMatrix:It(d),allMatrix:It(d),targetMatrix:It(d),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!0,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),s)}function mN(t,e,r){return r===void 0&&(r=e),X1(t,e,r,!0)}function cd(t,e,r,n,o,i){i===void 0&&(i=[]);var a=1,s=[0,0],c=lc(),l=lc(),u=lc(),f=lc(),d=[0,0],p={},g=X1(e,r,o,!0);if(e){var h=we(e);i.forEach(function(M){p[M]=h(M)});var m=g.is3d?4:3,y=Do(g.offsetMatrix,_t(g.transformOrigin,ey(g.targetMatrix,m)),g.width,g.height);a=y.direction,s=_t(y.origin,[y.left-g.left,y.top-g.top]),f=oa(g.offsetRootContainer);var x=ra(n,n,!0).offsetParent||g.offsetRootContainer;if(g.hasZoom){var b=Do(Ot(g.originalRootMatrix,g.allMatrix),g.transformOrigin,g.width,g.height),w=Do(g.originalRootMatrix,ac(we(x)("transformOrigin")).map(function(M){return parseFloat(M)}),x.offsetWidth,x.offsetHeight);if(c=Uf(b,f),u=Uf(w,f,x,!0),t){var _=b.left,E=b.top;l=Uf({left:_,top:E,bottom:E,right:E},f)}}else{c=oa(e),u=MP(x),t&&(l=oa(t));var C=u.left,T=u.top,D=u.clientLeft,R=u.clientTop,N=[c.left-C,c.top-T];d=lt(Ao(g.rootMatrix,N,4),[D+g.left,R+g.top])}}return j({targetClientRect:c,containerClientRect:u,moveableClientRect:l,rootContainerClientRect:f,beforeDirection:a,beforeOrigin:s,originalBeforeOrigin:s,target:e,style:p,offsetDelta:d},g)}function q1(t){var e=t.pos1,r=t.pos2,n=t.pos3,o=t.pos4;if(!e||!r||!n||!o)return null;var i=Tn([e,r,n,o]),a=[i.minX,i.minY],s=lt(t.origin,a);return e=lt(e,a),r=lt(r,a),n=lt(n,a),o=lt(o,a),j(j({},t),{left:t.left,top:t.top,posDelta:a,pos1:e,pos2:r,pos3:n,pos4:o,origin:s,beforeOrigin:s,isPersisted:!0})}var Fo=function(t){Xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state=j({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},cd(null)),r.renderState={},r.enabledAbles=[],r.targetAbles=[],r.controlAbles=[],r.rotation=0,r.scale=[1,1],r.isMoveableMounted=!1,r.isUnmounted=!1,r.events={mouseEnter:null,mouseLeave:null},r._emitter=new Ir,r._prevOriginalDragTarget=null,r._originalDragTarget=null,r._prevDragTarget=null,r._dragTarget=null,r._prevPropTarget=null,r._propTarget=null,r._prevDragArea=!1,r._isPropTargetChanged=!1,r._hasFirstTarget=!1,r._reiszeObserver=null,r._observerId=0,r._mutationObserver=null,r._rootContainer=null,r._viewContainer=null,r._viewClassNames=[],r._store={},r.checkUpdateRect=function(){if(!r.isDragging()){var n=r.props.parentMoveable;if(n){n.checkUpdateRect();return}ep(r._observerId),r._observerId=Ca(function(){r.isDragging()||r.updateRect()})}},r._onPreventClick=function(n){n.stopPropagation(),n.preventDefault()},r}return e.prototype.render=function(){var r=this.props,n=this.getState(),o=r.parentPosition,i=r.className,a=r.target,s=r.zoom,c=r.cspNonce,l=r.translateZ,u=r.cssStyled,f=r.groupable,d=r.linePadding,p=r.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var g=I(o||[0,0],2),h=g[0],m=g[1],y=n.left,x=n.top,b=n.target,w=n.direction,_=n.hasFixed,E=n.offsetDelta,C=r.targets,T=this.isDragging(),D={};this.getEnabledAbles().forEach(function(F){D["data-able-".concat(F.name.toLowerCase())]=!0});var R=this._getAbleClassName(),N=C&&C.length&&(b||f)||a||!this._hasFirstTarget&&this.state.isPersisted,M=this.controlBox||this.props.firstRenderState||this.props.persistData,O=[y-h,x-m];!f&&r.useAccuratePosition&&(O[0]+=E[0],O[1]+=E[1]);var k={position:_?"fixed":"absolute",display:N?"block":"none",visibility:M?"visible":"hidden",transform:"translate3d(".concat(O[0],"px, ").concat(O[1],"px, ").concat(l,")"),"--zoom":s,"--zoompx":"".concat(s,"px")};return d&&(k["--moveable-line-padding"]=d),p&&(k["--moveable-control-padding"]=p),S.createElement(u,j({cspNonce:c,ref:rn(this,"controlBox"),className:"".concat(ct("control-box",w===-1?"reverse":"",T?"dragging":"")," ").concat(R," ").concat(i)},D,{onClick:this._onPreventClick,style:k}),this.renderAbles(),this._renderLines())},e.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var r=this.props,n=r.parentMoveable,o=r.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!o&&!n&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},e.prototype.componentDidUpdate=function(r){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(r)},e.prototype.componentWillUnmount=function(){var r,n;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),(r=this._reiszeObserver)===null||r===void 0||r.disconnect(),(n=this._mutationObserver)===null||n===void 0||n.disconnect();var o=this._viewContainer;o&&this._changeAbleViewClassNames([]),ko(this,!1),ko(this,!0);var i=this.events;for(var a in i){var s=i[a];s&&s.destroy()}},e.prototype.getTargets=function(){var r=this.props.target;return r?[r]:[]},e.prototype.getAble=function(r){var n=this.props.ables||[];return xe(n,function(o){return o.name===r})},e.prototype.getContainer=function(){var r=this.props,n=r.parentMoveable,o=r.wrapperMoveable,i=r.container;return i||o&&o.getContainer()||n&&n.getContainer()||this.controlBox.parentElement},e.prototype.getControlBoxElement=function(){return this.controlBox},e.prototype.getDragElement=function(){return this._dragTarget},e.prototype.isMoveableElement=function(r){var n;return r&&(((n=r.getAttribute)===null||n===void 0?void 0:n.call(r,"class"))||"").indexOf(wf)>-1},e.prototype.dragStart=function(r,n){n===void 0&&(n=r.target);var o=this.targetGesto,i=this.controlGesto;return o&&sd(this)({inputEvent:r},n)?o.isFlag()||o.triggerDragStart(r):i&&this.isMoveableElement(n)&&(i.isFlag()||i.triggerDragStart(r)),this},e.prototype.hitTest=function(r){var n=this.state,o=n.target,i=n.pos1,a=n.pos2,s=n.pos3,c=n.pos4,l=n.targetClientRect;if(!o)return 0;var u;if(ri(r)){var f=r.getBoundingClientRect();u={left:f.left,top:f.top,width:f.width,height:f.height}}else u=j({width:0,height:0},r);var d=u.left,p=u.top,g=u.width,h=u.height,m=uf([i,a,c,s],l),y=$M(m,[[d,p],[d+g,p],[d+g,p+h],[d,p+h]]),x=Yi(m);return!y||!x?0:Math.min(100,y/x*100)},e.prototype.isInside=function(r,n){var o=this.state,i=o.target,a=o.pos1,s=o.pos2,c=o.pos3,l=o.pos4,u=o.targetClientRect;return i?Gs([r,n],uf([a,s,l,c],u)):!1},e.prototype.updateRect=function(r,n,o){o===void 0&&(o=!0);var i=this.props,a=!i.parentPosition&&!i.wrapperMoveable;a&&Po(!0);var s=i.parentMoveable,c=this.state,l=c.target||i.target,u=this.getContainer(),f=s?s._rootContainer:this._rootContainer,d=cd(this.controlBox,l,u,u,f||u,this._getRequestStyles());if(!l&&this._hasFirstTarget&&i.persistData){var p=q1(i.persistData);for(var g in p)d[g]=p[g]}a&&Po(),this.updateState(d,s?!1:o)},e.prototype.isDragging=function(r){var n,o,i=this.targetGesto,a=this.controlGesto;if(i?.isFlag()){if(!r)return!0;var s=i.getEventData();return!!(!((n=s[r])===null||n===void 0)&&n.isEventStart)}if(a?.isFlag()){if(!r)return!0;var s=a.getEventData();return!!(!((o=s[r])===null||o===void 0)&&o.isEventStart)}return!1},e.prototype.updateTarget=function(r){this.updateRect(r,!0)},e.prototype.getRect=function(){var r=this.state,n=$e(this.state),o=I(n,4),i=o[0],a=o[1],s=o[2],c=o[3],l=ze(n),u=r.width,f=r.height,d=l.width,p=l.height,g=l.left,h=l.top,m=[r.left,r.top],y=_t(m,r.origin),x=_t(m,r.beforeOrigin),b=r.transformOrigin;return{width:d,height:p,left:g,top:h,pos1:i,pos2:a,pos3:s,pos4:c,offsetWidth:u,offsetHeight:f,beforeOrigin:x,origin:y,transformOrigin:b,rotation:this.getRotation()}},e.prototype.getManager=function(){return this},e.prototype.stopDrag=function(r){if(!r||r==="target"){var n=this.targetGesto;n?.isIdle()===!1&&qf(this,!1),n?.stop()}if(!r||r==="control"){var n=this.controlGesto;n?.isIdle()===!1&&qf(this,!0),n?.stop()}},e.prototype.getRotation=function(){var r=this.state,n=r.pos1,o=r.pos2,i=r.direction;return zO(n,o,i)},e.prototype.request=function(r,n,o){n===void 0&&(n={});var i=this,a=i.props,s=a.parentMoveable||a.wrapperMoveable||i,c=s.props.ables,l=a.groupable,u=xe(c,function(y){return y.name===r});if(this.isDragging()||!u||!u.request)return{request:function(){return this},requestEnd:function(){return this}};var f=u.request(i),d=o||n.isInstant,p=f.isControl?"controlAbles":"targetAbles",g="".concat(l?"Group":"").concat(f.isControl?"Control":""),h=et([],I(s[p]),!1),m={request:function(y){return ia(i,h,["drag"],g,"",j(j({},f.request(y)),{requestAble:r,isRequest:!0}),d),m},requestEnd:function(){return ia(i,h,["drag"],g,"End",j(j({},f.requestEnd()),{requestAble:r,isRequest:!0}),d),m}};return ia(i,h,["drag"],g,"Start",j(j({},f.requestStart(n)),{requestAble:r,isRequest:!0}),d),d?m.request(n).requestEnd():m},e.prototype.getMoveables=function(){return[this]},e.prototype.destroy=function(){this.componentWillUnmount()},e.prototype.updateRenderPoses=function(){var r=this.getState(),n=this.props,o=n.padding,i=r.originalBeforeOrigin,a=r.transformOrigin,s=r.allMatrix,c=r.is3d,l=r.pos1,u=r.pos2,f=r.pos3,d=r.pos4,p=r.left,g=r.top,h=r.isPersisted,m=n.zoom||1;if(!o&&m<=1){r.renderPoses=[l,u,f,d],r.renderLines=[[l,u],[u,d],[d,f],[f,l]];return}var y=R1(o||{}),x=y.left,b=y.top,w=y.bottom,_=y.right,E=c?4:3,C=[];h?C=a:this.controlBox&&n.groupable?C=i:C=_t(i,[p,g]);var T=Fs(E,_n(C.map(function(k){return-k}),E),s,_n(a,E)),D=Ve(T,l,[-x,-b],E),R=Ve(T,u,[_,-b],E),N=Ve(T,f,[-x,w],E),M=Ve(T,d,[_,w],E);r.renderPoses=[D,R,N,M],r.renderLines=[[D,R],[R,M],[M,N],[N,D]];{var O=m/2;r.renderLines=[[Ve(T,l,[-x-O,-b],E),Ve(T,u,[_+O,-b],E)],[Ve(T,u,[_,-b-O],E),Ve(T,d,[_,w+O],E)],[Ve(T,d,[_+O,w],E),Ve(T,f,[-x-O,w],E)],[Ve(T,f,[-x,w+O],E),Ve(T,l,[-x,-b-O],E)]]}},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var r=this.props,n=r.target,o=r.container,i=r.parentMoveable,a=this.state,s=a.target,c=a.container;if(!(!s&&!n)){this.updateAbles();var l=!Zf(s,n),u=l||!Zf(c,o);if(u){var f=o||this.controlBox;f&&this.unsetAbles(),this.updateState({target:n,container:o}),!i&&f&&this.updateRect("End",!1,!1),this._isPropTargetChanged=l}}},e.prototype.waitToChangeTarget=function(){return new Promise(function(){})},e.prototype.triggerEvent=function(r,n){var o=this.props;if(this._emitter.trigger(r,n),o.parentMoveable&&n.isRequest&&!n.isRequestChild)return o.parentMoveable.triggerEvent(r,n,!0);var i=o[r];return i&&i(n)},e.prototype.useCSS=function(r,n){var o=this.props.customStyledMap,i=r+n;return o[i]||(o[i]=dy(r,n)),o[i]},e.prototype.getState=function(){var r,n=this.props;(n.target||!((r=n.targets)===null||r===void 0)&&r.length)&&(this._hasFirstTarget=!0);var o=this.controlBox,i=n.persistData,a=n.firstRenderState;if(a&&!o)return a;if(!this._hasFirstTarget&&i){var s=q1(i);if(s)return this.updateState(s,!1),this.state}return this.state.isPersisted=!1,this.state},e.prototype.updateSelectors=function(){},e.prototype.unsetAbles=function(){var r=this;this.targetAbles.forEach(function(n){n.unset&&n.unset(r)})},e.prototype.updateAbles=function(r,n){r===void 0&&(r=this.props.ables),n===void 0&&(n="");var o=this.props,i=o.triggerAblesSimultaneously,a=this.getEnabledAbles(r),s="drag".concat(n,"Start"),c="pinch".concat(n,"Start"),l="drag".concat(n,"ControlStart"),u=fc(a,[s,c],i),f=fc(a,[l],i);this.enabledAbles=a,this.targetAbles=u,this.controlAbles=f},e.prototype.updateState=function(r,n){if(n){if(this.isUnmounted)return;this.setState(r)}else{var o=this.state;for(var i in r)o[i]=r[i]}},e.prototype.getEnabledAbles=function(r){r===void 0&&(r=this.props.ables);var n=this.props;return r.filter(function(o){return o&&(o.always&&n[o.name]!==!1||n[o.name])})},e.prototype.renderAbles=function(){var r=this,n=this.props,o=n.triggerAblesSimultaneously,i={createElement:K.createElement};return this.renderState={},IO(C1(fc(this.getEnabledAbles(),["render"],o).map(function(a){var s=a.render;return s(r,i)||[]})).filter(function(a){return a}),function(a){var s=a.key;return s}).map(function(a){return a[0]})},e.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e.prototype._getRequestStyles=function(){var r=this.getEnabledAbles().reduce(function(n,o){var i,a,s=(a=(i=o.requestStyle)===null||i===void 0?void 0:i.call(o))!==null&&a!==void 0?a:[];return et(et([],I(n),!1),I(s),!1)},et([],I(this.props.requestStyles||[]),!1));return r},e.prototype._updateObserver=function(r){this._updateResizeObserver(r),this._updateMutationObserver(r)},e.prototype._updateEvents=function(){var r=this.targetAbles.length,n=this.controlAbles.length,o=this._dragTarget,i=!r&&this.targetGesto||this._isTargetChanged(!0);i&&(ko(this,!1),this.updateState({gestos:{}})),n||ko(this,!0),o&&r&&!this.targetGesto&&(this.targetGesto=H1(this,o,"")),!this.controlGesto&&n&&(this.controlGesto=Y1(this,"Control"))},e.prototype._updateTargets=function(){var r=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=r.dragArea,this._propTarget=r.target,this._originalDragTarget=r.dragTarget||r.target,this._dragTarget=Sr(this._originalDragTarget,!0)},e.prototype._renderLines=function(){var r=this.props,n=r,o=n.zoom,i=n.hideDefaultLines,a=n.hideChildMoveableDefaultLines,s=n.parentMoveable;if(i||s&&a)return[];var c=this.getState(),l={createElement:K.createElement};return c.renderLines.map(function(u,f){return Ji(l,"",u[0],u[1],o,"render-line-".concat(f))})},e.prototype._isTargetChanged=function(r){var n=this.props,o=n.dragTarget||n.target,i=this._prevOriginalDragTarget,a=this._prevDragArea,s=n.dragArea,c=!s&&i!==o,l=(r||s)&&a!==s;return c||l||this._prevPropTarget!=this._propTarget},e.prototype._updateNativeEvents=function(){var r=this,n=this.props,o=n.dragArea?this.areaElement:this.state.target,i=this.events,a=ke(i);if(this._isTargetChanged())for(var s in i){var c=i[s];c&&c.destroy(),i[s]=null}if(o){var l=this.enabledAbles;a.forEach(function(u){var f=fc(l,[u]),d=f.length>0,p=i[u];if(!d){p&&(p.destroy(),i[u]=null);return}p||(p=new vN(o,r,u),i[u]=p),p.setAbles(f)})}},e.prototype._checkUpdateRootContainer=function(){var r=this.props.rootContainer;!this._rootContainer&&r&&(this._rootContainer=Sr(r,!0))},e.prototype._checkUpdateViewContainer=function(){var r=this.props.viewContainer;!this._viewContainer&&r&&(this._viewContainer=Sr(r,!0));var n=this._viewContainer;n&&this._changeAbleViewClassNames(et(et([],I(this._getAbleViewClassNames()),!1),[this.isDragging()?UO:""],!1))},e.prototype._changeAbleViewClassNames=function(r){var n=this._viewContainer,o=S1(r.filter(Boolean),function(l){return l}).map(function(l){var u=I(l,1),f=u[0];return f}),i=this._viewClassNames,a=sf(i,o),s=a.removed,c=a.added;s.forEach(function(l){Hn(n,i[l])}),c.forEach(function(l){ei(n,o[l])}),this._viewClassNames=o},e.prototype._getAbleViewClassNames=function(){var r=this;return(this.getEnabledAbles().map(function(n){var o;return((o=n.viewClassName)===null||o===void 0?void 0:o.call(n,r))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},e.prototype._getAbleClassName=function(r){var n=this;r===void 0&&(r="");var o=this.getEnabledAbles(),i=this.targetGesto,a=this.controlGesto,s=i?.isFlag()?i.getEventData():{},c=a?.isFlag()?a.getEventData():{};return o.map(function(l){var u,f,d,p=l.name,g=((u=l.className)===null||u===void 0?void 0:u.call(l,n))||"";return(!((f=s[p])===null||f===void 0)&&f.isEventStart||!((d=c[p])===null||d===void 0)&&d.isEventStart)&&(g+=" ".concat(ct("".concat(p).concat(r,"-dragging")))),g.trim()}).filter(Boolean).join(" ")},e.prototype._updateResizeObserver=function(r){var n,o=this.props,i=o.target,a=Ee(this.getControlBoxElement());if(!a.ResizeObserver||!i||!o.useResizeObserver){(n=this._reiszeObserver)===null||n===void 0||n.disconnect();return}if(!(r.target===i&&this._reiszeObserver)){var s=new a.ResizeObserver(this.checkUpdateRect);s.observe(i,{box:"border-box"}),this._reiszeObserver=s}},e.prototype._updateMutationObserver=function(r){var n=this,o,i=this.props,a=i.target,s=Ee(this.getControlBoxElement());if(!s.MutationObserver||!a||!i.useMutationObserver){(o=this._mutationObserver)===null||o===void 0||o.disconnect();return}if(!(r.target===a&&this._mutationObserver)){var c=new s.MutationObserver(function(l){var u,f;try{for(var d=ZM(l),p=d.next();!p.done;p=d.next()){var g=p.value;g.type==="attributes"&&g.attributeName==="style"&&n.checkUpdateRect()}}catch(h){u={error:h}}finally{try{p&&!p.done&&(f=d.return)&&f.call(d)}finally{if(u)throw u.error}}});c.observe(a,{attributes:!0}),this._mutationObserver=c}},e.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:u1,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},e}(S.PureComponent),ld={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(t,e){var r,n=t.props,o=n.targets||[],i=t.getState(),a=i.left,s=i.top,c=i.isPersisted,l=n.zoom||1,u=t.renderGroupRects,f=((r=n.persistData)===null||r===void 0?void 0:r.children)||[];c?o=f.map(function(){return null}):f=[];var d=Io(t,"parentPosition",[a,s],function(g){return g.join(",")}),p=Io(t,"requestStyles",t.getRequestChildStyles(),function(g){return g.join(",")});return t.moveables=t.moveables.slice(0,o.length),et(et([],I(o.map(function(g,h){return e.createElement(Fo,{key:"moveable"+h,ref:J0(t,"moveables",h),target:g,origin:!1,requestStyles:p,cssStyled:n.cssStyled,customStyledMap:n.customStyledMap,useResizeObserver:n.useResizeObserver,useMutationObserver:n.useMutationObserver,hideChildMoveableDefaultLines:n.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:[a,s],persistData:f[h],zoom:l})})),!1),I(C1(u.map(function(g,h){var m=g.pos1,y=g.pos2,x=g.pos3,b=g.pos4,w=[m,y,x,b];return[[0,1],[1,3],[3,2],[2,0]].map(function(_,E){var C=I(_,2),T=C[0],D=C[1];return Ji(e,"",lt(w[T],d),lt(w[D],d),l,"group-rect-".concat(h,"-").concat(E))})}))),!1)}},yN=qi("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var r=t.props.target,n=e.inputEvent,o=e.inputTarget,i=t.isMoveableElement(o),a=!i&&t.controlBox.contains(o);if(!(!n||!o||e.isDrag||t.isMoveableElement(o)||a)){var s=r.contains(o);at(t,"onClick",mt(t,e,{isDouble:e.isDouble,inputTarget:o,isTarget:r===o,moveableTarget:t.props.target,containsTarget:s}))}},dragGroupEnd:function(t,e){var r=e.inputEvent,n=e.inputTarget;if(!(!r||!n||e.isDrag||t.isMoveableElement(n)||e.datas.inputTarget===n)){var o=t.props.targets,i=o.indexOf(n),a=i>-1,s=!1;i===-1&&(i=cr(o,function(c){return c.contains(n)}),s=i>-1),at(t,"onClickGroup",mt(t,e,{isDouble:e.isDouble,targets:o,inputTarget:n,targetIndex:i,isTarget:a,containsTarget:s,moveableTarget:o[i]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function Bo(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),j(j({},t),{datas:e})}var xN=qi("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(t,e){var r=t.props,n=r.edgeDraggable;return n?Ry(e,"edgeDraggable",n,t.getState().renderPoses,r.zoom):[]},dragCondition:function(t,e){var r,n=t.props,o=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!o?!1:!n.draggable&&Yt(o,ct("direction"))&&Yt(o,ct("edge"))&&Yt(o,ct("edgeDraggable"))},dragStart:function(t,e){return ve.dragStart(t,Bo(e))},drag:function(t,e){return ve.drag(t,Bo(e))},dragEnd:function(t,e){return ve.dragEnd(t,Bo(e))},dragGroupCondition:function(t,e){var r,n=t.props,o=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!o?!1:!n.draggable&&Yt(o,ct("direction"))&&Yt(o,ct("line"))},dragGroupStart:function(t,e){return ve.dragGroupStart(t,Bo(e))},dragGroup:function(t,e){return ve.dragGroup(t,Bo(e))},dragGroupEnd:function(t,e){return ve.dragGroupEnd(t,Bo(e))},unset:function(t){return ve.unset(t)}}),K1={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},bN=[V1,j1,CO,$O,ve,xN,Ff,VO,HO,iO,KO,ZO,XO,lN,cN,pN,ld,K1,yN,k1,W1];function Z1(t,e){var r=I(t,3),n=r[0],o=r[1],i=r[2];return(n*e[0]+o*e[1]+i)/Math.sqrt(n*n+o*o)}function gc(t,e){var r=I(t,2),n=r[0],o=r[1];return-n*e[0]-o*e[1]}function J1(t,e){return Math.max.apply(Math,et([],I(t.map(function(r){var n=I(r,4),o=n[0],i=n[1],a=n[2],s=n[3];return Math.max(o[e],i[e],a[e],s[e])})),!1))}function Q1(t,e){return Math.min.apply(Math,et([],I(t.map(function(r){var n=I(r,4),o=n[0],i=n[1],a=n[2],s=n[3];return Math.min(o[e],i[e],a[e],s[e])})),!1))}function wN(t,e){var r,n,o,i=[0,0],a=[0,0],s=[0,0],c=[0,0],l=0,u=0;if(!t.length)return{pos1:i,pos2:a,pos3:s,pos4:c,minX:0,minY:0,maxX:0,maxY:0,width:l,height:u,rotation:e};var f=ht(e,he);if(f%90){var d=f/180*Math.PI,p=Math.tan(d),g=-1/p,h=[Cf,my],m=[[0,0],[0,0]],y=[Cf,my],x=[[0,0],[0,0]];t.forEach(function(J){J.forEach(function(X){var H=Z1([-p,1,0],X),tt=Z1([-g,1,0],X);h[0]>H&&(m[0]=X,h[0]=H),h[1]<H&&(m[1]=X,h[1]=H),y[0]>tt&&(x[0]=X,y[0]=tt),y[1]<tt&&(x[1]=X,y[1]=tt)})});var b=I(m,2),w=b[0],_=b[1],E=I(x,2),C=E[0],T=E[1],D=[-p,1,gc([-p,1],w)],R=[-p,1,gc([-p,1],_)],N=[-g,1,gc([-g,1],C)],M=[-g,1,gc([-g,1],T)];r=I([[D,N],[D,M],[R,N],[R,M]].map(function(J){var X=I(J,2),H=X[0],tt=X[1];return ff(H,tt)[0]}),4),i=r[0],a=r[1],s=r[2],c=r[3],l=y[1]-y[0],u=h[1]-h[0]}else{var O=Q1(t,0),k=Q1(t,1),F=J1(t,0),$=J1(t,1);if(i=[O,k],a=[F,k],s=[O,$],c=[F,$],l=F-O,u=$-k,f%180){var V=[s,i,c,a];n=I(V,4),i=n[0],a=n[1],s=n[2],c=n[3],l=$-k,u=F-O}}if(f%360>180){var V=[c,s,a,i];o=I(V,4),i=o[0],a=o[1],s=o[2],c=o[3]}var L=Tn([i,a,s,c]),z=L.minX,A=L.minY,B=L.maxX,Y=L.maxY;return{pos1:i,pos2:a,pos3:s,pos4:c,width:l,height:u,minX:z,minY:A,maxX:B,maxY:Y,rotation:e}}function tx(t,e){var r=e.map(function(n){if(Dt(n)){var o=tx(t,n),i=o.length;return i>1?o:i===1?o[0]:null}else{var a=xe(t,function(s){var c=s.manager;return c.props.target===n});return a?(a.finded=!0,a.manager):null}}).filter(Boolean);return r.length===1&&Dt(r[0])?r[0]:r}var SN=function(t){Xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.differ=new oy,r.moveables=[],r.transformOrigin="50% 50%",r.renderGroupRects=[],r._targetGroups=[],r._hasFirstTargets=!1,r}return e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this)},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(r,n,o){var i;o===void 0&&(o=!0);var a=this.state;if(!this.controlBox||a.isPersisted)return;Po(!0),this.moveables.forEach(function(q){q.updateRect(r,!1,!1)});var s=this.props,c=this.moveables,l=a.target||s.target,u=c.map(function(q){return{finded:!1,manager:q}}),f=this.props.targetGroups||[],d=tx(u,f),p=s.useDefaultGroupRotate;d.push.apply(d,et([],I(u.filter(function(q){var it=q.finded;return!it}).map(function(q){var it=q.manager;return it})),!1));var g=[],h=!n||r!==""&&s.updateGroup,m=s.defaultGroupRotate||0;if(!this._hasFirstTargets){var y=(i=s.persistData)===null||i===void 0?void 0:i.rotation;y!=null&&(m=y)}function x(q,it,ot){var U=q.map(function(Rt){if(Dt(Rt)){var wt=x(Rt,it),Tt=[wt.pos1,wt.pos2,wt.pos3,wt.pos4];return g.push(wt),{poses:Tt,rotation:wt.rotation}}else return{poses:$e(Rt.state),rotation:Rt.getRotation()}}),rt=U.map(function(Rt){var wt=Rt.rotation;return wt}),pt=0,ut=rt[0],dt=rt.every(function(Rt){return Math.abs(ut-Rt)<.1});h?pt=!p&&dt?ut:m:pt=!p&&!ot&&dt?ut:it;var vt=U.map(function(Rt){var wt=Rt.poses;return wt}),Et=wN(vt,pt);return Et}var b=x(d,this.rotation,!0);h&&(this.rotation=b.rotation,this.transformOrigin=s.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=f,this.renderGroupRects=g;var w=this.transformOrigin,_=this.rotation,E=this.scale,C=b.width,T=b.height,D=b.minX,R=b.minY,N=GO([[0,0],[C,0],[0,T],[C,T]],rd(w,C,T),this.rotation/180*Math.PI),M=Tn(N.result),O=M.minX,k=M.minY,F=" rotate(".concat(_,"deg)")+" scale(".concat(me(E[0]),", ").concat(me(E[1]),")"),$="translate(".concat(-O,"px, ").concat(-k,"px)").concat(F);this.controlBox.style.transform="translate3d(".concat(D,"px, ").concat(R,"px, ").concat(this.props.translateZ||0,")"),l.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(w,";")+"width:".concat(C,"px;height:").concat(T,"px;")+"transform: ".concat($),a.width=C,a.height=T;var V=this.getContainer(),L=cd(this.controlBox,l,this.controlBox,this.getContainer(),this._rootContainer||V,[]),z=[L.left,L.top],A=I($e(L),4),B=A[0],Y=A[1],J=A[2],X=A[3],H=Tn([B,Y,J,X]),tt=[H.minX,H.minY],W=me(E[0]*E[1]);L.pos1=lt(B,tt),L.pos2=lt(Y,tt),L.pos3=lt(J,tt),L.pos4=lt(X,tt),L.left=D-L.left+tt[0],L.top=R-L.top+tt[1],L.origin=lt(_t(z,L.origin),tt),L.beforeOrigin=lt(_t(z,L.beforeOrigin),tt),L.originalBeforeOrigin=_t(z,L.originalBeforeOrigin),L.transformOrigin=lt(_t(z,L.transformOrigin),tt),l.style.transform="translate(".concat(-O-tt[0],"px, ").concat(-k-tt[1],"px)")+F,Po(),this.updateState(j(j({},L),{posDelta:tt,direction:W,beforeDirection:W}),o)},e.prototype.getRect=function(){return j(j({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},e.prototype.triggerEvent=function(r,n,o){if(o||r.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,r,n);this._emitter.trigger(r,n)},e.prototype.getRequestChildStyles=function(){var r=this.getEnabledAbles().reduce(function(n,o){var i,a,s=(a=(i=o.requestChildStyle)===null||i===void 0?void 0:i.call(o))!==null&&a!==void 0?a:[];return et(et([],I(n),!1),I(s),!1)},[]);return r},e.prototype.getMoveables=function(){return et([],I(this.moveables),!1)},e.prototype.updateAbles=function(){t.prototype.updateAbles.call(this,et(et([],I(this.props.ables),!1),[ld],!1),"Group")},e.prototype._updateTargets=function(){t.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=Sr(this._originalDragTarget,!0)},e.prototype._updateEvents=function(){var r=this.state,n=this.props,o=this._prevDragTarget,i=n.dragTarget||this.areaElement,a=n.targets,s=this.differ.update(a),c=s.added,l=s.changed,u=s.removed,f=c.length||u.length;(f||this._prevOriginalDragTarget!==this._originalDragTarget)&&(ko(this,!1),ko(this,!0),this.updateState({gestos:{}})),o!==i&&(r.target=null),r.target||(r.target=this.areaElement,this.controlBox.style.display="block"),r.target&&(this.targetGesto||(this.targetGesto=H1(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=Y1(this,"GroupControl")));var d=!Zf(r.container,n.container);d&&(r.container=n.container),(d||f||this.transformOrigin!==(n.defaultGroupOrigin||"50% 50%")||l.length||a.length&&!D1(this._targetGroups,n.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!f},e.prototype._updateObserver=function(){},e.defaultProps=j(j({},Fo.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(Fo),CN=function(t){Xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.moveables=[],r}return e.prototype.render=function(){var r=this,n,o=this.props,i=o.cspNonce,a=o.cssStyled,s=o.persistData,c=o.targets||[],l=c.length,u=this.isUnmounted||!l,f=(n=s?.children)!==null&&n!==void 0?n:[];return u&&!l&&f.length?c=f.map(function(){return null}):u||(f=[]),S.createElement(a,{cspNonce:i,ref:rn(this,"controlBox"),className:ct("control-box")},c.map(function(d,p){var g,h,m=(h=(g=o.individualGroupableProps)===null||g===void 0?void 0:g.call(o,d,p))!==null&&h!==void 0?h:{};return S.createElement(Fo,j({key:"moveable"+p,ref:J0(r,"moveables",p)},o,m,{target:d,wrapperMoveable:r,isWrapperMounted:r.isMoveableMounted,persistData:f[p]}))}))},e.prototype.componentDidMount=function(){},e.prototype.componentDidUpdate=function(){},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(r,n,o){o===void 0&&(o=!0),Po(!0),this.moveables.forEach(function(i){i.updateRect(r,n,o)}),Po()},e.prototype.getRect=function(){return j(j({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},e.prototype.request=function(r,n,o){n===void 0&&(n={});var i=this.moveables.map(function(c){return c.request(r,j(j({},n),{isInstant:!1}),!1)}),a=o||n.isInstant,s={request:function(c){return i.forEach(function(l){return l.request(c)}),this},requestEnd:function(){return i.forEach(function(c){return c.requestEnd()}),this}};return a?s.request(n).requestEnd():s},e.prototype.dragStart=function(r,n){n===void 0&&(n=r.target);var o=n,i=xe(this.moveables,function(a){var s=a.getTargets()[0],c=a.getControlBoxElement(),l=a.getDragElement();return!s||!l?!1:l===o||l.contains(o)||l!==s&&s===o||s.contains(o)||c===o||c.contains(o)});return i&&i.dragStart(r,n),this},e.prototype.hitTest=function(){return 0},e.prototype.isInside=function(){return!1},e.prototype.isDragging=function(){return!1},e.prototype.getDragElement=function(){return null},e.prototype.getMoveables=function(){return et([],I(this.moveables),!1)},e.prototype.updateRenderPoses=function(){},e.prototype.checkUpdate=function(){},e.prototype.triggerEvent=function(){},e.prototype.updateAbles=function(){},e.prototype._updateEvents=function(){},e.prototype._updateObserver=function(){},e}(Fo);function ex(t,e){var r=[];return t.forEach(function(n){if(n){if(Bt(n)){e[n]&&r.push.apply(r,et([],I(e[n]),!1));return}Dt(n)?r.push.apply(r,et([],I(ex(n,e)),!1)):r.push(n)}}),r}function rx(t,e){var r=[];return t.forEach(function(n){if(n){if(Bt(n)){e[n]&&r.push.apply(r,et([],I(e[n]),!1));return}Dt(n)?r.push(rx(n,e)):r.push(n)}}),r}function nx(t,e){return t.length!==e.length||t.some(function(r,n){var o=e[n];return!r&&!o?!1:r!=o?Dt(r)&&Dt(o)?nx(r,o):!0:!1})}var EN=function(t){Xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.refTargets=[],r.selectorMap={},r._differ=new oy,r._elementTargets=[],r._tmpRefTargets=[],r._tmpSelectorMap={},r._onChangeTargets=null,r}return e.makeStyled=function(){var r={},n=this.getTotalAbles();n.forEach(function(i){var a=i.css;a&&a.forEach(function(s){r[s]=!0})});var o=ke(r).join(`
`);this.defaultStyled=dy("div",gM(wf,cP+o))},e.getTotalAbles=function(){return et([j1,ld,K1,k1],I(this.defaultAbles),!1)},e.prototype.render=function(){var r,n=this.constructor;n.defaultStyled||n.makeStyled();var o=this.props,i=o.ables,a=o.props,s=qM(o,["ables","props"]),c=I(this._updateRefs(!0),2),l=c[0],u=c[1],f=ex(l,u),d=f.length>1,p=n.getTotalAbles(),g=et(et([],I(p),!1),I(i||[]),!1),h=j(j(j({},s),a||{}),{ables:g,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});this._elementTargets=f;var m=null,y=this.moveable,x=s.persistData;if(x?.children&&(d=!0),s.individualGroupable)return S.createElement(CN,j({key:"individual-group",ref:rn(this,"moveable")},h,{target:null,targets:f}));if(d){var b=rx(l,u);if(y&&!y.props.groupable&&!y.props.individualGroupable){var w=y.props.target;w&&f.indexOf(w)>-1&&(m=j({},y.state))}return S.createElement(SN,j({key:"group",ref:rn(this,"moveable")},h,(r=s.groupableProps)!==null&&r!==void 0?r:{},{target:null,targets:f,targetGroups:b,firstRenderState:m}))}else{var _=f[0];if(y&&(y.props.groupable||y.props.individualGroupable)){var E=y.moveables||[],C=xe(E,function(T){return T.props.target===_});C&&(m=j({},C.state))}return S.createElement(Fo,j({key:"single",ref:rn(this,"moveable")},h,{target:_,firstRenderState:m}))}},e.prototype.componentDidMount=function(){this._checkChangeTargets()},e.prototype.componentDidUpdate=function(){this._checkChangeTargets()},e.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},e.prototype.getTargets=function(){var r,n;return(n=(r=this.moveable)===null||r===void 0?void 0:r.getTargets())!==null&&n!==void 0?n:[]},e.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},e.prototype.waitToChangeTarget=function(){var r=this,n;return this._onChangeTargets=function(){r._onChangeTargets=null,n()},new Promise(function(o){n=o})},e.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},e.prototype.getManager=function(){return this.moveable},e.prototype.getMoveables=function(){return this.moveable.getMoveables()},e.prototype.getDragElement=function(){return this.moveable.getDragElement()},e.prototype._updateRefs=function(r){var n=this.refTargets,o=td(this.props.target||this.props.targets),i=typeof document<"u",a=nx(n,o),s=this.selectorMap,c={};return this.refTargets.forEach(function l(u){if(Bt(u)){var f=s[u];f?c[u]=s[u]:i&&(a=!0,c[u]=[].slice.call(document.querySelectorAll(u)))}else Dt(u)&&u.forEach(l)}),this._tmpRefTargets=o,this._tmpSelectorMap=c,[o,c,!r&&a]},e.prototype._checkChangeTargets=function(){var r,n,o;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var i=this._differ.update(this._elementTargets),a=i.added,s=i.removed,c=a.length||s.length;c&&((n=(r=this.props).onChangeTargets)===null||n===void 0||n.call(r,{moveable:this.moveable,targets:this._elementTargets}),(o=this._onChangeTargets)===null||o===void 0||o.call(this));var l=I(this._updateRefs(),3),u=l[0],f=l[1],d=l[2];this.refTargets=u,this.selectorMap=f,d&&this.forceUpdate()},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,KM([Q0(fP)],e.prototype,"moveable",void 0),e}(S.PureComponent),ox=function(t){Xi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.defaultAbles=bN,e}(EN),ud=function(t,e){return ud=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},ud(t,e)};function _N(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ud(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function TN(t,e){return e={exports:{}},t(e,e.exports),e.exports}var aa=TN(function(t,e){function r(c){if(c&&typeof c=="object"){var l=c.which||c.keyCode||c.charCode;l&&(c=l)}if(typeof c=="number")return a[c];var u=String(c),f=n[u.toLowerCase()];if(f)return f;var f=o[u.toLowerCase()];if(f)return f;if(u.length===1)return u.charCodeAt(0)}r.isEventKey=function(l,u){if(l&&typeof l=="object"){var f=l.which||l.keyCode||l.charCode;if(f==null)return!1;if(typeof u=="string"){var d=n[u.toLowerCase()];if(d)return d===f;var d=o[u.toLowerCase()];if(d)return d===f}else if(typeof u=="number")return u===f;return!1}},e=t.exports=r;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=e.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(i=97;i<123;i++)n[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)n[i-48]=i;for(i=1;i<13;i++)n["f"+i]=i+111;for(i=0;i<10;i++)n["numpad "+i]=i+96;var a=e.names=e.title={};for(i in n)a[n[i]]=i;for(var s in o)n[s]=o[s]});aa.code,aa.codes,aa.aliases;var DN=aa.names;aa.title;var ix={"+":"plus","left command":"meta","right command":"meta"},ax={shift:1,ctrl:2,alt:3,meta:4};function sx(t,e){var r=(DN[t]||e||"").toLowerCase();for(var n in ix)r=r.replace(n,ix[n]);return r.replace(/\s/g,"")}function cx(t,e){e===void 0&&(e=sx(t.keyCode,t.key));var r=RN(t);return r.indexOf(e)===-1&&r.push(e),r.filter(Boolean)}function RN(t){var e=[t.shiftKey&&"shift",t.ctrlKey&&"ctrl",t.altKey&&"alt",t.metaKey&&"meta"];return e.filter(Boolean)}function lx(t){var e=t.slice();return e.sort(function(r,n){var o=ax[r]||5,i=ax[n]||5;return o-i}),e}var ux,MN=function(t){_N(e,t);function e(n){n===void 0&&(n=window);var o=t.call(this)||this;return o.container=n,o.ctrlKey=!1,o.altKey=!1,o.shiftKey=!1,o.metaKey=!1,o.clear=function(){return o.ctrlKey=!1,o.altKey=!1,o.shiftKey=!1,o.metaKey=!1,o},o.keydownEvent=function(i){o.triggerEvent("keydown",i)},o.keyupEvent=function(i){o.triggerEvent("keyup",i)},o.blur=function(){o.clear(),o.trigger("blur")},Lt(n,"blur",o.blur),Lt(n,"keydown",o.keydownEvent),Lt(n,"keyup",o.keyupEvent),o}var r=e.prototype;return Object.defineProperty(e,"global",{get:function(){return ux||(ux=new e)},enumerable:!1,configurable:!0}),e.setGlobal=function(){return this.global},r.destroy=function(){var n=this.container;this.clear(),this.off(),kt(n,"blur",this.blur),kt(n,"keydown",this.keydownEvent),kt(n,"keyup",this.keyupEvent)},r.keydown=function(n,o){return this.addEvent("keydown",n,o)},r.offKeydown=function(n,o){return this.removeEvent("keydown",n,o)},r.offKeyup=function(n,o){return this.removeEvent("keyup",n,o)},r.keyup=function(n,o){return this.addEvent("keyup",n,o)},r.addEvent=function(n,o,i){return Dt(o)?this.on("".concat(n,".").concat(lx(o).join(".")),i):Bt(o)?this.on("".concat(n,".").concat(o),i):this.on(n,o),this},r.removeEvent=function(n,o,i){return Dt(o)?this.off("".concat(n,".").concat(lx(o).join(".")),i):Bt(o)?this.off("".concat(n,".").concat(o),i):this.off(n,o),this},r.triggerEvent=function(n,o){this.ctrlKey=o.ctrlKey,this.shiftKey=o.shiftKey,this.altKey=o.altKey,this.metaKey=o.metaKey;var i=sx(o.keyCode,o.key),a=i==="ctrl"||i==="shift"||i==="meta"||i==="alt",s={key:i,isToggle:a,inputEvent:o,keyCode:o.keyCode,ctrlKey:o.ctrlKey,altKey:o.altKey,shiftKey:o.shiftKey,metaKey:o.metaKey};this.trigger(n,s),this.trigger("".concat(n,".").concat(i),s);var c=cx(o,i);c.length>1&&this.trigger("".concat(n,".").concat(c.join(".")),s)},e}(Ir),fd=function(t,e){return fd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},fd(t,e)};function fx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fd(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Jt=function(){return Jt=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Jt.apply(this,arguments)};function PN(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function ON(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,r,i):a(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}function sa(t,e,r){for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function NN(t){if("touches"in t){var e=t.touches[0]||t.changedTouches[0];return{clientX:e.clientX,clientY:e.clientY}}else return{clientX:t.clientX,clientY:t.clientY}}function kN(t){if(typeof Map>"u")return t.filter(function(r,n){return t.indexOf(r)===n});var e=new Map;return t.filter(function(r){return e.has(r)?!1:(e.set(r,!0),!0)})}function jN(t,e,r){var n=Xe(t);return n.elementFromPoint&&n.elementFromPoint(e,r)||null}function dx(t,e,r){var n=t.tag,o=t.children,i=t.attributes,a=t.className,s=t.style,c=e||Xe(r).createElement(n);for(var l in i)c.setAttribute(l,i[l]);var u=c.children;if(o.forEach(function(d,p){dx(d,u[p],c)}),a&&a.split(/\s+/g).forEach(function(d){d&&!Yt(c,d)&&ei(c,d)}),s){var f=c.style;for(var l in s)f[l]=s[l]}return!e&&r&&r.appendChild(c),c}function AN(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=e||{},i=o.className,a=i===void 0?"":i,s=o.style,c=s===void 0?{}:s,l=PN(o,["className","style"]);return{tag:t,className:a,style:c,attributes:l,children:r}}function dd(t,e,r){t!==e&&r(t,e)}function px(t,e,r){var n;r===void 0&&(r=t.data.boundArea);var o=t.distX,i=o===void 0?0:o,a=t.distY,s=a===void 0?0:a,c=t.data,l=c.startX,u=c.startY;if(e>0){var f=Math.sqrt((i*i+s*s)/(1+e*e)),d=e*f;i=(i>=0?1:-1)*d,s=(s>=0?1:-1)*f}var p=Math.abs(i),g=Math.abs(s),h=i<0?l-r.left:r.right-l,m=s<0?u-r.top:r.bottom-u;n=$c([p,g],[0,0],[h,m],!!e),p=n[0],g=n[1],i=(i>=0?1:-1)*p,s=(s>=0?1:-1)*g;var y=Math.min(0,i),x=Math.min(0,s),b=l+y,w=u+x;return{left:b,top:w,right:b+p,bottom:w+g,width:p,height:g}}function mc(t){var e=t.getBoundingClientRect(),r=e.left,n=e.top,o=e.width,i=e.height;return{pos1:[r,n],pos2:[r+o,n],pos3:[r,n+i],pos4:[r+o,n+i]}}function hx(t,e,r){var n=Co(t,e),o=n.list,i=n.prevList,a=n.added,s=n.removed,c=n.maintained;return sa(sa(sa([],a.map(function(l){return o[l]}),!0),s.map(function(l){return i[l]}),!0),r?c.map(function(l){var u=l[1];return o[u]}):[])}function vx(t){for(var e=0,r=t.length,n=1;n<r;++n)e=Math.max(lr(t[n],t[n-1]),e);return e}var gx=_a(`
:host {
    position: fixed;
    display: none;
    border: 1px solid #4af;
    background: rgba(68, 170, 255, 0.5);
    pointer-events: none;
    will-change: transform;
    z-index: 100;
}
`),pd="selecto-selection ".concat(gx.className),hd=["className","boundContainer","selectableTargets","selectByClick","selectFromInside","continueSelect","continueSelectWithoutDeselect","toggleContinueSelect","toggleContinueSelectWithoutDeselect","keyContainer","hitRate","scrollOptions","checkInput","preventDefault","ratio","getElementRect","preventDragFromInside","rootContainer","dragCondition","clickBySelectEnd","checkOverflow","innerScrollOptions"],IN=sa(["dragContainer","cspNonce","preventClickEventOnDrag","preventClickEventOnDragStart","preventRightClick"],hd),mx=["dragStart","drag","dragEnd","selectStart","select","selectEnd","keydown","keyup","scroll","innerScroll"],FN=["clickTarget","getSelectableElements","setSelectedTargets","getElementPoints","getSelectedTargets","findSelectableTargets","triggerDragStart","checkScroll","selectTargetsByPoints","setSelectedTargetsByPoints"],BN=function(t){fx(e,t);function e(n){n===void 0&&(n={});var o=t.call(this)||this;o.selectedTargets=[],o.dragScroll=new ay,o._onDragStart=function(s,c){var l=s.data,u=s.clientX,f=s.clientY,d=s.inputEvent,p=o.options,g=p.selectFromInside,h=p.selectByClick,m=p.rootContainer,y=p.boundContainer,x=p.preventDragFromInside,b=x===void 0?!0:x,w=p.clickBySelectEnd,_=p.dragCondition;if(_&&!_(s)){s.stop();return}l.data={};var E=Ee(o.container);l.innerWidth=E.innerWidth,l.innerHeight=E.innerHeight,o.findSelectableTargets(l),l.startSelectedTargets=o.selectedTargets,l.scaleMatrix=af(),l.containerX=0,l.containerY=0;var C=o.container,T={left:-1/0,top:-1/0,right:1/0,bottom:1/0};if(m){var D=o.container.getBoundingClientRect();l.containerX=D.left,l.containerY=D.top,l.scaleMatrix=DM(o.container,m)}if(y){var R=zt(y)&&"element"in y?Jt({left:!0,top:!0,bottom:!0,right:!0},y):{element:y,left:!0,top:!0,bottom:!0,right:!0},N=R.element,M=void 0;if(N){Bt(N)?M=Xe(C).querySelector(N):N===!0?M=o.container:M=N;var O=M.getBoundingClientRect();R.left&&(T.left=O.left),R.top&&(T.top=O.top),R.right&&(T.right=O.right),R.bottom&&(T.bottom=O.bottom)}}l.boundArea=T;var k={left:u,top:f,right:u,bottom:f,width:0,height:0},F=[],$=h&&!w,V=!1;if(!g||$){var L=o._findElement(c||d.target,l.selectableTargets);V=!!L,$&&(F=L?[L]:[])}var z=!g&&V;if(z&&!h)return s.stop(),!1;var A=d.type,B=A==="mousedown"||A==="touchstart",Y=!s.isClick&&B?o.emit("dragStart",Jt(Jt({},s),{data:l.data})):!0;if(!Y)return s.stop(),!1;if(o.continueSelect?(F=hx(o.selectedTargets,F,o.continueSelectWithoutDeselect),l.startPassedTargets=o.selectedTargets):l.startPassedTargets=[],o._select(F,k,s,!0,z&&h&&!w&&b),l.startX=u,l.startY=f,l.selectFlag=!1,l.preventDragFromInside=!1,d.target){var J=Ls(l.scaleMatrix,[u-l.containerX,f-l.containerY]);o.target.style.cssText+="position: ".concat(m?"absolute":"fixed",";")+"left:0px;top:0px;"+"transform: translate(".concat(J[0],"px, ").concat(J[1],"px)")}if(z&&h&&!w)d.preventDefault(),b&&(o._selectEnd(l.startSelectedTargets,l.startPassedTargets,k,s,!0),l.preventDragFromInside=!0);else{l.selectFlag=!0;var X=o.options,H=X.scrollOptions,tt=X.innerScrollOptions,W=!1;if(tt){for(var q=s.inputEvent,it=q.target,ot=null,U=it;U&&U!==Xe(C).body;){var rt=getComputedStyle(U).overflow!=="visible";if(rt){ot=U;break}U=U.parentElement}ot&&(l.innerScrollOptions=Jt({container:ot,checkScrollEvent:!0},tt===!0?{}:tt),o.dragScroll.dragStart(s,l.innerScrollOptions),W=!0)}!W&&H&&H.container&&o.dragScroll.dragStart(s,H),z&&h&&w&&(l.selectFlag=!1,s.preventDrag())}return!0},o._onDrag=function(s){if(s.data.selectFlag){var c=o.scrollOptions,l=s.data.innerScrollOptions,u=l||c?.container;if(u&&!s.isScroll&&o.dragScroll.drag(s,l||c))return}o._checkSelected(s)},o._onDragEnd=function(s){var c=s.data,l=s.inputEvent,u=px(s,o.options.ratio),f=c.selectFlag,d=o.container;if(l&&o.emit("dragEnd",Jt(Jt({isDouble:!!s.isDouble,isClick:!!s.isClick,isDrag:!1,isSelect:f},s),{data:c.data,rect:u})),o.target.style.cssText+="display: none;",f)c.selectFlag=!1,o.dragScroll.dragEnd();else if(o.selectByClick&&o.clickBySelectEnd){var p=o._findElement(l?.target||jN(d,s.clientX,s.clientY),c.selectableTargets);o._select(p?[p]:[],u,s)}c.preventDragFromInside||o._selectEnd(c.startSelectedTargets,c.startPassedTargets,u,s)},o._onKeyDown=function(s){var c=o.options,l=!1;if(!o._keydownContinueSelect){var u=o._sameCombiKey(s,c.toggleContinueSelect);o._keydownContinueSelect=u,l||(l=u)}if(!o._keydownContinueSelectWithoutDeselection){var u=o._sameCombiKey(s,c.toggleContinueSelectWithoutDeselect);o._keydownContinueSelectWithoutDeselection=u,l||(l=u)}l&&o.emit("keydown",{keydownContinueSelect:o._keydownContinueSelect,keydownContinueSelectWithoutDeselection:o._keydownContinueSelectWithoutDeselection})},o._onKeyUp=function(s){var c=o.options,l=!1;if(o._keydownContinueSelect){var u=o._sameCombiKey(s,c.toggleContinueSelect,!0);o._keydownContinueSelect=!u,l||(l=u)}if(o._keydownContinueSelectWithoutDeselection){var u=o._sameCombiKey(s,c.toggleContinueSelectWithoutDeselect,!0);o._keydownContinueSelectWithoutDeselection=!u,l||(l=u)}l&&o.emit("keyup",{keydownContinueSelect:o._keydownContinueSelect,keydownContinueSelectWithoutDeselection:o._keydownContinueSelectWithoutDeselection})},o._onBlur=function(){(o._keydownContinueSelect||o._keydownContinueSelectWithoutDeselection)&&(o._keydownContinueSelect=!1,o._keydownContinueSelectWithoutDeselection=!1,o.emit("keyup",{keydownContinueSelect:o._keydownContinueSelect,keydownContinueSelectWithoutDeselection:o._keydownContinueSelectWithoutDeselection}))},o._onDocumentSelectStart=function(s){var c=Xe(o.container);if(o.gesto.isFlag()){var l=o.dragContainer;l===Ee(o.container)&&(l=c.documentElement);var u=ri(l)?[l]:[].slice.call(l),f=s.target;u.some(function(d){if(d===f||d.contains(f))return s.preventDefault(),!0})}},o.target=n.portalContainer;var i=n.container;o.options=Jt({className:"",portalContainer:null,container:null,dragContainer:null,selectableTargets:[],selectByClick:!0,selectFromInside:!0,clickBySelectEnd:!1,hitRate:100,continueSelect:!1,continueSelectWithoutDeselect:!1,toggleContinueSelect:null,toggleContinueSelectWithoutDeselect:null,keyContainer:null,scrollOptions:null,checkInput:!1,preventDefault:!1,boundContainer:!1,preventDragFromInside:!0,dragCondition:null,rootContainer:null,checkOverflow:!1,innerScrollOptions:!1,getElementRect:mc,cspNonce:"",ratio:0},n);var a=o.options.portalContainer;return a&&(i=a.parentElement),o.container=i||document.body,o.initElement(),o.initDragScroll(),o.setKeyController(),o}var r=e.prototype;return r.setSelectedTargets=function(n){var o=this.selectedTargets,i=Co(o,n),a=i.added,s=i.removed,c=i.prevList,l=i.list;return this.selectedTargets=n,{added:a.map(function(u){return l[u]}),removed:s.map(function(u){return c[u]}),beforeSelected:o,selected:n}},r.setSelectedTargetsByPoints=function(n,o){var i=Math.min(n[0],o[0]),a=Math.min(n[1],o[1]),s=Math.max(n[0],o[0]),c=Math.max(n[1],o[1]),l={left:i,top:a,right:s,bottom:c,width:s-i,height:c-a},u={ignoreClick:!0};this.findSelectableTargets(u);var f=this.hitTest(l,u,!0,null),d=this.setSelectedTargets(f);return Jt(Jt({},d),{rect:l})},r.selectTargetsByPoints=function(n,o){var i=new MouseEvent("mousedown",{clientX:n[0],clientY:n[1],cancelable:!0,bubbles:!0}),a=new MouseEvent("mousemove",{clientX:o[0],clientY:o[1],cancelable:!0,bubbles:!0}),s=new MouseEvent("mousemove",{clientX:o[0],clientY:o[1],cancelable:!0,bubbles:!0}),c=this.gesto,l=c.onDragStart(i);l!==!1&&(c.onDrag(a),c.onDragEnd(s))},r.getSelectedTargets=function(){return this.selectedTargets},r.triggerDragStart=function(n){return this.gesto.triggerDragStart(n),this},r.destroy=function(){var n;this.off(),this.keycon&&this.keycon.destroy(),this.gesto.unset(),this.injectResult.destroy(),this.dragScroll.dragEnd(),kt(document,"selectstart",this._onDocumentSelectStart),this.options.portalContainer||(n=this.target.parentElement)===null||n===void 0||n.removeChild(this.target),this.keycon=null,this.gesto=null,this.injectResult=null,this.target=null,this.container=null,this.options=null},r.getElementPoints=function(n){var o=this.getElementRect||mc,i=o(n),a=[i.pos1,i.pos2,i.pos4,i.pos3];if(o!==mc){var s=n.getBoundingClientRect();return uf(a,s)}return a},r.getSelectableElements=function(){var n=this.container,o=[];return this.options.selectableTargets.forEach(function(i){if(ye(i)){var a=i();a&&o.push.apply(o,[].slice.call(a))}else if(ri(i))o.push(i);else if(zt(i))o.push(i.value||i.current);else{var s=[].slice.call(Xe(n).querySelectorAll(i));o.push.apply(o,s)}}),o},r.checkScroll=function(){if(this.gesto.isFlag()){var n=this.scrollOptions,o=this.gesto.getEventData().innerScrollOptions,i=o||n?.container;i&&this.dragScroll.checkScroll(Jt({inputEvent:this.gesto.getCurrentEvent()},o||n))}},r.findSelectableTargets=function(n){var o=this;n===void 0&&(n=this.gesto.getEventData());var i=this.getSelectableElements(),a=i.map(function(f){return o.getElementPoints(f)});n.selectableTargets=i,n.selectablePoints=a,n.selectableParentMap=null;var s=this.options,c=s.checkOverflow||s.innerScrollOptions,l=Xe(this.container);if(c){var u=new Map;n.selectableInnerScrollParentMap=u,n.selectableInnerScrollPathsList=i.map(function(f,d){for(var p=f.parentElement,g=[],h=[],m=function(){var y=u.get(p);if(!y){var x=getComputedStyle(p).overflow!=="visible";if(x){var b=mc(p);y={parentElement:p,indexes:[],points:[b.pos1,b.pos2,b.pos4,b.pos3],paths:sa([],h)},g.push(p),g.forEach(function(w){u.set(w,y)}),g=[]}}y?(p=y.parentElement,u.get(p).indexes.push(d),h.push(p)):g.push(p),p=p.parentElement};p&&p!==l.body;)m();return h})}return s.checkOverflow||(n.selectableInners=i.map(function(){return!0})),this._refreshGroups(n),i},r.clickTarget=function(n,o){var i=NN(n),a=i.clientX,s=i.clientY,c={data:{selectFlag:!1},clientX:a,clientY:s,inputEvent:n,isClick:!0,isTrusted:!1,stop:function(){return!1}};return this._onDragStart(c,o)&&this._onDragEnd(c),this},r.setKeyController=function(){var n=this.options,o=n.keyContainer,i=n.toggleContinueSelect,a=n.toggleContinueSelectWithoutDeselect;this.keycon&&(this.keycon.destroy(),this.keycon=null),(i||a)&&(this.keycon=new MN(o||Ee(this.container)),this.keycon.keydown(this._onKeyDown).keyup(this._onKeyUp).on("blur",this._onBlur))},r.setClassName=function(n){this.options.className=n,this.target.setAttribute("class","".concat(pd," ").concat(n||""))},r.setKeyEvent=function(){var n=this.options,o=n.toggleContinueSelect,i=n.toggleContinueSelectWithoutDeselect;!o&&!i||this.keycon||this.setKeyController()},r.setKeyContainer=function(n){var o=this,i=this.options;dd(i.keyContainer,n,function(){i.keyContainer=n,o.setKeyController()})},r.getContinueSelect=function(){var n=this.options,o=n.continueSelect,i=n.toggleContinueSelect;return!i||!this._keydownContinueSelect?o:!o},r.getContinueSelectWithoutDeselect=function(){var n=this.options,o=n.continueSelectWithoutDeselect,i=n.toggleContinueSelectWithoutDeselect;return!i||!this._keydownContinueSelectWithoutDeselection?o:!o},r.setToggleContinueSelect=function(n){var o=this,i=this.options;dd(i.toggleContinueSelect,n,function(){i.toggleContinueSelect=n,o.setKeyEvent()})},r.setToggleContinueSelectWithoutDeselect=function(n){var o=this,i=this.options;dd(i.toggleContinueSelectWithoutDeselect,n,function(){i.toggleContinueSelectWithoutDeselect=n,o.setKeyEvent()})},r.setPreventDefault=function(n){this.gesto.options.preventDefault=n},r.setCheckInput=function(n){this.gesto.options.checkInput=n},r.initElement=function(){var n=this.options,o=n.dragContainer,i=n.checkInput,a=n.preventDefault,s=n.preventClickEventOnDragStart,c=n.preventClickEventOnDrag,l=n.preventClickEventByCondition,u=n.preventRightClick,f=u===void 0?!0:u,d=n.className,p=this.container;this.target=dx(AN("div",{className:"".concat(pd," ").concat(d||"")}),this.target,p);var g=this.target;this.dragContainer=typeof o=="string"?[].slice.call(Xe(p).querySelectorAll(o)):o||this.target.parentNode,this.gesto=new fy(this.dragContainer,{checkWindowBlur:!0,container:Ee(p),checkInput:i,preventDefault:a,preventClickEventOnDragStart:s,preventClickEventOnDrag:c,preventClickEventByCondition:l,preventRightClick:f}).on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd}),Lt(document,"selectstart",this._onDocumentSelectStart),this.injectResult=gx.inject(g,{nonce:this.options.cspNonce})},r.hitTest=function(n,o,i,a){var s=this.options,c=s.hitRate,l=s.selectByClick,u=n.left,f=n.top,d=n.right,p=n.bottom,g=o.innerGroups,h=o.innerWidth,m=o.innerHeight,y=a?.clientX,x=a?.clientY,b=o.ignoreClick,w=[[u,f],[d,f],[d,p],[u,p]],_=function(L,z){var A=sr(typeof c=="function"?"".concat(c(z)):"".concat(c)),B=b?!1:Gs([y,x],L);if(!i&&l&&B)return!0;var Y=pf(w,L);if(!Y.length)return!1;var J=Yi(Y),X=0;if(J===0&&Yi(L)===0?(X=vx(L),J=vx(Y)):X=Yi(L),A.unit==="px")return J>=A.value;var H=ti(Math.round(J/X*100),0,100);return H>=Math.min(100,A.value)},E=o.selectableTargets,C=o.selectablePoints,T=o.selectableInners;if(!g)return E.filter(function(L,z){return T[z]?_(C[z],E[z]):!1});for(var D=[],R=Math.floor(u/h),N=Math.floor(d/h),M=Math.floor(f/m),O=Math.floor(p/m),k=R;k<=N;++k){var F=g[k];if(F)for(var $=M;$<=O;++$){var V=F[$];V&&V.forEach(function(L){var z=C[L],A=T[L],B=E[L];A&&_(z,B)&&D.push(B)})}}return kN(D)},r.initDragScroll=function(){var n=this;this.dragScroll.on("scrollDrag",function(o){var i=o.next;i(n.gesto.getCurrentEvent())}).on("scroll",function(o){var i=o.container,a=o.direction,s=n.gesto.getEventData().innerScrollOptions;s?n.emit("innerScroll",{container:i,direction:a}):n.emit("scroll",{container:i,direction:a})}).on("move",function(o){var i=o.offsetX,a=o.offsetY,s=o.inputEvent,c=n.gesto;if(!(!c||!c.isFlag())){var l=n.gesto.getEventData(),u=l.boundArea;l.startX-=i,l.startY-=a;var f=n.gesto.getEventData().innerScrollOptions,d=f?.container,p=!1;if(d){var g=l.selectableInnerScrollParentMap,h=g.get(d);h&&(h.paths.forEach(function(m){var y=g.get(m);y.points.forEach(function(x){x[0]-=i,x[1]-=a})}),h.indexes.forEach(function(m){l.selectablePoints[m].forEach(function(y){y[0]-=i,y[1]-=a})}),p=!0)}p||l.selectablePoints.forEach(function(m){m.forEach(function(y){y[0]-=i,y[1]-=a})}),n._refreshGroups(l),u.left-=i,u.right-=i,u.top-=a,u.bottom-=a,n.gesto.scrollBy(i,a,s.inputEvent),n._checkSelected(n.gesto.getCurrentEvent())}})},r._select=function(n,o,i,a,s){s===void 0&&(s=!1);var c=i.inputEvent,l=i.data,u=this.setSelectedTargets(n),f=Co(l.startSelectedTargets,n),d=f.added,p=f.removed,g=f.prevList,h=f.list,m={startSelected:g,startAdded:d.map(function(y){return h[y]}),startRemoved:p.map(function(y){return g[y]})};a&&this.emit("selectStart",Jt(Jt(Jt({},u),m),{rect:o,inputEvent:c,data:l.data,isTrusted:i.isTrusted,isDragStartEnd:s})),(u.added.length||u.removed.length)&&this.emit("select",Jt(Jt(Jt({},u),m),{rect:o,inputEvent:c,data:l.data,isTrusted:i.isTrusted,isDragStartEnd:s}))},r._selectEnd=function(n,o,i,a,s){s===void 0&&(s=!1);var c=a.inputEvent,l=a.isDouble,u=a.data,f=c&&c.type,d=f==="mousedown"||f==="touchstart",p=Co(n,this.selectedTargets),g=p.added,h=p.removed,m=p.prevList,y=p.list,x=Co(o,this.selectedTargets),b=x.added,w=x.removed,_=x.prevList,E=x.list;this.emit("selectEnd",{startSelected:n,beforeSelected:o,selected:this.selectedTargets,added:g.map(function(C){return y[C]}),removed:h.map(function(C){return m[C]}),afterAdded:b.map(function(C){return E[C]}),afterRemoved:w.map(function(C){return _[C]}),isDragStart:d&&s,isDragStartEnd:d&&s,isClick:!!a.isClick,isDouble:!!l,rect:i,inputEvent:c,data:u.data,isTrusted:a.isTrusted})},r._checkSelected=function(n,o){o===void 0&&(o=px(n,this.options.ratio));var i=n.data,a=o.top,s=o.left,c=o.width,l=o.height,u=i.selectFlag,f=i.containerX,d=i.containerY,p=i.scaleMatrix,g=Ls(p,[s-f,a-d]),h=Ls(p,[c,l]),m=[];if(u){this.target.style.cssText+="display: block;left:0px;top:0px;"+"transform: translate(".concat(g[0],"px, ").concat(g[1],"px);")+"width:".concat(h[0],"px;height:").concat(h[1],"px;");var y=this.hitTest(o,i,!0,n);m=hx(i.startPassedTargets,y,this.continueSelect&&this.continueSelectWithoutDeselect)}var x=this.emit("drag",Jt(Jt({},n),{data:i.data,isSelect:u,rect:o}));if(x===!1){this.target.style.cssText+="display: none;",n.stop();return}u&&this._select(m,o,n)},r._sameCombiKey=function(n,o,i){if(!o)return!1;var a=cx(n.inputEvent,n.key),s=[].concat(o),c=Dt(s[0])?s:[s];if(i){var l=n.key;return c.some(function(u){return u.some(function(f){return f===l})})}return c.some(function(u){return u.every(function(f){return a.indexOf(f)>-1})})},r._findElement=function(n,o){for(var i=n;i&&!(o.indexOf(i)>-1);)i=i.parentElement;return i},r._refreshGroups=function(n){var o,i=n.innerWidth,a=n.innerHeight,s=n.selectablePoints;if(this.options.checkOverflow){var c=(o=this.gesto.getEventData().innerScrollOptions)===null||o===void 0?void 0:o.container,l=n.selectableInnerScrollParentMap,u=n.selectableInnerScrollPathsList;n.selectableInners=u.map(function(p,g){var h=!1;return p.every(function(m){if(h)return!0;if(m===c)return h=!0,!0;var y=l.get(m);if(y){var x=s[g],b=y.points,w=pf(x,b);if(!w.length)return!1}return!0})})}if(!i||!a)n.innerGroups=null;else{var f=n.selectablePoints,d={};f.forEach(function(p,g){var h=1/0,m=-1/0,y=1/0,x=-1/0;p.forEach(function(_){var E=Math.floor(_[0]/i),C=Math.floor(_[1]/a);h=Math.min(E,h),m=Math.max(E,m),y=Math.min(C,y),x=Math.max(C,x)});for(var b=h;b<=m;++b)for(var w=y;w<=x;++w)d[b]=d[b]||{},d[b][w]=d[b][w]||[],d[b][w].push(g)}),n.innerGroups=d}},e=ON([mM(hd,function(n,o){var i={enumerable:!0,configurable:!0,get:function(){return this.options[o]}},a=Wn("get ".concat(o));n[a]?i.get=function(){return this[a]()}:i.get=function(){return this.options[o]};var s=Wn("set ".concat(o));n[s]?i.set=function(c){this[s](c)}:i.set=function(c){this.options[o]=c},Object.defineProperty(n,o,i)})],e),e}(Ir),LN=function(t){fx(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(BN),vd=function(t,e){return vd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},vd(t,e)};function zN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vd(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var yc=function(){return yc=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yc.apply(this,arguments)};function GN(t,e,r,n){var o=arguments.length,i=o<3?e:n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,r,i):a(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i}var yx=mx.map(function(t){return Wn("on ".concat(t))}),$N=function(t){zN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var r=e.prototype;return r.render=function(){return K.createElement("div",{className:pd,ref:rn(this,"selectionElement")})},r.componentDidMount=function(){var n=this,o=this.props,i={};IN.forEach(function(a){a in o&&(i[a]=o[a])}),this.selecto=new LN(yc(yc({},i),{portalContainer:this.selectionElement})),mx.forEach(function(a,s){n.selecto.on(a,function(c){var l=n.props,u=l[yx[s]]&&l[yx[s]](c);u===!1&&c.stop()})})},r.componentDidUpdate=function(n){var o=this.props,i=this.selecto;hd.forEach(function(a){n[a]!==o[a]&&(i[a]=o[a])})},r.componentWillUnmount=function(){this.selecto.destroy()},GN([Q0(FN)],e.prototype,"selecto",void 0),e}(K.PureComponent);function VN(t,e){let r=null;return function(...n){r&&clearTimeout(r),r=setTimeout(()=>{t(...n)},e)}}function xx(){const t=K.useRef(null),{setCanvasState:e,mode:r,spacePressed:n,setSpacePressed:o,isDragging:i,setIsDragging:a,dragStart:s,setDragStart:c,isTouchPadDragging:l,setIsTouchPadDragging:u}=Ce(),f=Ce(),d=C=>{C.code==="Space"&&!C.repeat?(C.preventDefault(),o(!0)):(C.metaKey||C.ctrlKey)&&C.key==="1"&&(C.preventDefault(),e({zoom:1,position:f.position}))},p=C=>{C.code==="Space"&&(C.preventDefault(),o(!1),a(!1))},g=C=>{const T=t.current;if(T)if(C.ctrlKey||C.metaKey){C.preventDefault();const D=f.zoom,R=x(Math.max(.1,Math.min(2,D-C.deltaY*.004))),N=T.getBoundingClientRect(),M=C.clientX-N.left,O=C.clientY-N.top,k=(M-f.position.x)/D,F=(O-f.position.y)/D,$={x:M-k*R,y:O-F*R};e({zoom:R,position:$})}else C.buttons===0&&(C.preventDefault(),e({...f,position:{x:f.position.x-C.deltaX,y:f.position.y-C.deltaY}}),u(!0))};K.useEffect(()=>(window.addEventListener("keydown",d),window.addEventListener("keyup",p),()=>{window.removeEventListener("keydown",d),window.removeEventListener("keyup",p)}),[]),K.useEffect(()=>{const C=t.current;if(C)return C.addEventListener("wheel",g,{passive:!1}),()=>{C.removeEventListener("wheel",g)}},[f]),K.useEffect(()=>{const C=()=>{u(!1)};return window.addEventListener("mouseup",C),()=>{window.removeEventListener("mouseup",C)}},[]);const h=C=>{!(n||r==="hand")||C.target.closest(".element")||(a(!0),c({x:C.clientX-f.position.x,y:C.clientY-f.position.y}))},m=C=>{i&&e({...f,position:{x:C.clientX-s.x,y:C.clientY-s.y}})},y=K.useCallback(()=>{a(!1)},[]),x=C=>Number(C.toFixed(2)),b=K.useCallback(C=>{const T=t.current;if(!T)return;const D=T.getBoundingClientRect();if(!C)return;const N=WN(D,C);e({zoom:N.zoom,position:N.position})},[t,e]),w=K.useCallback(VN(C=>{b(C)},40),[b]);K.useEffect(()=>{const C=t.current;if(C)return C.addEventListener("mousedown",h),C.addEventListener("mousemove",m),C.addEventListener("mouseup",y),C.addEventListener("mouseleave",y),()=>{C.removeEventListener("mousedown",h),C.removeEventListener("mousemove",m),C.removeEventListener("mouseup",y),C.removeEventListener("mouseleave",y)}},[f,s,i,n,r]);const _=()=>i||l?"cursor-grabbing":n||r==="hand"?"cursor-grab":"cursor-default",E=()=>{};return{ref:t,position:f.position,zoom:f.zoom,isDragging:i,spacePressed:n,isTouchPadDragging:l,mode:r,calculateFitZoom:w,fitViewport:E,cursorStyle:_()}}function WN(t,e){const o=t.width-120,i=t.height-40*2,a=o/e.width,s=i/e.height,c=Math.min(a,s,1),l=e.width*c,u=e.height*c,f=60+(o-l)/2,d=40+(i-u)/2;return{zoom:c,position:{x:f,y:d}}}const HN=({infiniteViewer:t,horizontalGuides:e,verticalGuides:r,selecto:n,moveableManager:o,selectedTargets:i,onCheckBlur:a,onSetSelectedTargets:s,width:c,height:l})=>{const{zoom:u,setZoom:f}=Ce();K.useLayoutEffect(()=>{if(!t.current)return;const E=t.current.getContainer();if(!E)return;const C=E.clientWidth-100,T=E.clientHeight-100,D=C/c,R=T/l,N=Math.min(D,R),M=Math.max(.1,Math.min(3,N));f(M),setTimeout(()=>{t.current&&t.current.scrollCenter()},50)},[t,c,l,f]);const d=E=>{f(Math.max(.1,Math.min(3,u*E.scale)))},p=()=>{},g=E=>{const C=E.inputEvent.target;a(),(C.nodeName==="A"||o.current.getMoveable().isMoveableElement(C)||o.current.getMoveable().isDragging()||i.some(T=>T===C||T.contains(C)))&&E.stop()},h=E=>{E.isDrag||n.current.clickTarget(E.inputEvent)},m=E=>{n.current.triggerDragStart(E.inputEvent)},y=E=>{e.current&&(e.current.scroll(E.scrollLeft),e.current.scrollGuides(E.scrollTop)),r.current&&(r.current.scroll(E.scrollTop),r.current.scrollGuides(E.scrollLeft))},x=E=>{const C=E.inputEvent,T=C.target;if(a(),T.isContentEditable){const D=YN(T);D&&D.hasAttribute(UN)&&(E.stop(),s([D]))}(C.type==="touchstart"&&E.isTrusted||o.current.getMoveable().isMoveableElement(T)||i.some(D=>D===T||D.contains(T)))&&E.stop()},b=({direction:E})=>{t.current.scrollBy(E[0]*10,E[1]*10)},w=({isDragStart:E,selected:C,inputEvent:T})=>{E&&T.preventDefault(),s(C).then(()=>{E&&o.current.getMoveable().dragStart(T)})},_=()=>{t.current.scrollCenter()};return K.useEffect(()=>{const E=C=>{C.touches.length};return document.addEventListener("touchstart",E),()=>{document.removeEventListener("touchstart",E)}},[]),K.useEffect(()=>{const E=C=>{(C.ctrlKey||C.metaKey)&&(C.key==="="||C.key==="+"?(C.preventDefault(),f(Math.min(u+.1,3))):C.key==="-"?(C.preventDefault(),f(Math.max(u-.1,.1))):C.key==="0"&&(C.preventDefault(),f(1)))};return window.addEventListener("keydown",E),()=>{window.removeEventListener("keydown",E)}},[u,f]),{onPinch:d,onPinchEnd:p,onDragStart:g,onDragEnd:h,onAbortPinch:m,onScroll:y,onSelectoDragStart:x,onSelectoScroll:b,onSelectoEnd:w,handleCenterView:_}},YN=t=>t.closest("[data-scena-element-id]"),UN="data-scena-element-id";function XN(t){const e={top:0,left:0,width:0,height:0,rotation:0},r=t.match(/top:\s*([\d.]+)px/),n=t.match(/left:\s*([\d.]+)px/),o=t.match(/width:\s*([\d.]+)px/),i=t.match(/height:\s*([\d.]+)px/);r&&(e.top=parseFloat(r[1])),n&&(e.left=parseFloat(n[1])),o&&(e.width=parseFloat(o[1])),i&&(e.height=parseFloat(i[1]));const a=t.match(/transform:\s*translate\(\s*([-\d.]+)px,\s*([-\d.]+)px\)\s*rotate\(\s*([-\d.]+)deg\)/);if(a){const s=parseFloat(a[1]),c=parseFloat(a[2]),l=parseFloat(a[3]);e.left+=s,e.top+=c,e.rotation=l}return e}const qN={name:"deleteButtonViewable",props:{deleteButtonViewable:Boolean},events:{},render(t,e){const r=t.getRect(),{pos2:n}=t.state,o=t.useCSS("div",`
        {
            position: absolute;
            left: 0px;
            top: 0px;
            will-change: transform;
            transform-origin: 0px 0px;
            width: 24px;
            height: 24px;
            background: #4af;
            background: var(--moveable-color);
            opacity: 0.9;
            border-radius: 4px;
        }
        :host:before, :host:after {
            content: "";
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
            width: 16px;
            height: 2px;
            background: #fff;
            border-radius: 1px;
            cursor: pointer;
        }
        :host:after {
            transform: translate(-50%, -50%) rotate(-45deg);
        }
        `);return v.jsx(ya.Consumer,{children:i=>v.jsx(o,{className:"moveable-delete-button",onClick:()=>{const a=i.getSelectedTargets();i.remove(a)},style:{transform:`translate(${n[0]}px, ${n[1]}px) rotate(${r.rotation}deg) translate(10px)`}})},"delete-button-viewer")}},KN={name:"dimensionViewable",props:{dimensionViewable:Boolean},events:{},render(t){const e=t.props.zoom,r=t.getRect();return v.jsxs("div",{className:"moveable-dimension",style:{left:`${r.width/2}px`,top:`${r.height}px`,transform:`translate(-50%, ${20*e}px) scale(${e})`},children:[Math.round(r.offsetWidth)," x ",Math.round(r.offsetHeight)]},"dimension-viewer")}},Cd=class Cd extends S.PureComponent{constructor(){super(...arguments),this.moveable=S.createRef()}getMoveable(){return this.moveable.current}get moveableData(){return this.context.moveableData}get memory(){return this.context.memory}get getSelecto(){return this.context.getSelecto}render(){const{verticalGuidelines:e,horizontalGuidelines:r,selectedTargets:n,zoom:o}=this.props;if(!n.length)return this.renderViewportMoveable();const i=this.moveableData,a=this.memory,s=[document.querySelector(".scena-viewport"),...i.getTargets()].filter(u=>n.indexOf(u)===-1),c=!1,l="";return v.jsx(ox,{ables:[KN,qN],ref:this.moveable,targets:n,dimensionViewable:!0,deleteButtonViewable:!0,draggable:!0,resizable:!0,pinchable:["rotatable"],zoom:1/o,throttleResize:1,clippable:l==="Crop",passDragArea:l==="Text",checkInput:l==="Text",throttleDragRotate:0,keepRatio:n.length>1?!0:c,rotatable:!0,snappable:!0,snapCenter:!0,snapGap:!1,isDisplayInnerSnapDigit:!0,roundable:!0,verticalGuidelines:e,horizontalGuidelines:r,elementGuidelines:s,clipArea:!0,clipVerticalGuidelines:[0,"50%","100%"],clipHorizontalGuidelines:[0,"50%","100%"],clipTargetBounds:!0,onBeforeRenderStart:i.onBeforeRenderStart,onBeforeRenderGroupStart:i.onBeforeRenderGroupStart,onDragStart:u=>{i.onDragStart(u)},onDrag:u=>{i.onDrag(u)},onDragGroupStart:i.onDragGroupStart,onDragGroup:i.onDragGroup,onScaleStart:i.onScaleStart,onScale:i.onScale,onScaleGroupStart:i.onScaleGroupStart,onScaleGroup:i.onScaleGroup,onResizeStart:i.onResizeStart,onResize:i.onResize,onResizeGroupStart:i.onResizeGroupStart,onResizeGroup:i.onResizeGroup,onRotateStart:i.onRotateStart,onRotate:i.onRotate,onRotateGroupStart:i.onRotateGroupStart,onRotateGroup:i.onRotateGroup,defaultClipPath:a.get("crop")||"inset",onClip:i.onClip,onDragOriginStart:i.onDragOriginStart,onDragOrigin:u=>{i.onDragOrigin(u)},onRound:i.onRound,onClick:u=>{const f=u.inputTarget;if(u.isDouble&&f.isContentEditable){const d=nh(f);d&&d.focus()}else this.getSelecto().clickTarget(u.inputEvent,u.inputTarget)},onClickGroup:u=>{this.getSelecto().clickTarget(u.inputEvent,u.inputTarget)},onRenderStart:u=>{u.datas.prevData=i?.getFrame(u.target)?.get()},onRender:u=>{u.datas.isRender=!0},onRenderEnd:u=>{if(!u.datas.isRender)return;const f=oh(u.target),d=u.target.dataset.veltixPageId,p=XN(u.target.getAttribute("style"));Nt.getState().updateNode(d,f,{position:p})},onRenderGroupStart:u=>{u.datas.prevDatas=u.targets.map(f=>i.getFrame(f)?.get())},onRenderGroup:u=>{u.datas.isRender=!0},onRenderGroupEnd:u=>{u.datas.isRender}})}renderViewportMoveable(){const e=this.moveableData;return v.jsx(ox,{ref:this.moveable,target:null,origin:!1,onRotateStart:e.onRotateStart,onRotate:e.onRotate})}componentDidMount(){}updateRect(){this.getMoveable().updateRect()}};Cd.contextType=ya;let gd=Cd;const ZN=()=>v.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full min-h-[400px] text-center",children:[v.jsxs("div",{className:"mb-6 relative",children:[v.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-gray-50 to-gray-100 border-2 border-dashed border-gray-200 flex items-center justify-center transition-all duration-300 hover:border-gray-300 hover:bg-gradient-to-br hover:from-gray-100 hover:to-gray-150",children:v.jsx(Aa,{className:"w-8 h-8 text-gray-400 transition-colors duration-300 hover:text-gray-500"})}),v.jsx("div",{className:"absolute inset-0 w-20 h-20 rounded-full bg-gray-200/20 blur-xl -z-10 scale-75"})]}),v.jsxs("div",{className:"space-y-2 max-w-sm",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"No components yet"}),v.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:"Get started by adding your first component to this page. Click the plus button above to begin."})]}),v.jsx("button",{className:"mt-6 px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:"Add Component"})]}),JN=({doc:t})=>{const e=Nt(),r=ar(),n=(o,i)=>!o||o.length===0?v.jsx(ZN,{}):o.filter(s=>s.position?.visible!==!1).map((s,c)=>{const l=r.registry.get(s.type);if(l){const u={position:"absolute",transform:QN(s.position),width:`${s.position.width}px`,height:`${s.position.height}px`};return v.jsx("div",{"data-scena-element-id":s.id,"data-type":s.type,"data-veltix-page-id":i,style:u,children:S.createElement(l.main,{widget:{...s,position:{...s.position,rotation:0,left:0,top:0}}})},c)}return null})||[];return v.jsx("div",{className:Vr("scena-viewport"),[wl]:"viewport",style:{width:t.width||r.config?.doc?.width,height:t.height||r.config?.doc?.height,background:e.json?.theme?.backgroundColor||"#fff"},children:n(t.nodes,t.id)})};function QN(t){let e=`translate(${t.left}px, ${t.top}px)`;return t.rotation&&(e+=` rotate(${t.rotation}deg)`),e}const tk=t=>{const{children:e}=t,r=Nt(),n=ar(),o=40,{combinedWidth:i}=sb(o),a=r.json?.docs,s={width:`${i}px`,height:`${n.height}px`};return v.jsxs("div",{className:"veltix-viewport-container flex",style:{...s,gap:`${o}px`,...t.style},children:[e,v.jsx("div",{children:a?.map((c,l)=>v.jsx(JN,{doc:c},l))})]})},ek=()=>{const{zoom:t,setZoom:e}=Ce(),{fitViewport:r}=xx(),n=i=>{e(i/100)},o=[200,100,50];return v.jsxs(ms,{children:[v.jsx(ys,{asChild:!0,children:v.jsxs(_e,{variant:"outline",size:"sm",className:"h-8 gap-1 shadow-none w-20",children:[v.jsxs("span",{children:[Math.round(t*100),"%"]}),v.jsx(ch,{className:"h-3 w-3"})]})}),v.jsxs(Ai,{align:"end",className:"w-[180px]",children:[v.jsxs(tn,{onClick:()=>n(Math.min(t*100+25,200)),children:["Zoom in",v.jsx(Ii,{children:"+"})]}),v.jsxs(tn,{onClick:()=>n(Math.max(t*100-25,25)),children:["Zoom out",v.jsx(Ii,{children:"-"})]}),v.jsxs(tn,{onClick:()=>r(),children:["Zoom to Fit",v.jsx(Ii,{children:"0"})]}),v.jsx(Hm,{}),o.map(i=>v.jsxs(tn,{onClick:()=>n(i),children:[i,"%",i===100&&v.jsx(Ii,{children:"1"})]},i))]})]})},md=[{title:"Plugins",items:[{label:"Asset Library",icon:hh,gradient:"from-blue-500 to-blue-600",textColor:"text-gray-700 dark:text-gray-200",onClick:()=>console.log("Asset Library clicked")},{label:"Data Filler",icon:ph,gradient:"from-green-500 to-green-600",textColor:"text-gray-700 dark:text-gray-200",onClick:()=>console.log("Data Filler clicked")},{label:"Interaction Engine",icon:dS,gradient:"from-purple-500 to-purple-600",textColor:"text-gray-700 dark:text-gray-200",onClick:()=>console.log("Interaction Engine clicked")},{label:"Font Manager",icon:mh,gradient:"from-orange-400 to-orange-500",textColor:"text-gray-700 dark:text-gray-200",onClick:()=>console.log("Font Manager clicked")}]},{title:"Project",items:[{label:"New Page",icon:Aa,textColor:"text-gray-700 dark:text-gray-200",onClick:()=>console.log("New Page clicked")},{label:"New Section",icon:Aa,textColor:"text-gray-700 dark:text-gray-200",onClick:()=>console.log("New Section clicked")},{label:"Save as Template",icon:ph,textColor:"text-gray-700 dark:text-gray-200",onClick:()=>console.log("Save as Template clicked")},{label:"Export to Code",icon:hh,textColor:"text-gray-700 dark:text-gray-200",onClick:()=>console.log("Export to Code clicked")},{label:"Deploy to Web",icon:uS,textColor:"text-gray-700 dark:text-gray-200",shortcut:"P",onClick:()=>console.log("Deploy to Web clicked")}]}];function rk(){const[t,e]=K.useState(-1),r=md.flatMap(i=>i.items),n=K.useRef([]);K.useEffect(()=>{const i=a=>{if(a.key==="ArrowDown")a.preventDefault(),e(s=>(s+1)%r.length);else if(a.key==="ArrowUp")a.preventDefault(),e(s=>(s-1+r.length)%r.length);else if(a.key==="Enter"){a.preventDefault();const s=r[t];s?.onClick?s.onClick():n.current[t]?.click()}};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[t,r]),K.useEffect(()=>{const i=n.current[t];i&&i.scrollIntoView({block:"nearest"})},[t]);const o=(i,a)=>{e(a),i.onClick?.()};return v.jsx("div",{className:"flex items-start justify-center overflow-hidden bg-background border border-border shadow-lg",children:v.jsxs("div",{className:"w-full",children:[v.jsx("div",{className:"p-2 border-b border-border",children:v.jsxs("div",{className:"relative",children:[v.jsx(SS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),v.jsx(te,{type:"text",placeholder:"Search...",className:"pl-10 bg-muted/50 border-0 rounded-lg h-9 text-sm placeholder:text-muted-foreground focus:bg-background focus:ring-2 focus:ring-ring transition-all duration-200"})]})}),v.jsx("div",{className:"max-h-96 overflow-auto",children:md.map((i,a)=>v.jsxs("div",{className:Vr("p-2 border-border",a!==0&&"border-t"),children:[v.jsx("h3",{className:"text-xs font-semibold text-muted-foreground px-3 py-2 bg-background",children:i.title}),v.jsx("div",{className:"space-y-1",children:i.items.map((s,c)=>{const l=md.slice(0,a).reduce((f,d)=>f+d.items.length,0)+c,u=l===t;return v.jsxs(_e,{ref:f=>{n.current[l]=f},onClick:()=>o(s,l),variant:"ghost",className:Vr("w-full h-10 px-3 rounded-lg transition-all duration-200",s.shortcut?"justify-between":"justify-start",s.bgColor??"hover:bg-accent",s.textColor??"text-foreground",u&&"bg-accent hover:bg-accent/80"),children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:Vr("w-6 h-6 rounded-md mr-3 flex items-center justify-center shadow-sm",s.gradient?`bg-gradient-to-br ${s.gradient}`:"bg-muted"),children:v.jsx(s.icon,{className:Vr("w-3.5 h-3.5",s.gradient?"text-white":"text-muted-foreground")})}),v.jsx("span",{className:"text-sm font-medium",children:s.label})]}),s.shortcut&&v.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-1.5 py-0.5 rounded font-mono",children:s.shortcut})]},s.label)})})]},i.title))})]})})}const jn=({icon:t,label:e,onClick:r,active:n=!1,disabled:o=!1})=>v.jsxs(_e,{variant:n?"secondary":"ghost",size:"sm",className:`h-7 w-7 p-0 flex items-center justify-center relative group ${n?"dark:!bg-gray-600":""}`,onClick:r,disabled:o,children:[t,v.jsx("span",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-black dark:bg-slate-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:e})]}),nk=()=>v.jsxs(ms,{modal:!1,children:[v.jsx(ys,{asChild:!0,children:v.jsx("div",{children:v.jsx(jn,{icon:v.jsx(hS,{className:"h-4 w-4"}),label:"Plugins"})})}),v.jsx(Ai,{side:"top",className:"p-0 w-80 overflow-hidden !shadow-none mb-3",children:v.jsx(rk,{})})]}),bx=[{type:"rectangle",title:"Rectangle",description:"Basic rectangle shape",icon:"",defaultProps:{position:{width:120,height:80,left:0,top:0}},main:({widget:t})=>v.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:t.styleConfig?.backgroundColor||"#ddd"}})},{type:"circle",title:"Circle",description:"Basic circle shape",icon:"",defaultProps:{position:{width:120,height:80,left:0,top:0}},main:({widget:t})=>v.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"50%",backgroundColor:t.styleConfig?.backgroundColor||"#ddd"}})},{type:"triangle",title:"Triangle",description:"Basic triangle shape",icon:"",defaultProps:{position:{width:120,height:100,top:0,left:0}},main:({widget:t})=>v.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:t.styleConfig?.backgroundColor||"#ddd",clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)"}})}],ok=()=>{const{createElementByComponent:t}=Nt();return v.jsxs(ms,{modal:!1,children:[v.jsx(ys,{asChild:!0,children:v.jsx("div",{children:v.jsx(jn,{icon:v.jsx(ES,{className:"h-4 w-4"}),label:"Shape"})})}),v.jsx(Ai,{side:"top",className:"mb-3",children:bx.map(e=>v.jsxs(tn,{onClick:()=>t(e),children:[e.type==="rectangle"&&v.jsx(_S,{className:"h-3 w-3"}),e.type==="circle"&&v.jsx(lh,{className:"h-3 w-3"}),e.type==="triangle"&&v.jsx(DS,{className:"h-3 w-3"}),e.title]},e.type))})]})};var ik=(t,e,r,n,o,i,a,s)=>{let c=document.documentElement,l=["light","dark"];function u(p){(Array.isArray(t)?t:[t]).forEach(g=>{let h=g==="class",m=h&&i?o.map(y=>i[y]||y):o;h?(c.classList.remove(...m),c.classList.add(i&&i[p]?i[p]:p)):c.setAttribute(g,p)}),f(p)}function f(p){s&&l.includes(p)&&(c.style.colorScheme=p)}function d(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)u(n);else try{let p=localStorage.getItem(e)||r,g=a&&p==="system"?d():p;u(g)}catch{}},ak=S.createContext(void 0),sk={setTheme:t=>{},themes:[]},ck=()=>{var t;return(t=S.useContext(ak))!=null?t:sk};S.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:o,defaultTheme:i,value:a,themes:s,nonce:c,scriptProps:l})=>{let u=JSON.stringify([r,e,i,t,s,a,n,o]).slice(1,-1);return S.createElement("script",{...l,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${ik.toString()})(${u})`}})});const lk=()=>{const{theme:t,setTheme:e}=ck(),[r,n]=K.useState(!1);K.useEffect(()=>{n(!0)},[]);const o=()=>{e(t==="light"?"dark":"light")};return r?v.jsx(jn,{icon:t==="light"?v.jsx(yS,{className:"h-4 w-4"}):v.jsx(xh,{className:"h-4 w-4"}),label:t==="light"?"Dark Mode":"Light Mode",onClick:o}):v.jsx(jn,{icon:v.jsx(xh,{className:"h-4 w-4"}),label:"Light Mode",onClick:()=>{}})};function uk(){const{mode:t,setMode:e}=Ce(),r=()=>{};return v.jsx("footer",{className:"absolute bottom-4 left-2 right-2 h-10 px-4 z-10",children:v.jsxs("div",{className:"relative h-full flex items-center",children:[v.jsx("div",{className:"absolute left-0 z-10"}),v.jsx("div",{className:"absolute left-0 right-0 flex justify-center",children:v.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg px-1 py-1",children:[v.jsx(jn,{icon:v.jsx(xS,{className:"h-4 w-4"}),label:"Move",active:t==="select",onClick:()=>e("select")}),v.jsx(jn,{icon:v.jsx(pS,{className:"h-4 w-4"}),label:"Hand Tool",active:t==="hand",onClick:()=>e("hand")}),v.jsx(jn,{icon:v.jsx(vh,{className:"h-4 w-4"}),label:"Upload",onClick:r}),v.jsx(ok,{}),v.jsx(lk,{}),v.jsx(nk,{})]})}),v.jsx("div",{className:"absolute right-0 flex items-center gap-4 z-10 bg-background",children:v.jsx(ek,{})})]})})}const fk=()=>{const t=ar(),{checkBlur:e}=Ce(),r=Nt(),n=S.useRef(null),o=cb(),{ref:i,position:a,spacePressed:s,zoom:c,mode:l,calculateFitZoom:u}=xx();S.useEffect(()=>{if(i.current){u(o);const x=()=>u(o);return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}}},[u]);const{onSelectoDragStart:f,onSelectoScroll:d,onSelectoEnd:p}=HN({infiniteViewer:t.infiniteViewer,horizontalGuides:t.horizontalGuides,verticalGuides:t.verticalGuides,selecto:t.selecto,moveableManager:n,selectedTargets:t.selectedTargets,onCheckBlur:e,onSetSelectedTargets:x=>t.setSelectedTargets(x),width:t.width,height:t.height}),g=Ce(x=>x.horizontalGuides),h=Ce(x=>x.verticalGuides);Ce();const m=x=>{x.preventDefault()},y=x=>{const b=document.querySelector(".veltix-viewport-container");x.preventDefault();const w=x.dataTransfer.getData("chart-type");if(w){const{clientX:_,clientY:E}=x,{left:C,top:T}=b.getBoundingClientRect(),D=(_-C)/c,R=(E-T)/c,N=t.registry.get(w),M={id:$n(),type:w,title:N?`${N.title}`:`${w}`,position:{left:D,top:R,width:300,height:200}};r.addNode(M)}};return v.jsxs("div",{className:"relative flex-1 overflow-hidden",style:{cursor:l==="hand"?"grab":"default"},onDragOver:m,onDrop:y,ref:i,children:[v.jsx("div",{className:"veltix-viewer bg-gray-50 dark:bg-background",children:v.jsx("div",{children:v.jsx(tk,{style:{transformOrigin:"0px 0px",transform:`translate(${a.x}px, ${a.y}px) scale(${c})`},children:v.jsx(gd,{ref:n,selectedTargets:t.selectedTargets,verticalGuidelines:h,horizontalGuidelines:g,zoom:c})})})}),v.jsx($N,{ref:t.selecto,getElementRect:mN,dragContainer:".veltix-viewer",hitRate:0,selectableTargets:[`.scena-viewport [${wl}]`],selectByClick:!0,selectFromInside:!1,toggleContinueSelect:["shift"],preventDefault:!0,scrollOptions:i.current?{container:i.current,threshold:30,throttleTime:30,getScrollPosition:()=>[a.x,a.y]}:void 0,onDragStart:f,onScroll:d,onSelectEnd:p}),v.jsx(uk,{}),(s||l==="hand")&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"absolute top-0 right-0 bottom-0 left-0 cursor-grab"}),v.jsx("div",{className:"cursor-grab"})]})]})},dk=()=>{const{activePanelId:t}=ja(),r=Fa().getViewContainer(t);return r?v.jsx("div",{className:"w-80  p-4 overflow-y-auto h-full",children:r.render()}):null};var[xc,zA]=Ie("Tooltip",[so]),bc=so(),wx="TooltipProvider",pk=700,yd="tooltip.open",[hk,xd]=xc(wx),Sx=t=>{const{__scopeTooltip:e,delayDuration:r=pk,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:i}=t,a=S.useRef(!0),s=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const l=c.current;return()=>window.clearTimeout(l)},[]),v.jsx(hk,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:S.useCallback(l=>{s.current=l},[]),disableHoverableContent:o,children:i})};Sx.displayName=wx;var ca="Tooltip",[vk,la]=xc(ca),Cx=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:o,onOpenChange:i,disableHoverableContent:a,delayDuration:s}=t,c=xd(ca,t.__scopeTooltip),l=bc(e),[u,f]=S.useState(null),d=Rr(),p=S.useRef(0),g=a??c.disableHoverableContent,h=s??c.delayDuration,m=S.useRef(!1),[y,x]=Mr({prop:n,defaultProp:o??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(yd))):c.onClose(),i?.(C)},caller:ca}),b=S.useMemo(()=>y?m.current?"delayed-open":"instant-open":"closed",[y]),w=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,m.current=!1,x(!0)},[x]),_=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),E=S.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{m.current=!0,x(!0),p.current=0},h)},[h,x]);return S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),v.jsx(ql,{...l,children:v.jsx(vk,{scope:e,contentId:d,open:y,stateAttribute:b,trigger:u,onTriggerChange:f,onTriggerEnter:S.useCallback(()=>{c.isOpenDelayedRef.current?E():w()},[c.isOpenDelayedRef,E,w]),onTriggerLeave:S.useCallback(()=>{g?_():(window.clearTimeout(p.current),p.current=0)},[_,g]),onOpen:w,onClose:_,disableHoverableContent:g,children:r})})};Cx.displayName=ca;var bd="TooltipTrigger",Ex=S.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,o=la(bd,r),i=xd(bd,r),a=bc(r),s=S.useRef(null),c=xt(e,s,o.onTriggerChange),l=S.useRef(!1),u=S.useRef(!1),f=S.useCallback(()=>l.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),v.jsx(Kl,{asChild:!0,...a,children:v.jsx(ft.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:c,onPointerMove:nt(t.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),u.current=!0)}),onPointerLeave:nt(t.onPointerLeave,()=>{o.onTriggerLeave(),u.current=!1}),onPointerDown:nt(t.onPointerDown,()=>{o.open&&o.onClose(),l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:nt(t.onFocus,()=>{l.current||o.onOpen()}),onBlur:nt(t.onBlur,o.onClose),onClick:nt(t.onClick,o.onClose)})})});Ex.displayName=bd;var wd="TooltipPortal",[gk,mk]=xc(wd,{forceMount:void 0}),_x=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:o}=t,i=la(wd,e);return v.jsx(gk,{scope:e,forceMount:r,children:v.jsx(Te,{present:r||i.open,children:v.jsx(Ja,{asChild:!0,container:o,children:n})})})};_x.displayName=wd;var Lo="TooltipContent",Tx=S.forwardRef((t,e)=>{const r=mk(Lo,t.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...i}=t,a=la(Lo,t.__scopeTooltip);return v.jsx(Te,{present:n||a.open,children:a.disableHoverableContent?v.jsx(Dx,{side:o,...i,ref:e}):v.jsx(yk,{side:o,...i,ref:e})})}),yk=S.forwardRef((t,e)=>{const r=la(Lo,t.__scopeTooltip),n=xd(Lo,t.__scopeTooltip),o=S.useRef(null),i=xt(e,o),[a,s]=S.useState(null),{trigger:c,onClose:l}=r,u=o.current,{onPointerInTransitChange:f}=n,d=S.useCallback(()=>{s(null),f(!1)},[f]),p=S.useCallback((g,h)=>{const m=g.currentTarget,y={x:g.clientX,y:g.clientY},x=Sk(y,m.getBoundingClientRect()),b=Ck(y,x),w=Ek(h.getBoundingClientRect()),_=Tk([...b,...w]);s(_),f(!0)},[f]);return S.useEffect(()=>()=>d(),[d]),S.useEffect(()=>{if(c&&u){const g=m=>p(m,u),h=m=>p(m,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",h),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",h)}}},[c,u,p,d]),S.useEffect(()=>{if(a){const g=h=>{const m=h.target,y={x:h.clientX,y:h.clientY},x=c?.contains(m)||u?.contains(m),b=!_k(y,a);x?d():b&&(d(),l())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,a,l,d]),v.jsx(Dx,{...t,ref:i})}),[xk,bk]=xc(ca,{isInside:!1}),wk=OS("TooltipContent"),Dx=S.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:a,...s}=t,c=la(Lo,r),l=bc(r),{onClose:u}=c;return S.useEffect(()=>(document.addEventListener(yd,u),()=>document.removeEventListener(yd,u)),[u]),S.useEffect(()=>{if(c.trigger){const f=d=>{d.target?.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),v.jsx($a,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:v.jsxs(Zl,{"data-state":c.stateAttribute,...l,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(wk,{children:n}),v.jsx(xk,{scope:r,isInside:!0,children:v.jsx(NE,{id:c.contentId,role:"tooltip",children:o||n})})]})})});Tx.displayName=Lo;var Rx="TooltipArrow",Mx=S.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,o=bc(r);return bk(Rx,r).isInside?null:v.jsx(Jl,{...o,...n,ref:e})});Mx.displayName=Rx;function Sk(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,o,i)){case i:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Ck(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Ek(t){const{top:e,right:r,bottom:n,left:o}=t;return[{x:o,y:e},{x:r,y:e},{x:r,y:n},{x:o,y:n}]}function _k(t,e){const{x:r,y:n}=t;let o=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const s=e[i],c=e[a],l=s.x,u=s.y,f=c.x,d=c.y;u>n!=d>n&&r<(f-l)*(n-u)/(d-u)+l&&(o=!o)}return o}function Tk(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Dk(e)}function Dk(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const o=t[n];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))e.pop();else break}e.push(o)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const o=t[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(o.y-a.y)>=(i.y-a.y)*(o.x-a.x))r.pop();else break}r.push(o)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Rk=Sx,Mk=Cx,Pk=Ex,Ok=_x,Nk=Tx,kk=Mx;function jk({delayDuration:t=0,...e}){return v.jsx(Rk,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function Px({...t}){return v.jsx(jk,{children:v.jsx(Mk,{"data-slot":"tooltip",...t})})}function Ox({...t}){return v.jsx(Pk,{"data-slot":"tooltip-trigger",...t})}function Nx({className:t,sideOffset:e=0,children:r,...n}){return v.jsx(Ok,{children:v.jsxs(Nk,{"data-slot":"tooltip-content",sideOffset:e,className:bt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[r,v.jsx(kk,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const Ak=()=>{const{status:t,lastSaved:e,saveNow:r,pendingSave:n}=Nc(),{json:o}=Nt(),i=()=>{if(!e)return"";const u=new Date().getTime()-e.getTime();if(u<6e4)return"just now";if(u<36e5){const d=Math.floor(u/6e4);return`${d} ${d===1?"minute":"minutes"} ago`}const f=Math.floor(u/36e5);return`${f} ${f===1?"hour":"hours"} ago`};if(!o)return null;const a=!n&&t!=="error",s=a?"No changes to save":"Save current changes",c=({icon:l,className:u})=>v.jsx(_e,{variant:"outline",size:"sm",className:"h-6 px-2 py-1",children:v.jsx(l,{className:`h-4 w-4 ${u||""}`})});return v.jsx("div",{className:"flex items-center gap-2 text-sm","data-save-status":t,"data-save-last-saved":i(),children:v.jsxs("div",{className:"flex items-center gap-1",children:[t==="idle"&&v.jsxs(Px,{children:[v.jsx(Ox,{asChild:!0,children:v.jsx(_e,{variant:"outline",size:"sm",className:"h-6 px-2 py-1",onClick:r,disabled:a,children:v.jsx(uh,{className:"h-4 w-4"})})}),v.jsx(Nx,{children:s})]}),t==="saving"&&v.jsx(c,{icon:gS,className:"animate-spin"}),t==="saved"&&v.jsx(c,{icon:Sl}),t==="error"&&v.jsx(c,{icon:aS})]})})},Ik=t=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 216 60",preserveAspectRatio:"xMidYMid meet",...t,children:[v.jsx("path",{fill:"currentColor",d:"m114.853 12.504 4.923.651a222.259 222.259 0 0 1-6.766 16.168 285.418 285.418 0 0 1-7.936 15.712l-6.029-.087c-4.958-10.026-9.107-20.5-12.446-31.424l5.117-.76a174.922 174.922 0 0 0 4.64 14.172 158.802 158.802 0 0 0 5.964 13.78 172.588 172.588 0 0 0 6.852-13.672 154.518 154.518 0 0 0 5.681-14.54ZM130.574 42.409c1.605 0 3.08-.478 4.424-1.432 1.345-.97 2.219-2.315 2.624-4.037l4.185.846a13.021 13.021 0 0 1-1.713 3.581 12.322 12.322 0 0 1-2.581 2.756 11.483 11.483 0 0 1-3.252 1.78c-1.171.42-2.4.63-3.687.63-1.908 0-3.599-.29-5.074-.869-1.474-.579-2.717-1.396-3.729-2.452-2.068-2.156-3.101-5.093-3.101-8.811 0-1.808.303-3.494.911-5.056.621-1.577 1.467-2.944 2.537-4.102a11.798 11.798 0 0 1 3.773-2.734c1.445-.666 3.007-.999 4.683-.999 1.504 0 2.921.297 4.251.89a11.355 11.355 0 0 1 3.534 2.409c1.027 1.042 1.872 2.264 2.537 3.668.665 1.403 1.084 2.922 1.258 4.557l-18.779 2.8c.101 1.026.354 1.952.759 2.777a7.24 7.24 0 0 0 1.562 2.062c1.286 1.157 2.912 1.736 4.878 1.736Zm-7.069-10.59 13.054-1.585-.13-.412c-.549-1.432-1.308-2.553-2.277-3.364-.954-.81-2.146-1.215-3.578-1.215-.607 0-1.272.109-1.994.326-.723.202-1.424.557-2.104 1.063-.679.506-1.294 1.186-1.843 2.04-.535.839-.911 1.888-1.128 3.147ZM155.642 41.15l-.564 4.319c-1.027-.015-1.937-.188-2.732-.521a7.321 7.321 0 0 1-2.06-1.302 8.08 8.08 0 0 1-1.562-1.801 14.694 14.694 0 0 1-1.062-2.062c-.694-1.65-1.128-3.516-1.301-5.599l.585-27.517h4.532l-.195 7.074a1292.69 1292.69 0 0 1-.173 5.86 774.54 774.54 0 0 1-.131 4.73 507.33 507.33 0 0 1-.086 3.668 323.2 323.2 0 0 0-.13 5.881c.014 1.331.209 2.532.585 3.603a6.7 6.7 0 0 0 1.496 2.56c.68.71 1.612 1.078 2.798 1.107ZM163.925 22.943l.173-9.506 4.316-.282-.152 9.7 8.413-.281-.325 4.058-8.131.217-.174 18.924-4.575.108.368-18.902-7.503.174.087-3.993 7.503-.217ZM185.935 15.477c0 .84-.311 1.563-.933 2.17a3.021 3.021 0 0 1-2.19.89 2.996 2.996 0 0 1-2.168-.89 3 3 0 0 1-.889-2.17c0-.853.296-1.584.889-2.191.607-.622 1.33-.934 2.168-.934.853 0 1.583.312 2.19.934.622.607.933 1.338.933 2.191Zm-5.508 7.813 4.488-.174-.216 10.417a422.184 422.184 0 0 0-.13 6.75 226.554 226.554 0 0 0-.066 4.708h-4.445c.015-.78.029-1.635.044-2.56.028-.94.05-1.946.065-3.017.029-1.866.072-4.13.13-6.793l.13-9.331ZM188.819 23.203l4.532-1.063 6.7 8.225 6.571-8.355 4.098 1.605-7.915 10.113 8.349 10.243-3.99 1.628-6.983-8.485-6.527 8.398-4.575-1.237 8.305-10.59-8.565-10.482Z"}),v.jsxs("g",{clipPath:"url(#a)",fill:"currentColor",children:[v.jsx("path",{fill:"currentColor",d:"M0 4a4 4 0 0 1 4-4h51.953a4 4 0 0 1 4 4v52a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4Z"}),v.jsx("path",{fill:"var(--logo-icon-fill)",d:"M50.474 21.563c.225.153.396.327.523.54.136.228.19.496.19.761-.002.335-.073.642-.294.936-.206.241-.42.473-.64.702-.132.14-.26.284-.388.427-.33.368-.665.73-1 1.093l-.602.652-.512.554c-.195.21-.389.42-.58.633-.293.326-.359.798-.079 1.135l.162.195c.212.254.426.506.64.758.226.266.445.538.662.812.195.241.395.477.596.713.195.229.386.46.576.693.219.269.441.535.666.8.274.323.544.65.812.98.11.133.22.264.333.394 1.25 1.447 1.25 1.447 1.243 2.372-.025.234-.1.409-.213.57-.173.245-.42.434-.697.548-.264.109-.544.158-.845.102-.849-.264-1.346-1.074-1.866-1.745-.22-.282-.447-.558-.674-.834l-.12-.146-.233-.28c-.236-.286-.47-.574-.705-.861l-.139-.17a384.773 384.773 0 0 1-1.558-1.915l-.319-.393c-.432-.535-1.224-.623-1.708-.135a157.54 157.54 0 0 1-.412.414l-.444.446-1.104 1.11a1654.076 1654.076 0 0 1-1.37 1.376l-.27.27-.12.122c-.247.247-.503.48-.767.708-.14.122-.275.248-.411.375-1.127 1.011-2.378 1.876-3.835 2.325l-.217.068c-1.688.445-3.44.05-4.932-.786-.71-.416-1.321-.98-1.912-1.549l-.109-.105c-.43-.415-.835-.838-1.207-1.307-.137-.172-.278-.34-.421-.507-1.384-1.614-1.384-1.614-1.352-2.543.047-.38.206-.607.491-.858.318-.233.609-.309.946-.31.302-.002.608.068.852.246.474.345.827.928 1.159 1.376 1.08 1.454 2.458 3.06 4.304 3.475 1.57.167 2.82-.545 4.007-1.497.253-.21.495-.432.733-.658.14-.131.28-.256.424-.38.35-.305.677-.634 1.005-.963l.2-.2.418-.418a295.7 295.7 0 0 1 1.14-1.14c.335-.336.662-.674.97-1.034.115-.131.236-.252.363-.372l.133-.127c.09-.087.181-.173.273-.258l.13-.127.12-.112c.118-.142.035-.343-.073-.492-.056-.077-.118-.148-.184-.226l-.164-.196c-.083-.1-.083-.1-.169-.2l-.3-.367c-.05-.06-.1-.122-.15-.185l-.287-.35a315.881 315.881 0 0 0-1.573-1.913c-.92-1.106-.92-1.106-.91-1.913.042-.379.21-.609.49-.858.307-.24.576-.341.902-.36a1.44 1.44 0 0 1 .82.19c.319.19.572.46.804.769.284.368.574.73.87 1.087.286.345.567.692.842 1.046l.135.174a1.47 1.47 0 0 0 2.325.011c.226-.276.46-.544.695-.813.215-.248.43-.496.642-.747l.49-.571c.05-.056.05-.056.098-.113.728-.84 1.567-1.536 2.68-.924Z"}),v.jsx("path",{fill:"var(--logo-icon-fill)",d:"M31.908 22.467c.281.23.541.479.8.733l.115.112c.509.492.982.995 1.417 1.555l.222.28c1.562 1.967 1.562 1.967 1.529 2.716-.071.512-.3.796-.694 1.12a1.098 1.098 0 0 1-.597.17c-.306.01-.62-.05-.87-.227-.428-.304-.745-.811-1.04-1.216-1.336-1.85-1.59-2.12-2.927-3.032l-.149-.102a3.157 3.157 0 0 0-.86-.414 2.696 2.696 0 0 0-2.103.412 7.68 7.68 0 0 0-.438.36l-.154.129c-.336.29-.631.594-.912.937l-.084.102c-.758.92-1.447 1.89-2.118 2.876l-.387.567c-.513.75-1.022 1.5-1.53 2.254l-.374.556c-.357.53-.713 1.06-1.066 1.59-.577.868-1.16 1.728-1.835 2.522l-.129.167c-.493.595-1.146 1.033-1.92 1.13-.622.025-1.067-.11-1.524-.449a2.11 2.11 0 0 1-.407-.406c-.52-.67-.894-1.445-1.286-2.194a140.949 140.949 0 0 0-.477-.902l-.143-.27-.216-.407c-.314-.592-.63-1.183-.947-1.774-.334-.623-.664-1.248-.99-1.876-.22-.424-.445-.843-.675-1.261a84.96 84.96 0 0 1-1.182-2.245c-.134-.262-.27-.522-.412-.779-.222-.407-.402-.78-.39-1.22.005-.211.07-.418.183-.596.118-.185.268-.34.443-.476.17-.132.365-.235.577-.267.19-.03.39-.023.58.01.21.037.41.125.578.257.514.402.795 1.025 1.088 1.608l.229.447.115.223c.159.307.326.61.493.913.366.664.711 1.337 1.056 2.011a68.14 68.14 0 0 0 1 1.886c.305.555.595 1.12.885 1.683.261.506.53 1.006.81 1.5.085.15.16.289.222.443a.288.288 0 0 0 .147.16c.04.018.083.026.124.03.154.014.31-.05.43-.148.29-.234.508-.557.722-.857l.123-.17c.373-.517.735-1.043 1.092-1.571l.48-.704.127-.188c.439-.644.884-1.284 1.33-1.924l.37-.533c.69-.992 1.383-1.988 2.157-2.918l.169-.204c2.435-2.92 5.776-4.816 9.223-2.13Z"})]}),v.jsx("defs",{children:v.jsx("clipPath",{id:"a",children:v.jsx("path",{fill:"currentColor",d:"M0 0h59.953v60H0z"})})})]}),Fk=({views:t=[],extraProps:e={},fallback:r=null})=>{if(!t.length)return r??null;const n=[...t].sort((o,i)=>(o.order??0)-(i.order??0));return v.jsx(v.Fragment,{children:n.map(o=>{const i=o.viewContainer;return v.jsxs(Px,{children:[v.jsx(Ox,{asChild:!0,children:v.jsx("span",{children:v.jsx(i,{...e})})}),v.jsx(Nx,{children:o.title})]},o.id)})})},Bk=t=>{const[e,r]=K.useState(t.value),{markForSave:n}=Nc(),o="hover:border hover:border-gray-600 focus:border focus:border-gray-600";return v.jsxs("div",{className:"max-w-[240px] overflow-hidden relative min-w-[120px] text-sm",children:[v.jsx("input",{tabIndex:-1,className:yi("appearance-none bg-transparent box-border font-[ligatures:none] border border-transparent rounded-md shadow-none  text-ellipsis outline-none absolute left-0 top-0 m-0 w-full h-9 p-2",o),maxLength:255,"aria-label":e,type:"text",autoComplete:"off",value:e,placeholder:"Untitled",onChange:i=>{r(i.target.value)},onBlur:()=>{t.onChange(e),n()},onKeyDown:i=>{const a=i.target;i.key==="Enter"&&(t.onChange(e),n(),a.blur())}}),v.jsx("div",{className:yi("appearance-none bg-transparent box-border font-[ligatures:none] border border-transparent rounded-md shadow-none text-ellipsis outline-none absolute left-0 top-0 m-0 w-full h-9 p-2 opacity-0 pointer-events-none relative whitespace-pre",o),children:e})]})},Lk=()=>{const{json:t,update:e}=Nt(),r=Yd().get("titlebar");return v.jsxs("header",{className:"flex h-14 items-center justify-between px-4 w-full z-10 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("a",{href:"/projects",title:"Veltix, Making Data Visualization Lightning Fast",className:"inline-block w-28 group relative",children:[v.jsx(Ik,{}),v.jsx("span",{className:"absolute top-0 left-0 w-8 h-8 bg-gray-300 opacity-0 group-hover:opacity-100 transition-opacity inline-flex items-center justify-center rounded-xs",children:v.jsx(iS,{})})]}),v.jsx(Ak,{})]}),v.jsx("div",{className:"flex-1"}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(Bk,{value:t?.title||"Untitled",onChange:n=>{e({title:n})}}),v.jsx(Fk,{views:r})]})]})},kx=K.memo(()=>v.jsxs("div",{className:"veltix-workbench",children:[v.jsx(Lk,{}),v.jsxs("div",{className:"flex h-[calc(100vh-48px)]",children:[v.jsx(X2,{}),v.jsx(dk,{}),v.jsx(fk,{}),v.jsx(lM,{})]})]}));kx.displayName="Veltix.Layout",Wr({id:"ai",title:"AI",icon:yh,render:()=>v.jsxs("div",{children:[v.jsx(yh,{})," AI"]})},dr.Sidebar);const Ed=class Ed extends S.PureComponent{constructor(e){super(e),this.state={selectedTargets:[]},this.memory=new lb,this.moveableData=new Jw(this.memory),this.horizontalGuides=S.createRef(),this.verticalGuides=S.createRef(),this.infiniteViewer=S.createRef(),this.selecto=S.createRef(),this.moveableManager=S.createRef(),this.api=this.props.api,this.getSelecto=()=>this.selecto.current,this.getMoveable=()=>this.moveableManager.current.getMoveable(),this.getSelectedTargets=()=>this.state.selectedTargets,this.getSelectedFrames=()=>this.moveableData.getSelectedFrames();const r=this.props.components||[];this.registry=new Fd([...r,...bx]),Yd.getState().create(this.props.contributes),this.props.data&&(Nt.getState().initialize(this.props.data),this.props.data.id&&Nc.getState().watch(this.props.data.id)),this.props.api&&zd.getState().setApi(this.props.api)}get config(){return{doc:{width:this.props.config?.doc?.width||1920,height:this.props.config?.doc?.height||1080}}}get width(){let{width:e}=this.props;return this.props.data?.width&&(e=this.props.data.width),e}get height(){let{height:e}=this.props;return this.props.data?.width&&(e=this.props.data.height),e}get selectedTargets(){return this.state.selectedTargets}render(){return v.jsx(ya.Provider,{value:this,children:v.jsx(kx,{})})}remove(e){const r=e.map(o=>({pageId:o.getAttribute("data-veltix-page-id"),id:o.dataset.scenaElementId})),n=this.state.selectedTargets.filter(o=>!e.includes(o));this.setState({selectedTargets:n}),r.forEach(o=>{Nt.getState().removeNode(o.pageId,o.id)})}async componentDidMount(){const{infiniteViewer:e}=this;requestAnimationFrame(()=>{e.current?.scrollCenter()})}componentWillUnmount(){this.memory.clear(),this.moveableData.clear()}promiseState(e){return new Promise(r=>{this.setState(e,()=>{r()})})}setSelectedTargets(e){const r=e.map(n=>n.dataset.scenaElementId);return Ce.getState().setSelectedTargets(r),e=e.filter(n=>e.every(o=>o===n||!o.contains(n))),this.promiseState({selectedTargets:e}).then(()=>(this.selecto.current.setSelectedTargets(e),this.moveableData.setSelectedTargets(e),e))}checkBlur(){const e=document.activeElement;e&&e.blur();const r=document.getSelection();r&&r.removeAllRanges()}};Ed.defaultProps={width:400,height:600};let Sd=Ed;var jx=(t=>(t.MySQL="MySQL",t.PostgreSQL="PostgreSQL",t.MongoDB="MongoDB",t.REST_API="REST_API",t.GRAPHQL="GRAPHQL",t.WEBSOCKET="WEBSOCKET",t.CUSTOM="CUSTOM",t))(jx||{}),Ax=(t=>(t.CONNECTED="CONNECTED",t.DISCONNECTED="DISCONNECTED",t.FAILED="FAILED",t.TESTING="TESTING",t))(Ax||{}),Ix=(t=>(t.READY="READY",t.ERROR="ERROR",t.PENDING="PENDING",t))(Ix||{});const zk=Er(()=>({version:"0.0.1",registerViewContainer:(t,e)=>{Fa.getState().registerViewContainer(t,e)}})),Gk={},$k=Sd;Se.ConnectionStatus=Ax,Se.DataSourceType=jx,Se.DatasetStatus=Ix,Se.Veltix=$k,Se.useVeltixStore=zk,Se.veltixStore=Gk,Object.defineProperty(Se,Symbol.toStringTag,{value:"Module"})});
